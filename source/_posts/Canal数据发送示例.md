---
title: Canal数据发送示例
date: 2021-11-16 16:17:58
tags:
- Canal
categories:
- Canal
---

* 创建表

```json
{
    "data": null, 
    "database": "canal", 
    "es": 1616409970000, 
    "id": 16, 
    "isDdl": false, 
    "mysqlType": null, 
    "old": null, 
    "pkNames": null, 
    "sql": "create table numax_test1(id int,name varchar(32))", 
    "sqlType": null, 
    "table": "numax_test1", 
    "ts": 1616409970920, 
    "type": "CREATE"
}
```

* 删除表

```json
{
    "data": null, 
    "database": "canal", 
    "es": 1616410007000, 
    "id": 17, 
    "isDdl": false, 
    "mysqlType": null, 
    "old": null, 
    "pkNames": null, 
    "sql": "DROP TABLE `numax_test1` /* generated by server */", 
    "sqlType": null, 
    "table": "numax_test1", 
    "ts": 1616410007670, 
    "type": "ERASE"
}
```

* 插入数据

```json
{
    "data": [
        {
            "id": "16", 
            "name": "lisi", 
            "age": "10"
        }
    ], 
    "database": "canal", 
    "es": 1616377224000, 
    "id": 4138, 
    "isDdl": false, 
    "mysqlType": {
        "id": "bigint", 
        "name": "varchar(255)", 
        "age": "int"
    }, 
    "old": null, 
    "pkNames": [
        "id"
    ], 
    "sql": "", 
    "sqlType": {
        "id": -5, 
        "name": 12, 
        "age": 4
    }, 
    "table": "canal_user", 
    "ts": 1616377224978, 
    "type": "INSERT"
}
```

* 更新数据

```json
{
    "data": [
        {
            "id": "1", 
            "name": "lisi", 
            "age": "10"
        }
    ], 
    "database": "canal", 
    "es": 1616377528000, 
    "id": 4144, 
    "isDdl": false, 
    "mysqlType": {
        "id": "bigint", 
        "name": "varchar(255)", 
        "age": "int"
    }, 
    "old": [
        {
            "name": "zs"
        }
    ], 
    "pkNames": [
        "id"
    ], 
    "sql": "", 
    "sqlType": {
        "id": -5, 
        "name": 12, 
        "age": 4
    }, 
    "table": "canal_user", 
    "ts": 1616377528887, 
    "type": "UPDATE"
}
```

* 删除数据

```json
{
    "data": [
        {
            "id": "1", 
            "name": "lisi", 
            "age": "10"
        }
    ], 
    "database": "canal", 
    "es": 1616377885000, 
    "id": 4156, 
    "isDdl": false, 
    "mysqlType": {
        "id": "bigint", 
        "name": "varchar(255)", 
        "age": "int"
    }, 
    "old": null, 
    "pkNames": [
        "id"
    ], 
    "sql": "", 
    "sqlType": {
        "id": -5, 
        "name": 12, 
        "age": 4
    }, 
    "table": "canal_user", 
    "ts": 1616377885690, 
    "type": "DELETE"
}
```

