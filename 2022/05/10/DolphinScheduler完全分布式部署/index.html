<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="DolphinScheduler-3.0.0-alpha完全分布式部署前置环境准备 JDK：下载JDK (1.8+)，并将 JAVA_HOME 配置到以及 PATH 变量中。如果你的环境中已存在，可以跳过这步。 二进制包：在下载页面下载 DolphinScheduler 二进制包 数据库：PostgreSQL (8.2.15+) 或者 MySQL (5.7+)，两者任选其一即可，如 MySQL 则">
<meta property="og:type" content="article">
<meta property="og:title" content="DolphinScheduler完全分布式部署">
<meta property="og:url" content="http://yoursite.com/2022/05/10/DolphinScheduler%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2/index.html">
<meta property="og:site_name" content="没有尾巴的小驴">
<meta property="og:description" content="DolphinScheduler-3.0.0-alpha完全分布式部署前置环境准备 JDK：下载JDK (1.8+)，并将 JAVA_HOME 配置到以及 PATH 变量中。如果你的环境中已存在，可以跳过这步。 二进制包：在下载页面下载 DolphinScheduler 二进制包 数据库：PostgreSQL (8.2.15+) 或者 MySQL (5.7+)，两者任选其一即可，如 MySQL 则">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-05-10T01:43:06.000Z">
<meta property="article:modified_time" content="2025-06-25T08:08:45.482Z">
<meta property="article:author" content="Rui Zhang">
<meta property="article:tag" content="DolphinScheduler">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2022/05/10/DolphinScheduler%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>DolphinScheduler完全分布式部署 | 没有尾巴的小驴</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">没有尾巴的小驴</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">记录生活</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">52</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/05/10/DolphinScheduler%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="Rui Zhang">
      <meta itemprop="description" content="不在沉默中爆发，就在沉默中灭亡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="没有尾巴的小驴">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          DolphinScheduler完全分布式部署
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-10 09:43:06" itemprop="dateCreated datePublished" datetime="2022-05-10T09:43:06+08:00">2022-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-25 16:08:45" itemprop="dateModified" datetime="2025-06-25T16:08:45+08:00">2025-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DolphinScheduler/" itemprop="url" rel="index"><span itemprop="name">DolphinScheduler</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="DolphinScheduler-3-0-0-alpha完全分布式部署"><a href="#DolphinScheduler-3-0-0-alpha完全分布式部署" class="headerlink" title="DolphinScheduler-3.0.0-alpha完全分布式部署"></a>DolphinScheduler-3.0.0-alpha完全分布式部署</h1><h2 id="前置环境准备"><a href="#前置环境准备" class="headerlink" title="前置环境准备"></a>前置环境准备</h2><ul>
<li>JDK：下载<a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">JDK</a> (1.8+)，并将 JAVA_HOME 配置到以及 PATH 变量中。如果你的环境中已存在，可以跳过这步。</li>
<li>二进制包：在<a href="https://dolphinscheduler.apache.org/zh-cn/download/download.html" target="_blank" rel="noopener">下载页面</a>下载 DolphinScheduler 二进制包</li>
<li>数据库：<a href="https://www.postgresql.org/download/" target="_blank" rel="noopener">PostgreSQL</a> (8.2.15+) 或者 <a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">MySQL</a> (5.7+)，两者任选其一即可，如 MySQL 则需要 JDBC Driver 8.0.16</li>
<li>注册中心：<a href="https://zookeeper.apache.org/releases.html" target="_blank" rel="noopener">ZooKeeper</a> (3.4.6+)，<a href="https://zookeeper.apache.org/releases.html" target="_blank" rel="noopener">下载地址</a></li>
<li>进程树分析<ul>
<li>macOS安装<code>pstree</code></li>
<li>Fedora/Red/Hat/CentOS/Ubuntu/Debian安装<code>psmisc</code></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意:</strong> DolphinScheduler 本身不依赖 Hadoop、Hive、Spark，但如果你运行的任务需要依赖他们，就需要有对应的环境支持</p>
</blockquote>
<h2 id="准备-DolphinScheduler-启动环境"><a href="#准备-DolphinScheduler-启动环境" class="headerlink" title="准备 DolphinScheduler 启动环境"></a>准备 DolphinScheduler 启动环境</h2><h3 id="配置用户免密及权限"><a href="#配置用户免密及权限" class="headerlink" title="配置用户免密及权限"></a>配置用户免密及权限</h3><p>创建部署用户，并且一定要配置 <code>sudo</code> 免密。以创建 dolphinscheduler 用户为例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建用户需使用 root 登录</span></span><br><span class="line">useradd dolphinscheduler</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加密码</span></span><br><span class="line">echo "dolphinscheduler" | passwd --stdin dolphinscheduler</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 配置 sudo 免密</span></span><br><span class="line">sed -i '$adolphinscheduler  ALL=(ALL)  NOPASSWD: NOPASSWD: ALL' /etc/sudoers</span><br><span class="line">sed -i 's/Defaults    requirett/#Defaults    requirett/g' /etc/sudoers</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意:</strong></p>
<ul>
<li>因为任务执行服务是以 <code>sudo -u {linux-user}</code> 切换不同 linux 用户的方式来实现多租户运行作业，所以部署用户需要有 sudo 权限，而且是免密的。</li>
<li>如果发现 <code>/etc/sudoers</code> 文件中有 “Defaults requirett” 这行，也请注释掉</li>
<li>三台服务器都要进行同样的上述操作</li>
</ul>
</blockquote>
<h3 id="配置机器SSH免密登陆"><a href="#配置机器SSH免密登陆" class="headerlink" title="配置机器SSH免密登陆"></a>配置机器SSH免密登陆</h3><p>由于安装的时候需要向不同机器发送资源，所以要求<strong>各台机器间能实现SSH免密登陆</strong>。配置免密登陆的步骤如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 登陆bigdata1</span></span><br><span class="line">[root@bigdata1 dolphinscheduler]# su dolphinscheduler</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]# cd /home/dolphinscheduler/.ssh</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]# ssh-keygen -t rsa</span><br><span class="line"><span class="meta">#</span><span class="bash"> 然后敲（三个回车），就会生成两个文件id_rsa（私钥）、id_rsa.pub（公钥）</span></span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]# ssh-copy-id bigdata1</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]# ssh-copy-id bigdata2</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]# ssh-copy-id bigdata3</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong> 三台服务器都要进行同样的上述操作</p>
</blockquote>
<h3 id="启动zookeeper"><a href="#启动zookeeper" class="headerlink" title="启动zookeeper"></a>启动zookeeper</h3><p>进入 zookeeper 的安装目录，将 <code>zoo_sample.cfg</code> 配置文件复制到 <code>conf/zoo.cfg</code>，并将 <code>conf/zoo.cfg</code> 中 dataDir 中的值改成 <code>dataDir=./tmp/zookeeper</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 启动 zookeeper</span></span><br><span class="line">./bin/zkServer.sh start</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>若系统已经存在zookeeper则忽略此步骤。</p>
</blockquote>
<h2 id="修改相关配置"><a href="#修改相关配置" class="headerlink" title="修改相关配置"></a>修改相关配置</h2><p>登陆部署账户dolphinscheduler，将下载的部署包放在 <strong>/home/dolphinscheduler/</strong>  对应账户的家目录下,</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]$ <span class="built_in">pwd</span></span><br><span class="line">/home/dolphinscheduler/apache-dolphinscheduler-3.0.0-alpha-bin</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]$ mv apache-dolphinscheduler-3.0.0-alpha-bin dolphinscheduler</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]$ <span class="built_in">cd</span> dolphinscheduler</span><br><span class="line"><span class="comment"># 修改目录权限，使得部署用户对二进制包解压后的 apache-dolphinscheduler-*-bin 目录有操作权限</span></span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]$ chown -R dolphinscheduler:dolphinscheduler dolphinscheduler</span><br></pre></td></tr></table></figure>


<p>完成基础环境的准备后，需要根据你的机器环境修改配置文件。配置文件可以在目录 <code>&lt;bin|alert-server|api-server|master-server|worker-server|tools&gt;/dolphinscheduler_env.sh|application.yaml</code> 六个sh文件和5个yaml文件以及 <code>bin/env/install_env.sh</code> 找到他们。</p>
<h3 id="修改-install-env-sh-文件"><a href="#修改-install-env-sh-文件" class="headerlink" title="修改 install_env.sh 文件"></a>修改 <code>install_env.sh</code> 文件</h3><p>文件 <code>install_env.sh</code> 描述了哪些机器将被安装 DolphinScheduler 以及每台机器对应安装哪些服务。您可以在路径 <code>bin/env/install_env.sh</code> 中找到此文件，配置详情如下。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> INSTALL MACHINE</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ---------------------------------------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> A comma separated list of machine hostname or IP would be installed DolphinScheduler,</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> including master, worker, api, alert. If you want to deploy <span class="keyword">in</span> pseudo-distributed</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mode, just write a pseudo-distributed hostname</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example <span class="keyword">for</span> hostnames: ips=<span class="string">"ds1,ds2,ds3,ds4,ds5"</span>, Example <span class="keyword">for</span> IPs: ips=<span class="string">"192.168.8.1,192.168.8.2,192.168.8.3,192.168.8.4,192.168.8.5"</span></span></span><br><span class="line">ips=$&#123;ips:-"bigdata1,bigdata2,bigdata3"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Port of SSH protocol, default value is 22. For now we only support same port <span class="keyword">in</span> all `ips` machine</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> modify it <span class="keyword">if</span> you use different ssh port</span></span><br><span class="line">sshPort=$&#123;sshPort:-"22"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> A comma separated list of machine hostname or IP would be installed Master server, it</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example <span class="keyword">for</span> hostnames: masters=<span class="string">"ds1,ds2"</span>, Example <span class="keyword">for</span> IPs: masters=<span class="string">"192.168.8.1,192.168.8.2"</span></span></span><br><span class="line">masters=$&#123;masters:-"bigdata1"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> A comma separated list of machine &lt;hostname&gt;:&lt;workerGroup&gt; or &lt;IP&gt;:&lt;workerGroup&gt;.All hostname or IP must be a</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> subset of configuration `ips`, And workerGroup have default value as `default`, but we recommend you <span class="built_in">declare</span> behind the hosts</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example <span class="keyword">for</span> hostnames: workers=<span class="string">"ds1:default,ds2:default,ds3:default"</span>, Example <span class="keyword">for</span> IPs: workers=<span class="string">"192.168.8.1:default,192.168.8.2:default,192.168.8.3:default"</span></span></span><br><span class="line">workers=$&#123;workers:-"bigdata2:default,bigdata3:default"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> A comma separated list of machine hostname or IP would be installed Alert server, it</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example <span class="keyword">for</span> hostname: alertServer=<span class="string">"ds3"</span>, Example <span class="keyword">for</span> IP: alertServer=<span class="string">"192.168.8.3"</span></span></span><br><span class="line">alertServer=$&#123;alertServer:-"bigdata3"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> A comma separated list of machine hostname or IP would be installed API server, it</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Example <span class="keyword">for</span> hostname: apiServers=<span class="string">"ds1"</span>, Example <span class="keyword">for</span> IP: apiServers=<span class="string">"192.168.8.1"</span></span></span><br><span class="line">apiServers=$&#123;apiServers:-"bigdata1"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> The directory to install DolphinScheduler <span class="keyword">for</span> all machine we config above. It will automatically be created by `install.sh` script <span class="keyword">if</span> not exists.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Do not <span class="built_in">set</span> this configuration same as the current path (<span class="built_in">pwd</span>)</span></span><br><span class="line">installPath=$&#123;installPath:-"/opt/module/dolphinscheduler"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> The user to deploy DolphinScheduler <span class="keyword">for</span> all machine we config above. For now user must create by yourself before running `install.sh`</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> script. The user needs to have sudo privileges and permissions to operate hdfs. If hdfs is enabled than the root directory needs</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> to be created by this user</span></span><br><span class="line">deployUser=$&#123;deployUser:-"dolphinscheduler"&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> The root of zookeeper, <span class="keyword">for</span> now DolphinScheduler default registry server is zookeeper.</span></span><br><span class="line">zkRoot=$&#123;zkRoot:-"/dolphinscheduler"&#125;</span><br></pre></td></tr></table></figure>

<h3 id="修改-dolphinscheduler-env-sh-文件"><a href="#修改-dolphinscheduler-env-sh-文件" class="headerlink" title="修改 dolphinscheduler_env.sh 文件"></a>修改 <code>dolphinscheduler_env.sh</code> 文件</h3><p><strong>修改所有配置文件</strong>在 <code>&lt;bin|alert-server|api-server|master-server|worker-server|tools&gt;/dolphinscheduler_env.sh</code> 可以找到。此描述了下列配置：</p>
<ul>
<li>DolphinScheduler 的数据库配置，详细配置方法见<a href="https://dolphinscheduler.apache.org/zh-cn/docs/latest/user_doc/guide/installation/pseudo-cluster.html#初始化数据库" target="_blank" rel="noopener">初始化数据库</a></li>
<li>一些任务类型外部依赖路径或库文件，如 <code>JAVA_HOME</code> 和 <code>SPARK_HOME</code>都是在这里定义的</li>
<li>注册中心<code>zookeeper</code></li>
<li>服务端相关配置，比如缓存，时区设置等</li>
</ul>
<p>如果您不使用某些任务类型，您可以忽略任务外部依赖项，但您必须根据您的环境更改 <code>JAVA_HOME</code>、注册中心和数据库相关配置。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HADOOP_HOME=<span class="variable">$&#123;HADOOP_HOME:-/usr/hdp/3.1.4.0-315/hadoop&#125;</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_CONF_DIR=<span class="variable">$&#123;HADOOP_CONF_DIR:-/usr/hdp/3.1.4.0-315/hadoop/etc/hadoop&#125;</span></span><br><span class="line"><span class="comment">#export SPARK_HOME1=$&#123;SPARK_HOME1:-/opt/soft/spark1&#125;</span></span><br><span class="line"><span class="built_in">export</span> SPARK_HOME2=<span class="variable">$&#123;SPARK_HOME2:-/usr/hdp/3.1.4.0-315/spark2&#125;</span></span><br><span class="line"><span class="built_in">export</span> PYTHON_HOME=<span class="variable">$&#123;PYTHON_HOME:-/usr/bin/python&#125;</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=<span class="variable">$&#123;JAVA_HOME:-/opt/jdk/jdk1.8.0_181&#125;</span></span><br><span class="line"><span class="built_in">export</span> HIVE_HOME=<span class="variable">$&#123;HIVE_HOME:-/usr/hdp/3.1.4.0-315/hive&#125;</span></span><br><span class="line"><span class="built_in">export</span> FLINK_HOME=<span class="variable">$&#123;FLINK_HOME:-/opt/module/flink&#125;</span></span><br><span class="line"><span class="built_in">export</span> DATAX_HOME=<span class="variable">$&#123;DATAX_HOME:-/opt/module/datax-web/datax&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$SPARK_HOME1</span>/bin:<span class="variable">$SPARK_HOME2</span>/bin:<span class="variable">$PYTHON_HOME</span>/bin:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$HIVE_HOME</span>/bin:<span class="variable">$FLINK_HOME</span>/bin:<span class="variable">$DATAX_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPRING_JACKSON_TIME_ZONE=<span class="variable">$&#123;SPRING_JACKSON_TIME_ZONE:-UTC&#125;</span></span><br><span class="line"><span class="built_in">export</span> DATABASE=<span class="variable">$&#123;DATABASE:-mysql&#125;</span></span><br><span class="line"><span class="built_in">export</span> SPRING_PROFILES_ACTIVE=<span class="variable">$&#123;DATABASE&#125;</span></span><br><span class="line"><span class="built_in">export</span> SPRING_DATASOURCE_DRIVER_CLASS_NAME=com.mysql.cj.jdbc.Driver</span><br><span class="line"><span class="built_in">export</span> SPRING_DATASOURCE_URL=jdbc:mysql://bigdata1:3306/dolphinscheduler?useUnicode=<span class="literal">true</span>&amp;characterEncoding=UTF-8</span><br><span class="line"><span class="built_in">export</span> SPRING_DATASOURCE_USERNAME=dolphinscheduler</span><br><span class="line"><span class="built_in">export</span> SPRING_DATASOURCE_PASSWORD=dolphinscheduler</span><br><span class="line"><span class="built_in">export</span> SPRING_CACHE_TYPE=<span class="variable">$&#123;SPRING_CACHE_TYPE:-none&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> MASTER_FETCH_COMMAND_NUM=<span class="variable">$&#123;MASTER_FETCH_COMMAND_NUM:-10&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> REGISTRY_TYPE=<span class="variable">$&#123;REGISTRY_TYPE:-zookeeper&#125;</span></span><br><span class="line"><span class="built_in">export</span> REGISTRY_ZOOKEEPER_CONNECT_STRING=<span class="variable">$&#123;REGISTRY_ZOOKEEPER_CONNECT_STRING:-bigdata1,bigdata2,bigdata3:2181&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="修改application-properties文件"><a href="#修改application-properties文件" class="headerlink" title="修改application.properties文件"></a>修改application.properties文件</h3><p><strong>修改所有配置文件</strong>在 alert-server|api-server|master-server|worker-server|tools -&gt;application.properties</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## mysql配置修改</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://bigdata1:3306/dolphinscheduler</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">dolphinscheduler</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">dolphinscheduler</span></span><br><span class="line">	<span class="string">......</span></span><br><span class="line"><span class="comment"># Override by profile</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">config:</span></span><br><span class="line">    <span class="attr">activate:</span></span><br><span class="line">      <span class="attr">on-profile:</span> <span class="string">mysql</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://bigdata1:3306/dolphinscheduler?useUnicode=true&amp;characterEncoding=UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## ZK配置修改</span></span><br><span class="line"><span class="attr">registry:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">zookeeper</span></span><br><span class="line">  <span class="attr">zookeeper:</span></span><br><span class="line">    <span class="attr">namespace:</span> <span class="string">dolphinscheduler</span></span><br><span class="line">    <span class="attr">connect-string:</span> <span class="string">bigdata1:2181,bigdata2:2181,bigdata3:2181</span></span><br></pre></td></tr></table></figure>

<h3 id="修改配置开启资源存储"><a href="#修改配置开启资源存储" class="headerlink" title="修改配置开启资源存储"></a>修改配置开启资源存储</h3><p><strong>修改所有配置文件</strong>在 alert-server|api-server|bin-&gt;env|master-server|worker-server|tools   –&gt;  common.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># resource storage type: HDFS, S3, NONE</span></span><br><span class="line"><span class="meta">resource.storage.type</span>=<span class="string">HDFS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resource store on HDFS/S3 path, resource file will store to this hadoop hdfs path, self configuration, please make sure the directory exists on hdfs and have read write permissions. "/dolphinscheduler" is recommended</span></span><br><span class="line"><span class="meta">resource.upload.path</span>=<span class="string">/dolphinscheduler</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># whether to startup kerberos</span></span><br><span class="line"><span class="meta">hadoop.security.authentication.startup.state</span>=<span class="string">false</span></span><br><span class="line"><span class="comment"># java.security.krb5.conf path</span></span><br><span class="line"><span class="meta">java.security.krb5.conf.path</span>=<span class="string">/opt/krb5.conf</span></span><br><span class="line"><span class="comment"># login user from keytab username</span></span><br><span class="line"><span class="meta">login.user.keytab.username</span>=<span class="string">hdfs-mycluster@ESZ.COM</span></span><br><span class="line"><span class="comment"># login user from keytab path</span></span><br><span class="line"><span class="meta">login.user.keytab.path</span>=<span class="string">/opt/hdfs.headless.keytab</span></span><br><span class="line"><span class="comment"># kerberos expire time, the unit is hour</span></span><br><span class="line"><span class="meta">kerberos.expire.time</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resource view suffixs</span></span><br><span class="line"><span class="comment">#resource.view.suffixs=txt,log,sh,bat,conf,cfg,py,java,sql,xml,hql,properties,json,yml,yaml,ini,js</span></span><br><span class="line"><span class="comment"># if resource.storage.type=HDFS, the user must have the permission to create directories under the HDFS root path</span></span><br><span class="line"><span class="meta">hdfs.root.user</span>=<span class="string">hdfs</span></span><br><span class="line"><span class="comment"># if resource.storage.type=S3, the value like: s3a://dolphinscheduler; if resource.storage.type=HDFS and namenode HA is enabled, you need to copy core-site.xml and hdfs-site.xml to conf dir</span></span><br><span class="line"><span class="meta">fs.defaultFS</span>=<span class="string">hdfs://bigdata1:8020</span></span><br></pre></td></tr></table></figure>



<h2 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h2><p>DolphinScheduler 元数据存储在关系型数据库中，目前支持 PostgreSQL 和 MySQL，如果使用 MySQL 则需要手动下载 <a href="https://downloads.mysql.com/archives/c-j/" target="_blank" rel="noopener">mysql-connector-java 驱动</a> (8.0.16) 并移动到 DolphinScheduler 的 lib目录下（<code>tools/libs/</code>）。注意为了更好操作请将 mysql驱动放到alert-server|api-server|master-server|worker-server|tools下面的libs里面下面以 MySQL 为例，说明如何初始化数据库</p>
<p>对于mysql 5.6 / 5.7：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br><span class="line"></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> CREATE DATABASE dolphinscheduler DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> dolphinscheduler 和 dolphinscheduler 为希望的用户名和密码</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> GRANT ALL PRIVILEGES ON dolphinscheduler.* TO <span class="string">'dolphinscheduler'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'dolphinscheduler'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> GRANT ALL PRIVILEGES ON dolphinscheduler.* TO <span class="string">'dolphinscheduler'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'dolphinscheduler'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> flush privileges;</span></span><br></pre></td></tr></table></figure>

<p>对于mysql 8：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br><span class="line"></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> CREATE DATABASE dolphinscheduler DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> dolphinscheduler 和 dolphinscheduler 为希望的用户名和密码</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> CREATE USER <span class="string">'dolphinscheduler'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'dolphinscheduler'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> GRANT ALL PRIVILEGES ON dolphinscheduler.* TO <span class="string">'dolphinscheduler'</span>@<span class="string">'%'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> CREATE USER <span class="string">'dolphinscheduler'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'dolphinscheduler'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> GRANT ALL PRIVILEGES ON dolphinscheduler.* TO <span class="string">'dolphinscheduler'</span>@<span class="string">'localhost'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> FLUSH PRIVILEGES;</span></span><br></pre></td></tr></table></figure>

<p>然后修改<code>./bin/dolphinscheduler_env.sh</code>，将username和password改成你在上一步中设置的用户名{user}和密码{password}</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export DATABASE=$&#123;DATABASE:-mysql&#125;</span><br><span class="line">export SPRING_PROFILES_ACTIVE=$&#123;DATABASE&#125;</span><br><span class="line">export SPRING_DATASOURCE_DRIVER_CLASS_NAME=com.mysql.cj.jdbc.Driver</span><br><span class="line">export SPRING_DATASOURCE_URL=jdbc:mysql://bigdata1:3306/dolphinscheduler?useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class="line">export SPRING_DATASOURCE_USERNAME=dolphinscheduler</span><br><span class="line">export SPRING_DATASOURCE_PASSWORD=dolphinscheduler</span><br></pre></td></tr></table></figure>

<p>完成上述步骤后，您已经为 DolphinScheduler 创建一个新数据库，现在你可以通过快速的 Shell 脚本来初始化数据库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh tools/bin/create-schema.sh</span><br></pre></td></tr></table></figure>

<h2 id="启动-DolphinScheduler"><a href="#启动-DolphinScheduler" class="headerlink" title="启动 DolphinScheduler"></a>启动 DolphinScheduler</h2><p>登陆上面创建的系统相应的<strong>部署用户</strong>运行以下命令自动完成分布式部署、运行、并启动，部署后的运行日志将存放在 logs 文件夹内</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata1 dolphinscheduler]# su dolphinscheduler</span><br><span class="line">[dolphinscheduler@bigdata1 dolphinscheduler]$ sh ./bin/install.sh</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong><em>注意:\</em></strong> 第一次部署的话，可能出现 5 次<code>sh: bin/dolphinscheduler-daemon.sh: No such file or directory</code>相关信息，次为非重要信息直接忽略即可</p>
</blockquote>
<h2 id="登录-DolphinScheduler"><a href="#登录-DolphinScheduler" class="headerlink" title="登录 DolphinScheduler"></a>登录 DolphinScheduler</h2><p>浏览器访问地址 <a href="http://localhost:12345/dolphinscheduler" target="_blank" rel="noopener">http://localhost:12345/dolphinscheduler</a> 即可登录系统UI。默认的用户名和密码是 <strong>admin/dolphinscheduler123</strong></p>
<h2 id="启停服务"><a href="#启停服务" class="headerlink" title="启停服务"></a>启停服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 登陆系统账户dolphinscheduler</span></span><br><span class="line">[root@bigdata1 dolphinscheduler]# su dolphinscheduler</span><br><span class="line"><span class="meta">#</span><span class="bash"> 一键停止集群所有服务</span></span><br><span class="line">sh ./bin/stop-all.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 一键开启集群所有服务</span></span><br><span class="line">sh ./bin/start-all.sh</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启停 Master</span></span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh stop master-server</span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh start master-server</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启停 Worker</span></span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh start worker-server</span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh stop worker-server</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启停 Api</span></span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh start api-server</span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh stop api-server</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 启停 Alert</span></span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh start alert-server</span><br><span class="line">sh ./bin/dolphinscheduler-daemon.sh stop alert-server</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong>Python gateway service 默认与 api-server 一起启动，如果您不想启动 Python gateway service 请通过更改 api-server 配置文件 <code>api-server/conf/application.yaml</code> 中的 <code>python-gateway.enabled : false</code> 来禁用它。</p>
</blockquote>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Rui Zhang
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://yoursite.com/2022/05/10/DolphinScheduler%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2/" title="DolphinScheduler完全分布式部署">http://yoursite.com/2022/05/10/DolphinScheduler完全分布式部署/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/DolphinScheduler/" rel="tag"># DolphinScheduler</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/04/28/Hadoop%E4%B9%8BYarn/" rel="prev" title="Hadoop之Yarn">
      <i class="fa fa-chevron-left"></i> Hadoop之Yarn
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/06/10/Datahub%E5%85%83%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2%E6%AD%A5%E9%AA%A4/" rel="next" title="Datahub元数据管理系统部署步骤">
      Datahub元数据管理系统部署步骤 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#DolphinScheduler-3-0-0-alpha完全分布式部署"><span class="nav-number">1.</span> <span class="nav-text">DolphinScheduler-3.0.0-alpha完全分布式部署</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#前置环境准备"><span class="nav-number">1.1.</span> <span class="nav-text">前置环境准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#准备-DolphinScheduler-启动环境"><span class="nav-number">1.2.</span> <span class="nav-text">准备 DolphinScheduler 启动环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#配置用户免密及权限"><span class="nav-number">1.2.1.</span> <span class="nav-text">配置用户免密及权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置机器SSH免密登陆"><span class="nav-number">1.2.2.</span> <span class="nav-text">配置机器SSH免密登陆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#启动zookeeper"><span class="nav-number">1.2.3.</span> <span class="nav-text">启动zookeeper</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改相关配置"><span class="nav-number">1.3.</span> <span class="nav-text">修改相关配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-install-env-sh-文件"><span class="nav-number">1.3.1.</span> <span class="nav-text">修改 install_env.sh 文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-dolphinscheduler-env-sh-文件"><span class="nav-number">1.3.2.</span> <span class="nav-text">修改 dolphinscheduler_env.sh 文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改application-properties文件"><span class="nav-number">1.3.3.</span> <span class="nav-text">修改application.properties文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改配置开启资源存储"><span class="nav-number">1.3.4.</span> <span class="nav-text">修改配置开启资源存储</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化数据库"><span class="nav-number">1.4.</span> <span class="nav-text">初始化数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#启动-DolphinScheduler"><span class="nav-number">1.5.</span> <span class="nav-text">启动 DolphinScheduler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#登录-DolphinScheduler"><span class="nav-number">1.6.</span> <span class="nav-text">登录 DolphinScheduler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#启停服务"><span class="nav-number">1.7.</span> <span class="nav-text">启停服务</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Rui Zhang"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">Rui Zhang</p>
  <div class="site-description" itemprop="description">不在沉默中爆发，就在沉默中灭亡</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rui Zhang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">25:10</span>
</div>




        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":120,"height":230},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
