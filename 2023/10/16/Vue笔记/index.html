<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="前端设计模式传统前端MVP设计模式  View：视图层，显示页面DOM与数据 Presenter：控制层，呈现层，存放业务逻辑，是V层和M层的中转站（核心层） Model：模型层（数据层），操作与存储数据，Model层比较边缘  示例">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue笔记">
<meta property="og:url" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="没有尾巴的小驴">
<meta property="og:description" content="前端设计模式传统前端MVP设计模式  View：视图层，显示页面DOM与数据 Presenter：控制层，呈现层，存放业务逻辑，是V层和M层的中转站（核心层） Model：模型层（数据层），操作与存储数据，Model层比较边缘  示例">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231027155806047.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231027161625704.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231016110000783.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231101144824923.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231101144920584.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231102120335716.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/1158910-20180402144503205-1826635828.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/b0275880745b2ca6c1e912ef789f632b.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/4a7c225243262106210d2e394f344a51.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/6aab84085768ffaa6662d44289dd271d.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/3be87a79deb85f8d882f22f5b09660be.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/87340f2886d9fb82ccd094afbac5460f.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231103103959551.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231103105044390.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231103161539592.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231124155748356.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115172358478.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115172529620.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115172617807.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115174245862.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115173217908.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115174336355.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115174719358.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231122161341807.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231207174720546.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231207202814191.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130510212.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130705343.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130726663.png">
<meta property="og:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130740990.png">
<meta property="article:published_time" content="2023-10-16T02:04:00.000Z">
<meta property="article:modified_time" content="2025-06-25T08:08:46.136Z">
<meta property="article:author" content="Rui Zhang">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231027155806047.png">

<link rel="canonical" href="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>Vue笔记 | 没有尾巴的小驴</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">没有尾巴的小驴</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">记录生活</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">52</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="Rui Zhang">
      <meta itemprop="description" content="不在沉默中爆发，就在沉默中灭亡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="没有尾巴的小驴">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vue笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-16 10:04:00" itemprop="dateCreated datePublished" datetime="2023-10-16T10:04:00+08:00">2023-10-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-25 16:08:46" itemprop="dateModified" datetime="2025-06-25T16:08:46+08:00">2025-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>190k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2:53</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="前端设计模式"><a href="#前端设计模式" class="headerlink" title="前端设计模式"></a>前端设计模式</h1><h2 id="传统前端MVP设计模式"><a href="#传统前端MVP设计模式" class="headerlink" title="传统前端MVP设计模式"></a>传统前端MVP设计模式</h2><p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231027155806047.png" alt="image-20231027155806047"></p>
<ul>
<li>View：视图层，显示页面DOM与数据</li>
<li>Presenter：控制层，呈现层，存放业务逻辑，是V层和M层的中转站（核心层）</li>
<li>Model：模型层（数据层），操作与存储数据，Model层比较边缘</li>
</ul>
<p>示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;TodoList Jquery&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src&#x3D;&#39;.&#x2F;jquery.js&#39;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;input id&#x3D;&quot;input&quot; type&#x3D;&quot;text&quot;&#x2F;&gt;</span><br><span class="line">        &lt;button id&#x3D;&quot;btn&quot;&gt;提交&lt;&#x2F; button&gt;</span><br><span class="line">        &lt;ul id&#x3D;&quot;list&quot;&gt;&lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt; </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function Page() &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        $.extend(Page.prototype, &#123;</span><br><span class="line">            init: function() &#123;</span><br><span class="line">                this.bindEvents ()</span><br><span class="line">            &#125;,</span><br><span class="line">            bindEvents: functi	on() &#123;</span><br><span class="line">                var btn &#x3D; $(&#39;#btn&#39;);</span><br><span class="line">                btn.on(&#39;click&#39; , $.proxy (this.handleBtnClick, this))</span><br><span class="line">            &#125;,</span><br><span class="line">            handleBtnClick: function() &#123;</span><br><span class="line">                var inputElem &#x3D; $(&quot;#input&quot;);</span><br><span class="line">                var inputValue &#x3D; inputElem.val);</span><br><span class="line">                var ulElem &#x3D; $(&quot;#list&quot;);</span><br><span class="line">                ulElem.append (&#39;&lt;li&gt;&#39; + inputValue + &#39;&lt;&#x2F;li&gt;&#39;);</span><br><span class="line">                inputElem. val(&#39;&#39;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        var page &#x3D; new Page();</span><br><span class="line">        page.init();</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<p>视图层发出事件交给控制层，控制层调用模型层AJAX去获取数据，进行处理逻辑后，最后操作DOM改变视图层，或者要么直接去进行处理逻辑，最后操作DOM改变视图层。这里最核心的层是Presenter层，Model层比较边缘，大量的代码都写在Presenter层中，其中大量的操作也都是在操作DOM。</p>
<h2 id="MVVM设计模式"><a href="#MVVM设计模式" class="headerlink" title="MVVM设计模式"></a>MVVM设计模式</h2><p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231027161625704.png" alt="image-20231027161625704"></p>
<ul>
<li>View层：视图层，显示页面DOM与数据</li>
<li>ViewModel层：Vue的内置层，不需要关注，只需要关注Model层和View层</li>
<li>Model层：模型层（数据层），操作与存储数据（核心层）</li>
</ul>
<p>示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue初探-todoList&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt; </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;input v-model&#x3D;&quot;content&quot;&#x2F;&gt;</span><br><span class="line">        &lt;button v-on:click&#x3D;&quot;handleBtn&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;!-- 插值表达式 --&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;elem in list&quot;&gt;&#123;&#123; elem &#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 创建Vue实例</span><br><span class="line">        var app &#x3D; new Vue(&#123;</span><br><span class="line">            &#x2F;&#x2F; 绑定挂载点</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                &#x2F;&#x2F; 可以在浏览器Console通过vm.$data.xxx访问，或者vm.xxx访问</span><br><span class="line">                content: &quot;&quot;,</span><br><span class="line">                list: []</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtn: function()&#123;</span><br><span class="line">                    this.list.push(this.content)</span><br><span class="line">                    this.content &#x3D; &quot;&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>当数据变化，页面对应的视图层自动跟着变，这个实现是VM层做的，VM不是自己实现的，Vue就是一个VM层，它帮助我们监听数据变化改变视图层，也会监听视图层的事件触发，帮助我们通过VM层，去调用一些逻辑代码，从而改变M层的数据，当M层发生数据变化时，VM层又会自动把数据的变化映射到视图层上面来，好处是我们开发的时候只需要关注M层的开发就可以了，我们将数据进行修改，页面会自动变，同时页面上的变化，Vue实例也能感知到页面变化，从而方便我们进行操作数据。所以MVVM框架作为开发的时候，最重的一层是M层。</p>
<p>对比：</p>
<ul>
<li>MVP 面向DOM进行开发，代码存在大量关于DOM的操作</li>
<li>MVVM 面向数据进行开发，极大的减少DOM操作</li>
</ul>
<p>Vue的ViewModel层实现原理：Vue用到了es5里面比较核心的API：Object.difinePreperties，同时也引用了虚拟DOM的机制，通过这两种机制Vue实现了VM层的架构体系。</p>
<h1 id="Vue-初探"><a href="#Vue-初探" class="headerlink" title="Vue 初探"></a>Vue 初探</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue初探-todoList&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt; </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;input v-model&#x3D;&quot;content&quot;&#x2F;&gt;</span><br><span class="line">        &lt;button v-on:click&#x3D;&quot;handleBtn&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;!-- 插值表达式 --&gt;</span><br><span class="line">            &lt;li v-for&#x3D;&quot;elem in list&quot;&gt;&#123;&#123; elem &#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 创建Vue实例</span><br><span class="line">        var app &#x3D; new Vue(&#123;</span><br><span class="line">            &#x2F;&#x2F; 绑定挂载点</span><br><span class="line">            &#x2F;&#x2F; 如果没有显式设置template属性，Vue会自动使用挂载点内的内容作为模板，这是Vue.js的一种方便的默认行为。但如果你想使用自定义模板，你仍然可以设置template属性来覆盖挂载点内的内容。</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                &#x2F;&#x2F; 可以在浏览器Console通过vm.$data.xxx访问，或者vm.xxx访问</span><br><span class="line">                content: &quot;&quot;,</span><br><span class="line">                list: []</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtn: function()&#123;</span><br><span class="line">                    this.list.push(this.content)</span><br><span class="line">                    this.content &#x3D; &quot;&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    </span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-组件"><a href="#Vue-组件" class="headerlink" title="Vue 组件"></a>Vue 组件</h1><h2 id="父组件向子组件传值"><a href="#父组件向子组件传值" class="headerlink" title="父组件向子组件传值"></a>父组件向子组件传值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件-父组件向子组件传值&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input v-model&#x3D;&quot;content&quot;&#x2F;&gt;</span><br><span class="line">            &lt;button v-on:click&#x3D;&quot;handleBtn&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;!-- </span><br><span class="line">                 通过v-for 循环多个子组件，并且将每个循环项的内容，通过 v-bind 借助变量content-value传给子组件</span><br><span class="line">                 注意：</span><br><span class="line">                    1、使用子组件的时候，如果子组件命名是首字母大写的驼峰，则引用子组件的时候名称要用小写的形式，且用-分割</span><br><span class="line">                    2、如果此处的子属性绑定属性名用-分割，则子组件props定义的接收属性名称则用驼峰形式或者，首字母大写的驼峰形式也是可以的</span><br><span class="line">            --&gt;</span><br><span class="line">            &lt;!-- vue指令后面代表的不是字符串，都是指js表达式,表达式里面当然可以写变量而且还可以拼接字符串等操作 --&gt;</span><br><span class="line">            &lt;todo-item v-bind:content-value&#x3D;&quot;item&quot;</span><br><span class="line">                       v-for&#x3D;&quot;item in list&quot;&gt;</span><br><span class="line">            &lt;&#x2F;todo-item&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">   </span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 全局组件</span><br><span class="line">        &#x2F;&#x2F; Vue.component(&quot;TodoItem&quot;,&#123;</span><br><span class="line">        &#x2F;&#x2F;     &#x2F;&#x2F; 使用 props 定义 contentValue 属性来接收父组件传递过来的数值</span><br><span class="line">        &#x2F;&#x2F;     props: [&#39;contentValue&#39;],</span><br><span class="line">        &#x2F;&#x2F;     template: &quot;&lt;li&gt;&#123;&#123; contentValue &#125;&#125;&lt;li&#x2F;&gt;&quot;</span><br><span class="line">        &#x2F;&#x2F; &#125;)</span><br><span class="line">        </span><br><span class="line">        &#x2F;&#x2F; 局部组件</span><br><span class="line">        var TodoItem &#x3D; &#123;</span><br><span class="line">            props: [&#39;contentValue&#39;],</span><br><span class="line">            template: &quot;&lt;li&gt;&#123;&#123; contentValue &#125;&#125;&lt;li&#x2F;&gt;&quot;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var app &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            &#x2F;&#x2F; 使用局部组件的时候，这里将局部组件注册到Vue实例中,这里可以更换名称</span><br><span class="line">            components: &#123;</span><br><span class="line">                TodoItem: TodoItem</span><br><span class="line">            &#125;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                content: &quot;&quot;,</span><br><span class="line">                list: []</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtn: function()&#123;</span><br><span class="line">                    this.list.push(this.content)</span><br><span class="line">                    this.content &#x3D; &#39;&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="子组件向父组件传值"><a href="#子组件向父组件传值" class="headerlink" title="子组件向父组件传值"></a>子组件向父组件传值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件-子组件向父组件传值&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input v-model&#x3D;&quot;content&quot;&#x2F;&gt;</span><br><span class="line">            &lt;button v-on:click&#x3D;&quot;handleBtn&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;!-- </span><br><span class="line">                 v-band:xxx  可以简写 :xxx</span><br><span class="line">                 v-on:监听的事件函数 可以简写 @监听的事件函数</span><br><span class="line">            --&gt;</span><br><span class="line">            &lt;todo-item :content-value&#x3D;&quot;item&quot; </span><br><span class="line">                       :index&#x3D;&quot;index&quot; </span><br><span class="line">                       v-for&#x3D;&quot;(item, index) in list&quot;</span><br><span class="line">                       @delete&#x3D;&#39;handleItemDelete&#39;&gt; &lt;!-- 这里监听delete事件 --&gt;</span><br><span class="line">            &lt;&#x2F;todo-item&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">   </span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 局部组件</span><br><span class="line">        var TodoItem &#x3D; &#123;</span><br><span class="line">            props: [&#39;contentValue&#39;,&#39;index&#39;],</span><br><span class="line">            template: &quot;&lt;li @click &#x3D; &#39;handleItemClick&#39;&gt;&#123;&#123; contentValue &#125;&#125;&lt;li&#x2F;&gt;&quot;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleItemClick: function()&#123;</span><br><span class="line">                    &#x2F;&#x2F; 向外部父组件触发一个delete事件</span><br><span class="line">                    this.$emit(&quot;delete&quot;, this.index)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var app &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            &#x2F;&#x2F; 使用局部组件的时候，这里将局部组件注册到Vue实例中,这里可以更换名称</span><br><span class="line">            components: &#123;</span><br><span class="line">                TodoItem: TodoItem</span><br><span class="line">            &#125;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                content: &quot;&quot;,</span><br><span class="line">                list: []</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtn: function()&#123;</span><br><span class="line">                    this.list.push(this.content)</span><br><span class="line">                    this.content &#x3D; &#39;&#39;</span><br><span class="line">                &#125;,</span><br><span class="line">                handleItemDelete: function(index)&#123;</span><br><span class="line">                    this.list.splice(index, 1)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-实例"><a href="#Vue-实例" class="headerlink" title="Vue 实例"></a>Vue 实例</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue实例&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;div @click&#x3D;&quot;handleClick&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 在根实例里面使用注册的组件 --&gt;</span><br><span class="line">        &lt;item&gt;&lt;&#x2F;item&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">   </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; Vue中的每一个组件也是Vue实例，比如下面这个创建的组件（当创建组件的时候，Vue的底层会将这个组件编译成Vue的实例）</span><br><span class="line">        &#x2F;&#x2F; 所以一个Vue项目由很多小的Vue组件组成的，也可以说由很多Vue实例拼装组成</span><br><span class="line">        Vue.component(&quot;item&quot;,&#123;</span><br><span class="line">            template: &quot;&lt;div&gt;Bye World&lt;&#x2F;div&gt;&quot;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 根实例是一个Vue实例（加载的入口点）</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                message: &#39;Hello World&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    alert(&#39;hello&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-实例的生命周期"><a href="#Vue-实例的生命周期" class="headerlink" title="Vue 实例的生命周期"></a>Vue 实例的生命周期</h1><p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231016110000783.png" alt="image-20231016110000783"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue实例的生命周期&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt; </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 生命周期函数就是Vue实例在某一个时间点会自动执行的函数</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &#39;#app&#39;,</span><br><span class="line">            &#x2F;&#x2F; 这里可以将模板定义这在这里，否则采用el对应的挂载点区域作为默认模板</span><br><span class="line">            template: &quot;&lt;div&gt;&#123;&#123;test&#125;&#125;&lt;&#x2F;div&gt;&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                test: &quot;hello word&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 初始化事件和生命周期之后，初始化外部注入和双向绑定等内容之前</span><br><span class="line">            beforeCreate: function() &#123;</span><br><span class="line">                console.log(&#39;beforCreate&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 初始化外部注入和双向绑定等内容之后，至此初始化结束</span><br><span class="line">            created: function() &#123;</span><br><span class="line">                console.log(&#39;created&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 模板结合数据生成vue实例中的dom元素挂载页面上之前，页面还没有被渲染</span><br><span class="line">            beforeMount: function() &#123;</span><br><span class="line">                console.log(this.$el)</span><br><span class="line">                console.log(&#39;beforeMount&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 页面挂载之后执行，页面渲染完毕</span><br><span class="line">            mounted: function() &#123;</span><br><span class="line">                console.log(this.$el)</span><br><span class="line">                console.log(&#39;mounted&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 当组件被销毁的时候执行，比如方法 vm.$destroy() 被调用的时候执行</span><br><span class="line">            beforeDestroy: function() &#123;</span><br><span class="line">                console.log(&#39;beforeDestroy&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 当组件完全被销毁之后执行</span><br><span class="line">            destroyed: function() &#123;</span><br><span class="line">                console.log(&#39;destroyed&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 数据发生改变，还没有重新渲染之前</span><br><span class="line">            beforeUpdate: function() &#123;</span><br><span class="line">                console.log(&#39;beforeUpdate&#39;)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 数据已经发生改变，重新渲染之后</span><br><span class="line">            updated: function() &#123;</span><br><span class="line">                console.log(&#39;updated&#39;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-模板语法"><a href="#Vue-模板语法" class="headerlink" title="Vue 模板语法"></a>Vue 模板语法</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue模板语法&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- 插值表达式 --&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 显示数据变量，innerText的内容变成name属性数值--&gt;</span><br><span class="line">        &lt;div v-text&#x3D;&quot;name&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 显示数据变量，innerHtml的内容变成name属性数值--&gt;</span><br><span class="line">        &lt;div v-html&#x3D;&quot;name&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- v-on:click&#x3D;&#39;&#39; v-bind:title&#x3D;&#39;&#39; ... ...--&gt;</span><br><span class="line">        &lt;!-- 注意，vue指令后面代表的不是字符串，都是指js表达式,表达式里面当然可以写变量而且还可以拼接字符串等操作 --&gt;</span><br><span class="line">        &lt;div v-text&#x3D;&quot;cn + &#39; Lee&#39;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div v-html&#x3D;&quot;cn + &#39; Lee&#39;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 插值表达式也可以写js表达式 --&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123;cn + &#39; Lee&#39;&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                name: &quot;&lt;h1&gt;Dell&lt;&#x2F;h1&gt;&quot;,</span><br><span class="line">                cn: &quot;Dell&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-计算属性、方法、侦听器"><a href="#Vue-计算属性、方法、侦听器" class="headerlink" title="Vue 计算属性、方法、侦听器"></a>Vue 计算属性、方法、侦听器</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue计算属性,方法,侦听器&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &#123;&#123;firstName + &#39; &#39; + lastName&#125;&#125;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &#123;&#123;age&#125;&#125;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;!-- 使用计算属性 --&gt;</span><br><span class="line">        &lt;!-- &#123;&#123;fullName&#125;&#125; --&gt;</span><br><span class="line">        &lt;!-- 使用方法调用的形式 --&gt;</span><br><span class="line">        &lt;!-- &#123;&#123;fullName()&#125;&#125; --&gt;</span><br><span class="line">        &lt;!-- 使用侦听器 --&gt;</span><br><span class="line">        &#123;&#123;fullName&#125;&#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                firstName: &quot;Dell&quot;,</span><br><span class="line">                lastName: &quot;Lee&quot;,</span><br><span class="line">                fullName: &quot;Dell Lee&quot;,</span><br><span class="line">                age: 28</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 计算属性</span><br><span class="line">            &#x2F;&#x2F; computed: &#123;</span><br><span class="line">            &#x2F;&#x2F;     &#x2F;&#x2F; 计算属性具有缓存的概念，如果firstName和lastName值没有发生变化，计算属性就不会重新计算</span><br><span class="line">            &#x2F;&#x2F;     &#x2F;&#x2F; 如果此时修改vm.age&#x3D;20,则计算属性不会重新计算,如果修改firstName或者lastName则会重新计算</span><br><span class="line">            &#x2F;&#x2F;     &#x2F;&#x2F; 也就是说当依赖的值发生了变化才会重新计算</span><br><span class="line">            &#x2F;&#x2F;     fullName: function() &#123;</span><br><span class="line">            &#x2F;&#x2F;         console.log(&quot;计算了一次&quot;)</span><br><span class="line">            &#x2F;&#x2F;         return this.firstName + &#39; &#39; + this.lastName</span><br><span class="line">            &#x2F;&#x2F;     &#125;</span><br><span class="line">            &#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 方法</span><br><span class="line">            &#x2F;&#x2F; 除了用计算属性，也可以用方法的形式，方法的形式没有缓存的概念</span><br><span class="line">            &#x2F;&#x2F; 如果此时修改vm.age&#x3D;20,则方法会重新计算,如果修改firstName或者lastName则会重新计算</span><br><span class="line">            &#x2F;&#x2F; 无论是计算属性还是方法的形式，如果对数值进行了覆盖操作，则都不会触发计算</span><br><span class="line">            &#x2F;&#x2F; methods: &#123;</span><br><span class="line">            &#x2F;&#x2F;     fullName: function() &#123;</span><br><span class="line">            &#x2F;&#x2F;         console.log(&quot;计算了一次&quot;)</span><br><span class="line">            &#x2F;&#x2F;         return this.firstName + &#39; &#39; + this.lastName</span><br><span class="line">            &#x2F;&#x2F;     &#125;</span><br><span class="line">            &#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 侦听器</span><br><span class="line">            &#x2F;&#x2F; 侦听器的效果和computed计算属性类似，也具备缓存，但是写法比较复杂，三种方式优先推荐使用computed</span><br><span class="line">            &#x2F;&#x2F; 侦听器具有缓存的概念，如果firstName和lastName值没有发生变化，侦听器就不会重新计算</span><br><span class="line">            &#x2F;&#x2F; 如果此时修改vm.age&#x3D;20,则侦听器不会重新计算,如果修改firstName或者lastName则会重新计算</span><br><span class="line">            watch: &#123;</span><br><span class="line">                firstName: function() &#123;</span><br><span class="line">                    console.log(&quot;计算了一次&quot;)</span><br><span class="line">                    this.fullName &#x3D; this.firstName + &#39; &#39; + this.lastName </span><br><span class="line">                &#125;,</span><br><span class="line">                lastName: function() &#123;</span><br><span class="line">                    console.log(&quot;计算了一次&quot;)</span><br><span class="line">                    this.fullName &#x3D; this.firstName + &#39; &#39; + this.lastName </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-计算属性的setter和getter"><a href="#Vue-计算属性的setter和getter" class="headerlink" title="Vue 计算属性的setter和getter"></a>Vue 计算属性的setter和getter</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue计算属性的setter和getter&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">       &#123;&#123;fullName&#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                firstName: &quot;Dell&quot;,</span><br><span class="line">                lastName: &quot;Lee&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            computed: &#123;</span><br><span class="line">                &#x2F;&#x2F; fullName: function() &#123;</span><br><span class="line">                &#x2F;&#x2F;     return this.fullName &#x3D; this.firstName + &#39; &#39; + this.lastName</span><br><span class="line">                &#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">                &#x2F;&#x2F; 可以用另外一种形式</span><br><span class="line">                &#x2F;&#x2F; 可以在浏览器通过vm.fullName访问</span><br><span class="line">                &#x2F;&#x2F; 当依赖的值发生了变化才会重新计算</span><br><span class="line">                fullName: &#123;</span><br><span class="line">                    get: function() &#123;</span><br><span class="line">                        return this.fullName &#x3D; this.firstName + &#39; &#39; + this.lastName</span><br><span class="line">                    &#125;,</span><br><span class="line">                    set: function(val) &#123;</span><br><span class="line">                        console.log(val)</span><br><span class="line">                        var arr &#x3D; val.split(&quot; &quot;)</span><br><span class="line">                        this.firstName &#x3D; arr[0]</span><br><span class="line">                        this.lastName &#x3D; arr[1]                  </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-样式绑定"><a href="#Vue-样式绑定" class="headerlink" title="Vue 样式绑定"></a>Vue 样式绑定</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue样式绑定-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .activated &#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- class对象绑定-对象书写形式 --&gt;</span><br><span class="line">        &lt;!-- 样式绑定也用v-band:xxx 简写:xxx,后面的js对象意义是：绑定使用的元素名称是activated，显不显示取决于数据中的isActivated变量 --&gt;</span><br><span class="line">       &lt;div @click&#x3D;&quot;handleDivClick&quot;</span><br><span class="line">            :class&#x3D;&quot;&#123;activated: isActivated&#125;&quot; </span><br><span class="line">       &gt;</span><br><span class="line">            Hello World</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                isActivated: false</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleDivClick: function() &#123;</span><br><span class="line">                    this.isActivated &#x3D; !this.isActivated</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue样式绑定-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .activated &#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- class对象绑定-数组书写形式 --&gt;</span><br><span class="line">       &lt;div @click&#x3D;&quot;handleDivClick&quot;</span><br><span class="line">            :class&#x3D;&quot;[activated, activatedOne]&quot;</span><br><span class="line">       &gt;</span><br><span class="line">            Hello World</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                activated: &quot;&quot;,</span><br><span class="line">                activatedOne: &quot;activated-one&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleDivClick: function() &#123;</span><br><span class="line">                    this.activated &#x3D; this.activated &#x3D;&#x3D;&#x3D; &quot;activated&quot; ? &quot;&quot; : &quot;activated&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue样式绑定-3&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- class内联方式绑定-对象书写形式 --&gt;</span><br><span class="line">       &lt;div :style&#x3D;&quot;styleObj&quot; @click&#x3D;&quot;handleDivClick&quot;&gt;</span><br><span class="line">            Hello World</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                styleObj: &#123;</span><br><span class="line">                    color: &quot;black&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleDivClick: function() &#123;</span><br><span class="line">                    this.styleObj.color &#x3D; this.styleObj.color &#x3D;&#x3D;&#x3D; &quot;black&quot; ? &quot;red&quot; : &quot;black&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue样式绑定-4&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- class内联方式绑定-数组书写形式 --&gt;</span><br><span class="line">       &lt;div :style&#x3D;&quot;[styleObj, &#123;fontSize: &#39;20px&#39;&#125;]&quot; @click&#x3D;&quot;handleDivClick&quot;&gt;</span><br><span class="line">            Hello World</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                styleObj: &#123;</span><br><span class="line">                    color: &quot;black&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleDivClick: function() &#123;</span><br><span class="line">                    this.styleObj.color &#x3D; this.styleObj.color &#x3D;&#x3D;&#x3D; &quot;black&quot; ? &quot;red&quot; : &quot;black&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-条件渲染"><a href="#Vue-条件渲染" class="headerlink" title="Vue 条件渲染"></a>Vue 条件渲染</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue条件渲染&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">       &lt;!-- 如果表达式返回结果为false，则标签不存在DOM之上 --&gt;</span><br><span class="line">       &lt;!-- 性能低一些，每次都是删除DOM或者删除DOM --&gt;</span><br><span class="line">       &lt;!--  v-if 和 v-else 如果要同时用,则要连在一起写--&gt;</span><br><span class="line">       &lt;div v-if&#x3D;&quot;show&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">       &lt;div v-else&gt;Bye Word&lt;&#x2F;div&gt;</span><br><span class="line">       &lt;!-- 如果表达式返回结果为false,标签存在,形式是style&#x3D;&quot;display: none;&quot; --&gt;</span><br><span class="line">       &lt;!-- 性能高一些，不会频繁将DOM从页面上删除或添加 --&gt;</span><br><span class="line">       &lt;div v-show&#x3D;&quot;show&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        </span><br><span class="line">       &lt;!-- 多条件判断 --&gt;</span><br><span class="line">       &lt;!--  v-if, v-else-if 和 v-else 如果要同时用,则要连在一起写--&gt;</span><br><span class="line">       &lt;div v-if&#x3D;&quot;char &#x3D;&#x3D;&#x3D;&#39;a&#39;&quot;&gt; This is A&lt;&#x2F;div&gt;</span><br><span class="line">       &lt;div v-else-if&#x3D;&quot;char &#x3D;&#x3D;&#x3D;&#39;b&#39;&quot;&gt; This is B&lt;&#x2F;div&gt;</span><br><span class="line">       &lt;div v-else&gt; This is others&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">       &lt;!-- Vue默认复用输入框的内容，所以当input值发生改变的时候，输入框的值复用 --&gt;</span><br><span class="line">       &lt;!-- 解决上述这个问题使用key值,让元素唯一，这样就找不到重复的元素了，就会重新生成DOM --&gt;</span><br><span class="line">       &lt;div v-if&#x3D;&quot;input&quot;&gt;</span><br><span class="line">            用户名：&lt;input key&#x3D;&quot;username&quot;&#x2F;&gt;</span><br><span class="line">       &lt;&#x2F;div&gt;</span><br><span class="line">       &lt;div v-else&gt;</span><br><span class="line">            邮箱名：&lt;input key&#x3D;&quot;password&quot;&#x2F;&gt;</span><br><span class="line">       &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                message: &quot;Hello Word&quot;,</span><br><span class="line">                show: false,</span><br><span class="line">                char: &quot;c&quot;,</span><br><span class="line">                input: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">               </span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-列表渲染"><a href="#Vue-列表渲染" class="headerlink" title="Vue 列表渲染"></a>Vue 列表渲染</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue列表渲染-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- 可以用in，但是更推荐用of --&gt;</span><br><span class="line">        &lt;!-- &lt;div v-for&#x3D;&quot;item of list&quot;&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;div&gt; --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 为了提升循环显示性能，需要添加唯一key值,不推荐用index,推荐用数据中的ID --&gt;</span><br><span class="line">        &lt;div v-for&#x3D;&quot;(item, index) of list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">            &#123;&#123;item.text&#125;&#125;----&#123;&#123;index&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 改变数组内容，让页面发生变化，实现数据绑定的两种方式(后面还有通过set方法的形式，一共三种形式) --&gt;</span><br><span class="line">    &lt;!-- 1、通过Vue变异方法操作集合 --&gt;</span><br><span class="line">    &lt;!-- 不能通过下标的形式修改数组内对象数据实现数据绑定，如：vm.list[3]&#x3D;&#123;id:&quot;&quot;,text:&quot;&quot;&#125;</span><br><span class="line">         只能通过Vue提供的数据变异方法操作数据才能实现数据绑定，如：vm.list.splice(1, 1, &#123;id:&quot;333&quot;, text: &quot;Dell1&quot;&#125;) --&gt;</span><br><span class="line">    &lt;!-- push pop shift unshift splice sort reverse 一共七个--&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 2、通过修改数据对象引用地址的方式操作集合，如：</span><br><span class="line">    vm.list &#x3D; [&#123;</span><br><span class="line">                    id:&quot;11&quot;,</span><br><span class="line">                    text: &quot;hello1&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;22&quot;,</span><br><span class="line">                    text: &quot;Dell1&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;33&quot;,</span><br><span class="line">                    text: &quot;Look1&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;44&quot;,</span><br><span class="line">                    text: &quot;For1&quot;    </span><br><span class="line">                &#125;]</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                list: [&#123;</span><br><span class="line">                    id:&quot;1&quot;,</span><br><span class="line">                    text: &quot;hello&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;2&quot;,</span><br><span class="line">                    text: &quot;Dell&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;3&quot;,</span><br><span class="line">                    text: &quot;Look&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;4&quot;,</span><br><span class="line">                    text: &quot;For&quot;    </span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue列表渲染-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- &lt;div v-for&#x3D;&quot;(item, index) of list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &#123;&#123;item.text&#125;&#125;----&#123;&#123;index&#125;&#125;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;span&gt;</span><br><span class="line">                &#123;&#123;item.text&#125;&#125;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;div&gt; --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 如果不想显示外层div,则可以使用template: 模板占位符，用来包裹一些元素，但是自身不会被渲染到页面上 --&gt;</span><br><span class="line">        &lt;template v-for&#x3D;&quot;(item, index) of list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &#123;&#123;item.text&#125;&#125;----&#123;&#123;index&#125;&#125;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">            &lt;span&gt;</span><br><span class="line">                &#123;&#123;item.text&#125;&#125;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;template&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                list: [&#123;</span><br><span class="line">                    id:&quot;1&quot;,</span><br><span class="line">                    text: &quot;hello&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;2&quot;,</span><br><span class="line">                    text: &quot;Dell&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;3&quot;,</span><br><span class="line">                    text: &quot;Look&quot;    </span><br><span class="line">                &#125;,&#123;</span><br><span class="line">                    id:&quot;4&quot;,</span><br><span class="line">                    text: &quot;For&quot;    </span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue列表渲染-3&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 对象的循环渲染展示 --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;!-- 这里同样可以采用列表渲染的语法v-for --&gt;</span><br><span class="line">        &lt;!-- &lt;div v-for&#x3D;&quot;item of userInfo&quot;&gt;</span><br><span class="line">            &#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt; --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div v-for&#x3D;&quot;(item, key, index) of userInfo&quot;&gt;</span><br><span class="line">            &#123;&#123;item&#125;&#125;---&#123;&#123;key&#125;&#125;---&#123;&#123;index&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 注意：如果想修改值，使页面发生改变，使用 vm.userInfo.name&#x3D;&quot;Dell Lee&quot; 是可以的</span><br><span class="line">         但是如果想增加属性，使页面发生改变，使用 vm.userInfo.address&#x3D;&quot;ShenZhen&quot; 是不可以的</span><br><span class="line">         可以通过之前说的修改数据对象引用的方式使页面发生改变，如下：</span><br><span class="line">         vm.userInfo &#x3D; &#123;</span><br><span class="line">                    name: &quot;Dell Lee&quot;,</span><br><span class="line">                    age: 18,</span><br><span class="line">                    gender: &quot;male&quot;,</span><br><span class="line">                    salary: &quot;secret&quot;,</span><br><span class="line">                    address: &quot;ShenZhen&quot;</span><br><span class="line">                &#125;</span><br><span class="line">        --&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                userInfo: &#123;</span><br><span class="line">                    name: &quot;Dell&quot;,</span><br><span class="line">                    age: 18,</span><br><span class="line">                    gender: &quot;male&quot;,</span><br><span class="line">                    salary: &quot;secret&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-的set方法"><a href="#Vue-的set方法" class="headerlink" title="Vue 的set方法"></a>Vue 的set方法</h1><h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue的set方法-对象&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 除了使用修改数据对象引用的方式使页面同步发生变化，也可以使用set方法进行操作</span><br><span class="line">         Vue.set(vm.userInfo,&quot;address&quot;,&quot;beijing&quot;)</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!-- set方法不但是Vue的全局方法Vue.set(vm.userInfo,&quot;address&quot;,&quot;beijing&quot;)，也是Vue实例方法vm.$set(vm.userInfo,&quot;address&quot;,&quot;beijing&quot;) </span><br><span class="line">         上述两种都可以实现修改数据，页面同步渲染的效果</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;div v-for&#x3D;&quot;(item, key, index) of userInfo&quot;&gt;</span><br><span class="line">            &#123;&#123;item&#125;&#125;---&#123;&#123;key&#125;&#125;---&#123;&#123;index&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                userInfo: &#123;</span><br><span class="line">                    name: &quot;Dell&quot;,</span><br><span class="line">                    age: 18,</span><br><span class="line">                    gender: &quot;male&quot;,</span><br><span class="line">                    salary: &quot;secret&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue的set方法-数组&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 通过set方法也可以实现数组变化，页面也跟着变化</span><br><span class="line">         1、Vue.set(vm.userInfo, 1, 5) Vue的全局方法</span><br><span class="line">         2、vm.$set(vm.userInfo, 2, 6) Vue的实例方法</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">        &lt;div v-for&#x3D;&quot;(item, index) of userInfo&quot;&gt;</span><br><span class="line">            &#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#app&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                userInfo: [1, 2, 3, 4]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-组件使用细节"><a href="#Vue-组件使用细节" class="headerlink" title="Vue 组件使用细节"></a>Vue 组件使用细节</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件使用细节-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 在H5规范里面，要求table里面有tbody.tbody里面必须放tr,但是我们使用子组件写成了row，所以浏览器解析row会出层级混乱问题(具体请看调试DOM),</span><br><span class="line">             解决：使用is命令.(其他比如ul, ol ,select 等，最好也用这种方式进行操作)</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;!--</span><br><span class="line">            &lt;table&gt;</span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                    &lt;row&gt;&lt;&#x2F;row&gt;</span><br><span class="line">                    &lt;row&gt;&lt;&#x2F;row&gt;</span><br><span class="line">                    &lt;row&gt;&lt;&#x2F;row&gt;</span><br><span class="line">                &lt;&#x2F;tbody&gt;</span><br><span class="line">            &lt;&#x2F;table&gt;</span><br><span class="line">        --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;tbody&gt;</span><br><span class="line">                &lt;tr is&#x3D;&quot;row&quot;&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">                &lt;tr is&#x3D;&quot;row&quot;&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">                &lt;tr is&#x3D;&quot;row&quot;&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">            &lt;&#x2F;tbody&gt;</span><br><span class="line">        &lt;&#x2F;table&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;row&#39;,&#123;</span><br><span class="line">            template: &#39;&lt;tr&gt;&lt;td&gt;this is a row&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&#39; </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件使用细节-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;tbody&gt;</span><br><span class="line">                &lt;tr is&#x3D;&quot;row&quot;&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">                &lt;tr is&#x3D;&quot;row&quot;&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">                &lt;tr is&#x3D;&quot;row&quot;&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">            &lt;&#x2F;tbody&gt;</span><br><span class="line">        &lt;&#x2F;table&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;row&#39;,&#123;</span><br><span class="line">            &#x2F;&#x2F; 在子组件定义data并使用的时候，data必须是个函数，目的是让每一个子组件都拥有一个独立的存储，子组件彼此之间数据互不影响</span><br><span class="line">            data: function () &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    content: &#39;this is content&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template: &#39;&lt;tr&gt;&lt;td&gt;&#123;&#123;content&#125;&#125;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&#39; </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件使用细节-3&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">        &lt;!-- 定义引用 --&gt;</span><br><span class="line">        &lt;div ref&#x3D;&quot;hello&quot; @click&#x3D;&quot;handleClick&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">    </span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    &#x2F;&#x2F; 整个Vue实例中所有的引用里面找到引用名为hello的DOM元素</span><br><span class="line">                    console.log(this.$refs.hello.innerHTML)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件使用细节-4&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">        &lt;counter ref&#x3D;&quot;one&quot; @change&#x3D;&quot;handleChange&quot;&gt;&lt;&#x2F;counter&gt;</span><br><span class="line">        &lt;counter ref&#x3D;&quot;two&quot; @change&#x3D;&quot;handleChange&quot;&gt;&lt;&#x2F;counter&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123;total&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;counter&#39;,&#123;</span><br><span class="line">            template: &#39;&lt;div @click&#x3D;&quot;handleClick&quot;&gt;&#123;&#123;number&#125;&#125;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">            data: function() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    number: 0</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.number ++</span><br><span class="line">                    this.$emit(&#39;change&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 实现子组件number累加操作</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                total: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleChange: function() &#123;</span><br><span class="line">                    &#x2F;&#x2F; 如果是组件使用ref引用的话，这里获取到的就不是DOM了，而是子组件引用对象了</span><br><span class="line">                    &#x2F;&#x2F; 计算两个子组件number属性的和</span><br><span class="line">                    console.log(this.$refs.one)</span><br><span class="line">                    console.log(this.$refs.two)</span><br><span class="line">                    this.total &#x3D; this.$refs.one.number + this.$refs.two.number</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-父子组件传值"><a href="#Vue-父子组件传值" class="headerlink" title="Vue 父子组件传值"></a>Vue 父子组件传值</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue父子组件传值&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">        &lt;!-- 父组件通过属性的形式，通过count向子组件传值。</span><br><span class="line">             这里可以用 :count&#x3D;&quot;0&quot;, 因为“:”是Vue指令，所以后面跟的是js表达式，所以向子组件传递的是数字，而不用“:”则是向子组件传递是的字符串 --&gt;</span><br><span class="line">        &lt;counter @change&#x3D;&quot;handleIncrease&quot; :count&#x3D;&quot;2&quot;&gt;&lt;&#x2F;counter&gt;</span><br><span class="line">        &lt;counter @change&#x3D;&quot;handleIncrease&quot; :count&#x3D;&quot;2&quot;&gt;&lt;&#x2F;counter&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123;total&#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; var counter &#x3D; &#123;</span><br><span class="line">        &#x2F;&#x2F;     props: [&#39;count&#39;],</span><br><span class="line">        &#x2F;&#x2F;     template: &#39;&lt;div @click&#x3D;&quot;handleClick&quot;&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">        &#x2F;&#x2F;     methods: &#123;</span><br><span class="line">        &#x2F;&#x2F;         handleClick: function() &#123;</span><br><span class="line">        &#x2F;&#x2F;             &#x2F;&#x2F; 子组件不能修改父组件传递过来的内容，这叫做Vue的“单项数据流”，所以这里不能用this.count ++</span><br><span class="line">        &#x2F;&#x2F;             this.count ++  &#x2F;&#x2F; error</span><br><span class="line">        &#x2F;&#x2F;         &#125;</span><br><span class="line">        &#x2F;&#x2F;     &#125;</span><br><span class="line">        &#x2F;&#x2F; &#125;</span><br><span class="line"></span><br><span class="line">        var counter &#x3D; &#123;</span><br><span class="line">            props: [&#39;count&#39;],</span><br><span class="line">            data: function() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    number: this.count</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template: &#39;&lt;div @click&#x3D;&quot;handleClick&quot;&gt;&#123;&#123;number&#125;&#125;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    &#x2F;&#x2F; 如果想完成修改的操作，可以通过自身的data函数中的number复制一份父组件传递过来的count，然后操作此number就可以完成累加操作</span><br><span class="line">                    this.number ++</span><br><span class="line">                    this.$emit(&#39;change&#39;, 1)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 实现子组件number累加操作</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            components: &#123;</span><br><span class="line">                counter: counter</span><br><span class="line">            &#125;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                total: 4</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleIncrease: function(step) &#123;</span><br><span class="line">                    this.total +&#x3D; step</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-组件参数校验与非Props特性"><a href="#Vue-组件参数校验与非Props特性" class="headerlink" title="Vue 组件参数校验与非Props特性"></a>Vue 组件参数校验与非Props特性</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue组件参数校验与非Props特性&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 这里父组件向子组件进行传递参数，因为没有用“:”，所以content默认就是字符串类型，而传递number时候用到了“:”，使用的是Vue指令，所以使用的是js表达式，因此是数值类型 --&gt;</span><br><span class="line">        &lt;child </span><br><span class="line">            content&#x3D;&quot;123&quot; </span><br><span class="line">            :number&#x3D;&quot;123&quot;</span><br><span class="line">            :num&#x3D;&quot;&#39;123&#39;&quot;</span><br><span class="line">            :cnt&#x3D;&quot;&#39;123456&#39;&quot;&gt; </span><br><span class="line">        &lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child&#39;,&#123;</span><br><span class="line">            &#x2F;&#x2F; Props特性: 子组件接收父组件传递过来的值，并子组件可以直接显示该值</span><br><span class="line">            &#x2F;&#x2F; 非Props特性: 非Props特性有2个特点, 1、子组件没有定义对应的接收的属性(把props对象注释掉，不进行接收) 2、如果父组件向子组件传递数值，则传递的属性键值对则会展示在子组件最外层的DOM标签的HTML属性里面</span><br><span class="line">            </span><br><span class="line">            &#x2F;&#x2F; 这里改用对象的形式，不用数组的形式了</span><br><span class="line">            props: &#123;</span><br><span class="line">                content: String, &#x2F;&#x2F; 子组件接收到的content属性必须是String类型</span><br><span class="line">                number: Number, &#x2F;&#x2F; 子组件接收到的content属性必须是数字类型</span><br><span class="line">                num: [String, Number], &#x2F;&#x2F; 数组形式，子组件接收到的content属性必须是数字类型或者String类型</span><br><span class="line">                cnt: &#123; &#x2F;&#x2F; 对象形式，子组件接收cnt的属性，它的类型必须为String，且必须传递，不传递则是用默认值</span><br><span class="line">                    type: String,</span><br><span class="line">                    required: true,</span><br><span class="line">                    default: &#39;default value&#39;,</span><br><span class="line">                    validator: function(value) &#123; &#x2F;&#x2F; 校验器校验，字符串长度大于5</span><br><span class="line">                        return value.length &gt; 5</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template: &#39;&lt;div&gt;&#123;&#123;content&#125;&#125;----&#123;&#123;number&#125;&#125;----&#123;&#123;num&#125;&#125;----&#123;&#123;cnt&#125;&#125;&lt;&#x2F;div&gt;&#39;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;          </span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-给组件绑定原生事件"><a href="#Vue-给组件绑定原生事件" class="headerlink" title="Vue 给组件绑定原生事件"></a>Vue 给组件绑定原生事件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue给组件绑定原生事件-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 在组件上的@click事件不是原生事件，是监听的自定义事件，自定义事件如果想被触发，则让子组件调用 this.$emit(&#39;&#39;) 去触发父组件的监听的自定义事件 --&gt;</span><br><span class="line">        &lt;child @click&#x3D;&quot;handleClick&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            template: &#39;&lt;div @click&#x3D;&quot;handleChildClick&quot;&gt;Child&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleChildClick: function() &#123;</span><br><span class="line">                    &#x2F;&#x2F; 向外触发自定义事件</span><br><span class="line">                    this.$emit(&#39;click&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    alert(&#39;click&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;          </span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue给组件绑定原生事件-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 此时组件监听的是原生的点击事件(在后面追加.native)，不是自定义事件 --&gt;</span><br><span class="line">        &lt;child @click.native&#x3D;&quot;handleClick&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            template: &#39;&lt;div&gt;Child&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    alert(&#39;click&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;          </span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-给非父子组件传值"><a href="#Vue-给非父子组件传值" class="headerlink" title="Vue 给非父子组件传值"></a>Vue 给非父子组件传值</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue给非父子组件传值(Bus&#x2F;总线&#x2F;发布订阅模式&#x2F;观察者模式)&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">       &lt;child content&#x3D;&quot;Dell&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">       &lt;child content&#x3D;&quot;Lee&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 向Vue.prototype上挂载一个名为bus的属性，这个属性指向一个Vue实例</span><br><span class="line">        &#x2F;&#x2F; 后面我们只要new Vue()或者Vue.component()创建组件的时候，每一个组件上都会有bus这个属性</span><br><span class="line">        &#x2F;&#x2F; 因为每一个组件或者说每一个实例都是通过Vue这个类创建了，而我们在Vue这个类上的prototype进行挂载bus属性，所以后面创建的每一个组件&#x2F;实例上都会有bus这个属性</span><br><span class="line">        &#x2F;&#x2F; 每一个通过Vue这个类创建的对象，也就是Vue实例，上面都会有bus属性，都会指向同一个Vue的实例</span><br><span class="line">        Vue.prototype.bus &#x3D; new Vue()</span><br><span class="line"></span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            props: &#123;</span><br><span class="line">                content: String</span><br><span class="line">            &#125;,</span><br><span class="line">            data: function () &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    selfContent: this.content</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            template: &#39;&lt;div @click &#x3D; &quot;handleClick&quot;&gt;&#123;&#123;selfContent&#125;&#125;&lt;&#x2F;div&gt;&#39;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    &#x2F;&#x2F;  使用bus实例向外触发事件</span><br><span class="line">                    this.bus.$emit(&#39;change&#39;, this.selfContent)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            mounted: function() &#123;</span><br><span class="line">                var this_ &#x3D; this</span><br><span class="line">                &#x2F;&#x2F; 监听bus实例触发出来的事件</span><br><span class="line">                this.bus.$on(&#39;change&#39;, function(msg) &#123;</span><br><span class="line">                    this_.selfContent &#x3D; msg</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;           </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中使用插槽"><a href="#Vue-中使用插槽" class="headerlink" title="Vue 中使用插槽"></a>Vue 中使用插槽</h1><h2 id="旧方式"><a href="#旧方式" class="headerlink" title="旧方式"></a>旧方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中使用插槽-1-旧方式&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">       &lt;child content&#x3D;&quot;&lt;p&gt;Dell&lt;&#x2F;p&gt;&quot;&gt;&lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        &#x2F;&#x2F; 缺点：传递的DOM外层有&lt;div&gt;标签</span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            props:[&#39;content&#39;],</span><br><span class="line">            template: &#39;&lt;div v-html&#x3D;&quot;this.content&quot;&gt;&lt;&#x2F;div&gt;&#39;        </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="slot方式"><a href="#slot方式" class="headerlink" title="slot方式"></a>slot方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中使用插槽-2-slot方式&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">       &lt;child&gt;</span><br><span class="line">            &lt;p&gt;Dell&lt;&#x2F;p&gt; </span><br><span class="line">       &lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            &#x2F;&#x2F; 这里&lt;slot&gt;&lt;&#x2F;slot&gt;显示的就是父组件向子组件插入的“&lt;p&gt;Dell&lt;&#x2F;p&gt;” 这段代码</span><br><span class="line">            &#x2F;&#x2F; 通过插槽可以方便的向子组件传递DOM元素</span><br><span class="line">            &#x2F;&#x2F; template: &#96;&lt;div&gt;</span><br><span class="line">            &#x2F;&#x2F;                 &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">            &#x2F;&#x2F;           &lt;&#x2F;div&gt;&#96;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; slot也可以定义默认值，定义在slot标签内部，当不传递内容的时候，会出现默认值</span><br><span class="line">            template: &#96;&lt;div&gt;</span><br><span class="line">                            &lt;slot&gt;默认内容&lt;&#x2F;slot&gt;</span><br><span class="line">                       &lt;&#x2F;div&gt;&#96;        </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中使用插槽-3-具名插槽&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">       &lt;body-content&gt;</span><br><span class="line">            &lt;div class &#x3D; &quot;header&quot; slot&#x3D;&quot;header&quot;&gt;header&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class &#x3D; &quot;footer&quot; slot&#x3D;&quot;footer&quot;&gt;footer&lt;&#x2F;div&gt;</span><br><span class="line">       &lt;&#x2F;body-content&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;body-content&#39;, &#123;</span><br><span class="line">            &#x2F;&#x2F; 子组件中分别使用父插槽的内容,必须使用“具名插槽”：slot&#x3D;&quot;header&quot;，然后子组件&lt;slot&gt;标签使用name&#x3D;&quot;header&quot;，与具名插槽命名的内容对应。</span><br><span class="line">            &#x2F;&#x2F; 如果没有对应，则&lt;body-content&gt;中的所有父组件的内容都会被子组件&lt;slot&gt;标签所识别，造成DOM内容重复</span><br><span class="line">            &#x2F;&#x2F; 具名插槽也可以有默认值</span><br><span class="line">            template: &#96;&lt;div&gt;</span><br><span class="line">                            &lt;slot name&#x3D;&quot;header&quot;&gt;</span><br><span class="line">                                &lt;h1&gt;DefaultHeader&lt;&#x2F;h1&gt;</span><br><span class="line">                            &lt;&#x2F;slot&gt;</span><br><span class="line">                            &lt;div class&#x3D;&#39;content&#39;&gt;content&lt;&#x2F;div&gt;</span><br><span class="line">                            &lt;slot name&#x3D;&quot;footer&quot;&gt;FooterDefault&lt;&#x2F;slot&gt;</span><br><span class="line">                       &lt;&#x2F;div&gt;&#96;       </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中的作用域插槽"><a href="#Vue-中的作用域插槽" class="headerlink" title="Vue 中的作用域插槽"></a>Vue 中的作用域插槽</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中的作用域插槽&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;  </span><br><span class="line">       &lt;child&gt;</span><br><span class="line">           &lt;!-- 作用域插槽(以template开头和结尾的内容，同时声明从子组件接收的数据放在props中，以及如何内容展示)，这是固定写法 --&gt;</span><br><span class="line">           &lt;template slot-scope&#x3D;&quot;props&quot;&gt;</span><br><span class="line">                &lt;li&gt;&#123;&#123;props.item&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">           &lt;&#x2F;template&gt;</span><br><span class="line">       &lt;&#x2F;child&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            data: function() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    list: [1, 2, 3, 4]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#x2F;&#x2F; 向slot中传递item值</span><br><span class="line">            template: &#96;&lt;div&gt;</span><br><span class="line">                            &lt;ui&gt;</span><br><span class="line">                                &lt;slot v-for&#x3D;&quot;item of list&quot; :item&#x3D;item&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">                            &lt;&#x2F;ui&gt;</span><br><span class="line">                       &lt;&#x2F;div&gt;&#96;       </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-动态组件与v-once指令"><a href="#Vue-动态组件与v-once指令" class="headerlink" title="Vue 动态组件与v-once指令"></a>Vue 动态组件与v-once指令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue动态组件与v-once指令-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 点击按钮，实现内容往复更改 --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 老方式实现 --&gt;</span><br><span class="line">      &lt;!-- &lt;child-one v-if&#x3D;&quot;type&#x3D;&#x3D;&#x3D;&#39;child-one&#39;&quot;&gt;&lt;&#x2F;child-one&gt;</span><br><span class="line">      &lt;child-two v-if&#x3D;&quot;type&#x3D;&#x3D;&#x3D;&#39;child-two&#39;&quot;&gt;&lt;&#x2F;child-two&gt; --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Vue自带标签，代表动态组件 --&gt;</span><br><span class="line">        &lt;!-- 根据is里面type属性值的变化，自动加载不同的组件 --&gt;</span><br><span class="line">      &lt;conponent :is&#x3D;&quot;type&quot;&gt;&lt;&#x2F;conponent&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleBtnClick&quot;&gt;change&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child-one&#39;, &#123;</span><br><span class="line">            template: &#39;&lt;div&gt;child-one&lt;&#x2F;div&gt;&#39;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        Vue.component(&#39;child-two&#39;, &#123;</span><br><span class="line">            template: &#39;&lt;div&gt;child-two&lt;&#x2F;div&gt;&#39;       </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                type: &#39;child-one&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtnClick : function() &#123;</span><br><span class="line">                    this.type &#x3D; this.type &#x3D;&#x3D;&#x3D;&#39;child-one&#39; ? &#39;child-two&#39; : &#39;child-one&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue动态组件与v-once指令-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">      &lt;!-- 点击按钮，实现内容往复更改 --&gt;</span><br><span class="line">      &lt;!-- v-if 比较耗费性能，每次都要创建和销毁组件 --&gt;</span><br><span class="line">      &lt;child-one v-if&#x3D;&quot;type&#x3D;&#x3D;&#x3D;&#39;child-one&#39;&quot;&gt;&lt;&#x2F;child-one&gt;</span><br><span class="line">      &lt;child-two v-if&#x3D;&quot;type&#x3D;&#x3D;&#x3D;&#39;child-two&#39;&quot;&gt;&lt;&#x2F;child-two&gt;</span><br><span class="line"></span><br><span class="line">      &lt;button @click&#x3D;&quot;handleBtnClick&quot;&gt;change&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child-one&#39;, &#123;</span><br><span class="line">            &#x2F;&#x2F; 使用v-once，当组件是静态页面，每次页面展示都是一样的时候，则第一次被加载展示之后就被放入内存，下次再展示直接从内存中获取，不需要重新创建组件，提高页面展示效率</span><br><span class="line">            template: &#96;&lt;div v-once&gt;child-one&lt;&#x2F;div&gt;&#96;       </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        Vue.component(&#39;child-two&#39;, &#123;</span><br><span class="line">            template: &#96;&lt;div v-once&gt;child-two&lt;&#x2F;div&gt;&#96;       </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                type: &#39;child-one&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtnClick : function() &#123;</span><br><span class="line">                    this.type &#x3D; this.type &#x3D;&#x3D;&#x3D;&#39;child-one&#39; ? &#39;child-two&#39; : &#39;child-one&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中的CSS动画原理"><a href="#Vue-中的CSS动画原理" class="headerlink" title="Vue 中的CSS动画原理"></a>Vue 中的CSS动画原理</h1><p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231101144824923.png" alt="image-20231101144824923"></p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231101144920584.png" alt="image-20231101144920584"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中的CSS动画原理&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .fade-enter &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;*  监听opacity的变化 *&#x2F;</span><br><span class="line">        .fade-enter-active &#123;</span><br><span class="line">            transition: opacity 3s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .fade-leave-to &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;*  监听opacity的变化 *&#x2F;</span><br><span class="line">        .fade-leave-active &#123;</span><br><span class="line">            transition: opacity 3s;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 过渡动画效果 --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- &lt;transition&gt; 包裹的内容具有过渡的动画效果 --&gt;</span><br><span class="line">        &lt;!-- 默认前缀是v-,对应的样式前缀也要修改成v- --&gt;</span><br><span class="line">        &lt;transition name&#x3D;&quot;fade&quot;&gt;</span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中使用animate-css库"><a href="#Vue-中使用animate-css库" class="headerlink" title="Vue 中使用animate.css库"></a>Vue 中使用animate.css库</h1><p>官网地址：<a href="https://animate.style/" target="_blank" rel="noopener">Animate.css 官网</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中使用animate.css库-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        &#x2F;* 自定义的css3的@keyframes动画效果 *&#x2F;</span><br><span class="line">        @keyframes bounce-in &#123;</span><br><span class="line">            0% &#123;</span><br><span class="line">                transform: scale(0);</span><br><span class="line">            &#125;</span><br><span class="line">            50% &#123;</span><br><span class="line">                transform: scale(1.5);</span><br><span class="line">            &#125;</span><br><span class="line">            100% &#123;</span><br><span class="line">                transform: scale(1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;* 这两个样式全程存在，所以用这两个类引用css3动画效果 *&#x2F;</span><br><span class="line">        &#x2F;* .fade-enter-active&#123;</span><br><span class="line">            transform-origin: left center;</span><br><span class="line">            animation: bounce-in 1s;</span><br><span class="line">        &#125;</span><br><span class="line">        .fade-leave-active&#123;</span><br><span class="line">            transform-origin: left center;</span><br><span class="line">            animation: bounce-in 1s reverse</span><br><span class="line">        &#125; *&#x2F;</span><br><span class="line"></span><br><span class="line">        .active&#123;</span><br><span class="line">            transform-origin: left center;</span><br><span class="line">            animation: bounce-in 1s;</span><br><span class="line">        &#125;</span><br><span class="line">        .leave&#123;</span><br><span class="line">            transform-origin: left center;</span><br><span class="line">            animation: bounce-in 1s reverse</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 自定义样式名 --&gt;</span><br><span class="line">        &lt;transition </span><br><span class="line">            name&#x3D;&quot;fade&quot;</span><br><span class="line">            enter-active-class&#x3D;&quot;active&quot;</span><br><span class="line">            leave-active-class&#x3D;&quot;leave&quot;   </span><br><span class="line">        &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中使用animate.css库-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;!-- 引用animate, 版本是4.1.1 --&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;.&#x2F;animate.css&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">             1、必须使用自定义class名字的形式</span><br><span class="line">             2、4.0.0版本后使用animate__animated这个具体的开头类，后面跟着具体的效果类</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;transition </span><br><span class="line">            enter-active-class&#x3D;&quot;animate__animated animate__swing&quot;</span><br><span class="line">            leave-active-class&#x3D;&quot;animate__animated animate__shakeX&quot;   </span><br><span class="line">        &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中同时使用过渡动画和-keyframes动画"><a href="#Vue-中同时使用过渡动画和-keyframes动画" class="headerlink" title="Vue 中同时使用过渡动画和@keyframes动画"></a>Vue 中同时使用过渡动画和@keyframes动画</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中同时使用过渡动画和@keyframes动画&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;.&#x2F;animate.css&quot;&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .fade-enter, .fade-leave-to &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .fade-enter-active, .fade-leave-active &#123;</span><br><span class="line">            transition: opacity 3s;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- animate主要提供@keyframes css3的动画效果 --&gt;</span><br><span class="line">    &lt;!-- 要求：不仅展示css3的@keyframes动画效果还要展示transition过渡效果 --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 入场的时候使用appear展示css3动画效果 --&gt;</span><br><span class="line">        &lt;!-- type&#x3D;&quot;transition&quot;: 动画时长以transition这种形式的动画时长为准，所以为3s--&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;!-- &lt;transition</span><br><span class="line">            type&#x3D;&quot;transition&quot;</span><br><span class="line">            name&#x3D;&quot;fade&quot;</span><br><span class="line">            appear</span><br><span class="line">            enter-active-class&#x3D;&quot;animate__animated animate__swing fade-enter-active&quot;</span><br><span class="line">            leave-active-class&#x3D;&quot;animate__animated animate__shakeX fade-leave-active&quot;</span><br><span class="line">            appear-active-class&#x3D;&quot;animate__animated animate__swing&quot;  </span><br><span class="line">            &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello word&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt; --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- :duration&#x3D;&quot;10000&quot;: 自定义动画播放时长10s, 然后清除样式 --&gt;</span><br><span class="line">        &lt;!-- &lt;transition</span><br><span class="line">            :duration&#x3D;&quot;10000&quot;</span><br><span class="line">            name&#x3D;&quot;fade&quot;</span><br><span class="line">            appear</span><br><span class="line">            enter-active-class&#x3D;&quot;animate__animated animate__swing fade-enter-active&quot;</span><br><span class="line">            leave-active-class&#x3D;&quot;animate__animated animate__shakeX fade-leave-active&quot;</span><br><span class="line">            appear-active-class&#x3D;&quot;animate__animated animate__swing&quot;  </span><br><span class="line">            &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello word&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt; --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 复杂的自定义时长,入场动画5s，出场动画10s, 然后分别清除样式 --&gt;</span><br><span class="line">        &lt;transition</span><br><span class="line">            :duration&#x3D;&quot;&#123;enter: 5000, leave: 10000&#125;&quot;</span><br><span class="line">            name&#x3D;&quot;fade&quot;</span><br><span class="line">            appear</span><br><span class="line">            enter-active-class&#x3D;&quot;animate__animated animate__swing fade-enter-active&quot;</span><br><span class="line">            leave-active-class&#x3D;&quot;animate__animated animate__shakeX fade-leave-active&quot;</span><br><span class="line">            appear-active-class&#x3D;&quot;animate__animated animate__swing&quot;  </span><br><span class="line">            &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中的JS动画与velocity-js"><a href="#Vue-中的JS动画与velocity-js" class="headerlink" title="Vue 中的JS动画与velocity.js"></a>Vue 中的JS动画与velocity.js</h1><p>官网地址：<a href="http://velocityjs.org/" target="_blank" rel="noopener">Velocity.js 官网</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中的JS动画与velocity.js-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;!-- 引入 --&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;velocity.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- js动画钩子函数: @before-enter: 在动画展示之前默认执行的函数 --&gt;</span><br><span class="line">    &lt;!-- js动画钩子函数: @enter: 运行动画的时候，设置所有的动画效果 --&gt;</span><br><span class="line">    &lt;!-- js动画钩子函数: @after-enter: 在设置的动画效果执行完毕后调用的动画函数 --&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">         同样也有出场js动画钩子函数: </span><br><span class="line">         @before-leave</span><br><span class="line">         @leave</span><br><span class="line">         @after-leave</span><br><span class="line">         用法与入场动画的方式完全一致</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;transition </span><br><span class="line">            name&#x3D;&quot;fade&quot;</span><br><span class="line">            @before-enter&#x3D;&quot;handleBeforeEnter&quot;</span><br><span class="line">            @enter&#x3D;&quot;handleEnter&quot;</span><br><span class="line">            @after-enter&#x3D;&quot;handleAfterEnter&quot;</span><br><span class="line">        &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F; el: 表示动画包裹的div标签</span><br><span class="line">                handleBeforeEnter: function(el) &#123;</span><br><span class="line">                    el.style.color &#x3D; &#39;red&#39;;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F; el: 表示动画包裹的div标签 </span><br><span class="line">                &#x2F;&#x2F; done: 回调函数，动画执行结束需要手动调用一下done，告诉Vue，这个时候动画已经执行完了，然后会触发js的handleAfterEnter钩子函数</span><br><span class="line">                handleEnter: function(el, done)&#123;</span><br><span class="line">                    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                        el.style.color &#x3D;&#39;green&#39;</span><br><span class="line">                    &#125;, 2000)</span><br><span class="line">                    </span><br><span class="line">                    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                        done();</span><br><span class="line">                    &#125;, 4000)</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F; el: 表示动画包裹的div标签</span><br><span class="line">                handleAfterEnter: function(el) &#123;</span><br><span class="line">                    el.style.color &#x3D;&#39;#000&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中的JS动画与velocity.js-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;!-- 引入 --&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;velocity.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- js动画钩子函数: @before-enter: 在动画展示之前默认执行的函数 --&gt;</span><br><span class="line">    &lt;!-- js动画钩子函数: @enter: 运行动画的时候，设置所有的动画效果 --&gt;</span><br><span class="line">    &lt;!-- js动画钩子函数: @after-enter: 在设置的动画效果执行完毕后调用的动画函数 --&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">         同样也有出场js动画钩子函数: </span><br><span class="line">         @before-leave</span><br><span class="line">         @leave</span><br><span class="line">         @after-leave</span><br><span class="line">         用法与入场动画的方式完全一致</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;transition </span><br><span class="line">            name&#x3D;&quot;fade&quot;</span><br><span class="line">            @before-enter&#x3D;&quot;handleBeforeEnter&quot;</span><br><span class="line">            @enter&#x3D;&quot;handleEnter&quot;</span><br><span class="line">            @after-enter&#x3D;&quot;handleAfterEnter&quot;</span><br><span class="line">        &gt;    </span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F; el: 表示动画包裹的div标签</span><br><span class="line">                handleBeforeEnter: function(el) &#123;</span><br><span class="line">                    el.style.opacity &#x3D; 0;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F; el: 表示动画包裹的div标签, done: 回调函数</span><br><span class="line">                &#x2F;&#x2F; complete: done: 当velocity执行动画完成之后，complete属性对应的done函数内容会自动执行</span><br><span class="line">                handleEnter: function(el, done)&#123;</span><br><span class="line">                    Velocity(el, &#123;opacity: 1&#125;,&#123;duration: 1000,complete: done&#125;)      </span><br><span class="line">                &#125;,</span><br><span class="line">                &#x2F;&#x2F; el: 表示动画包裹的div标签</span><br><span class="line">                handleAfterEnter: function(el) &#123;</span><br><span class="line">                    console.log(&#39;动画结束&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中多个元素或组件的过渡"><a href="#Vue-中多个元素或组件的过渡" class="headerlink" title="Vue 中多个元素或组件的过渡"></a>Vue 中多个元素或组件的过渡</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中多个元素或组件的过渡-1&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        &#x2F;* &lt;transition&gt; 标签没用name&#x3D;&quot;&quot;，则只用使用“v-”开头   *&#x2F;</span><br><span class="line">        .v-enter, .v-leave-to &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .v-enter-active, .v-leave-active &#123;</span><br><span class="line">            transition: opacity 1s;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- mode: 设置多个元素切换时候的效果 --&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">            in-out：先进去，再隐藏</span><br><span class="line">            out-in: 隐藏的元素先隐藏，再演示</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;transition mode&#x3D;&quot;in-out&quot;&gt;</span><br><span class="line">            &lt;!-- Vue在元素切换的时候会复用DOM,因此需要设置Key,才可以出现动画效果 --&gt;</span><br><span class="line">            &lt;div v-if&#x3D;&quot;show&quot; key&#x3D;&quot;hello&quot;&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div v-else key&#x3D;&quot;bye&quot;&gt;Bye world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: true</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中多个元素或组件的过渡-2&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        &#x2F;* &lt;transition&gt; 标签没用name&#x3D;&quot;&quot;，则只用使用“v-”开头   *&#x2F;</span><br><span class="line">        .v-enter, .v-leave-to &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .v-enter-active, .v-leave-active &#123;</span><br><span class="line">            transition: opacity 1s;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- mode: 设置多个元素切换时候的效果 --&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">            in-out：先进去，再隐藏</span><br><span class="line">            out-in: 隐藏的元素先隐藏，再演示</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;transition mode&#x3D;&quot;in-out&quot;&gt;</span><br><span class="line">            &lt;!-- 使用动态组件的方式 --&gt;</span><br><span class="line">            &lt;component :is&#x3D;&quot;type&quot;&gt;&lt;&#x2F;component&gt;</span><br><span class="line">        &lt;&#x2F;transition&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.component(&#39;child&#39;, &#123;</span><br><span class="line">            template: &#39;&lt;div&gt;child&lt;&#x2F;div&gt;&#39;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        Vue.component(&#39;child-one&#39;, &#123;</span><br><span class="line">            template: &#39;&lt;div&gt;child-one&lt;&#x2F;div&gt;&#39;       </span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                type:&#39;child&#39;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleClick: function() &#123;</span><br><span class="line">                    this.type &#x3D; this.type &#x3D;&#x3D;&#x3D;&#39;child&#39; ? &#39;child-one&#39; : &#39;child&#39;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue-中的列表过渡"><a href="#Vue-中的列表过渡" class="headerlink" title="Vue 中的列表过渡"></a>Vue 中的列表过渡</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中的列表过渡&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .v-enter, .v-leave-to &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .v-enter-active, .v-leave-active &#123;</span><br><span class="line">            transition: opacity 1s;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;transition-group&gt;</span><br><span class="line">            &lt;div v-for&#x3D;&quot;(item, index) of list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">                &#123;&#123;item.title&#125;&#125;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;transition-group&gt;    </span><br><span class="line">    &lt;button @click &#x3D; &quot;handleBtnClick&quot;&gt;Add&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var count &#x3D; 0</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                list: []</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtnClick: function() &#123;</span><br><span class="line">                    this.list.push(&#123;</span><br><span class="line">                        id: count ++,</span><br><span class="line">                        title: &#39;hello world&#39;</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="Vue中的动画封装"><a href="#Vue中的动画封装" class="headerlink" title="Vue中的动画封装"></a>Vue中的动画封装</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Vue中的动画封装&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;script src &#x3D;&quot;vue.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;!-- 注释，样式也进行封装 --&gt;</span><br><span class="line">    &lt;!-- &lt;style&gt;</span><br><span class="line">        .v-enter, .v-leave-to &#123;</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        .v-enter-active, .v-leave-active &#123;</span><br><span class="line">            transition: opacity 1s;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;style&gt; --&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id&#x3D;&quot;root&quot;&gt;</span><br><span class="line">        &lt;fade :show&#x3D;&quot;show&quot;&gt;</span><br><span class="line">            &lt;div&gt;hello world&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;fade&gt;</span><br><span class="line"></span><br><span class="line">        &lt;fade :show&#x3D;&quot;show&quot;&gt;</span><br><span class="line">            &lt;h1&gt;hello world1&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;&#x2F;fade&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;handleBtnClick&quot;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        Vue.component(&#39;fade&#39;,&#123;</span><br><span class="line">            props: [&#39;show&#39;],</span><br><span class="line">            template: &#96;</span><br><span class="line">                    &lt;transition</span><br><span class="line">                        @before-enter&#x3D;&quot;handleBeforeEnter&quot;</span><br><span class="line">                        @enter&#x3D;&quot;handleEnter&quot;</span><br><span class="line">                        @after-enter&#x3D;&quot;handleAfterEnter&quot;</span><br><span class="line">                    &gt;</span><br><span class="line">                        &lt;slot v-if&#x3D;&quot;show&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">                    &lt;&#x2F;transition&gt;</span><br><span class="line">            &#96;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBeforeEnter: function(el) &#123;</span><br><span class="line">                    el.style.color &#x3D; &#39;red&#39;;</span><br><span class="line">                &#125;,</span><br><span class="line">                handleEnter: function(el, done)&#123;</span><br><span class="line">                    setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">                        el.style.color &#x3D;&#39;green&#39;</span><br><span class="line">                        done();</span><br><span class="line">                    &#125;, 2000)</span><br><span class="line">                &#125;,</span><br><span class="line">                handleAfterEnter: function(el) &#123;</span><br><span class="line">                    console.log(&#39;handleAfterEnter&#39;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        var vm &#x3D; new Vue(&#123;</span><br><span class="line">            el: &quot;#root&quot;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                show: false</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                handleBtnClick: function() &#123;</span><br><span class="line">                    this.show &#x3D; !this.show</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h1 id="项目实践"><a href="#项目实践" class="headerlink" title="项目实践"></a>项目实践</h1><h2 id="安装与初始化"><a href="#安装与初始化" class="headerlink" title="安装与初始化"></a>安装与初始化</h2><ul>
<li><p>安装nodejs <a href="https://nodejs.org/en/download" target="_blank" rel="noopener">下载</a></p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231102120335716.png" alt="image-20231102120335716"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化项目</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 全局安装vue-cli</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --global vue-cli</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建一个基于webpack模板的新项目</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vue init webpack my-project</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装依赖,走你</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> my-project</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm run dev</span></span><br></pre></td></tr></table></figure>

<p>具体细节</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">(base) PS D:\learn\vue_learn_travel&gt; npm install --global vue-cli</span><br><span class="line">npm WARN deprecated vue-cli@<span class="number">2</span>.<span class="number">9</span>.<span class="number">6</span>: This package has been deprecated <span class="keyword">in</span> favour of @vue/cli</span><br><span class="line">npm WARN deprecated consolidate@<span class="number">0</span>.<span class="number">14</span>.<span class="number">5</span>: Please upgrade to consolidate v1.<span class="number">0</span>.<span class="number">0</span>+ as it has been modernized with several long-awaited fixes implemented. Maintenanpm WARN deprecated request@<span class="number">2</span>.<span class="number">88</span>.<span class="number">2</span>: request has been deprecated, see https://github.com/request/request/issues/<span class="number">3142</span></span><br><span class="line">npm WARN deprecated coffee-script@<span class="number">1</span>.<span class="number">12</span>.<span class="number">7</span>: CoffeeScript on NPM has moved to "coffeescript" (no hyphen)</span><br><span class="line">npm WARN deprecated har-validator@<span class="number">5</span>.<span class="number">1</span>.<span class="number">5</span>: this library is no longer supported</span><br><span class="line">npm WARN deprecated uuid@<span class="number">3</span>.<span class="number">4</span>.<span class="number">0</span>: Please upgrade  to version <span class="number">7</span> or higher.  Older versions may use Math.random() <span class="keyword">in</span> certain circumstances, which is known to be </span><br><span class="line">problematic.  See https://v8.dev/blog/math-random <span class="keyword">for</span> details.</span><br><span class="line"><span class="function">C:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">vue</span> -&gt; <span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">node_modules</span>\<span class="title">vue</span>-<span class="title">cli</span>\<span class="title">bin</span>\<span class="title">vue</span></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">vue</span>-<span class="title">list</span> -&gt; <span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">node_modules</span>\<span class="title">vue</span>-<span class="title">cli</span>\<span class="title">bin</span>\<span class="title">vue</span>-<span class="title">list</span></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">vue</span>-<span class="title">init</span> -&gt; <span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">node_modules</span>\<span class="title">vue</span>-<span class="title">cli</span>\<span class="title">bin</span>\<span class="title">vue</span>-<span class="title">init</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">metalsmith</span>@2.6.1 <span class="title">postinstall</span> <span class="title">C</span>:\<span class="title">Program</span> <span class="title">Files</span>\<span class="title">nodejs</span>\<span class="title">node_modules</span>\<span class="title">vue</span>-<span class="title">cli</span>\<span class="title">node_modules</span>\<span class="title">metalsmith</span></span></span><br><span class="line"><span class="function">&gt; <span class="title">node</span> <span class="title">metalsmith</span>-<span class="title">migrated</span>-<span class="title">plugins.js</span> || <span class="title">exit</span> 0</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">Unsupported</span> <span class="title">engine</span> <span class="title">for</span> <span class="title">metalsmith</span>@2.6.1: <span class="title">wanted</span>: &#123;"<span class="title">node</span>":"&gt;=14.14.0"&#125; (<span class="title">current</span>: &#123;"<span class="title">node</span>":"13.14.0","<span class="title">npm</span>":"6.14.4"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">Not</span> <span class="title">compatible</span> <span class="title">with</span> <span class="title">your</span> <span class="title">version</span> <span class="title">of</span> <span class="title">node</span>/<span class="title">npm</span>: <span class="title">metalsmith</span>@2.6.1</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">Unsupported</span> <span class="title">engine</span> <span class="title">for</span> <span class="title">commander</span>@10.0.1: <span class="title">wanted</span>: &#123;"<span class="title">node</span>":"&gt;=14"&#125; (<span class="title">current</span>: &#123;"<span class="title">node</span>":"13.14.0","<span class="title">npm</span>":"6.14.4"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">Not</span> <span class="title">compatible</span> <span class="title">with</span> <span class="title">your</span> <span class="title">version</span> <span class="title">of</span> <span class="title">node</span>/<span class="title">npm</span>: <span class="title">commander</span>@10.0.1</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@~2.3.2 (<span class="title">node_modules</span>\<span class="title">vue</span>-<span class="title">cli</span>\<span class="title">node_modules</span>\<span class="title">chokidar</span>\<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@2.3.3: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">+ <span class="title">vue</span>-<span class="title">cli</span>@2.9.6</span></span><br><span class="line"><span class="function"><span class="title">added</span> 233 <span class="title">packages</span> <span class="title">from</span> 211 <span class="title">contributors</span> <span class="title">in</span> 13.158<span class="title">s</span></span></span><br><span class="line"><span class="function">(<span class="title">base</span>) <span class="title">PS</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>&gt; <span class="title">cd</span> ..</span></span><br><span class="line"><span class="function">(<span class="title">base</span>) <span class="title">PS</span> <span class="title">D</span>:\<span class="title">learn</span>&gt; <span class="title">vue</span> <span class="title">init</span> <span class="title">webpack</span> <span class="title">vue_learn_travel</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">? <span class="title">Target</span> <span class="title">directory</span> <span class="title">exists</span>. <span class="title">Continue</span>? <span class="title">Yes</span></span></span><br><span class="line"><span class="function">? <span class="title">Project</span> <span class="title">name</span> <span class="title">vue_learn_travel</span></span></span><br><span class="line"><span class="function">? <span class="title">Project</span> <span class="title">description</span> <span class="title">A</span> <span class="title">Vue.js</span> <span class="title">project</span></span></span><br><span class="line"><span class="function">? <span class="title">Author</span> <span class="title">zruiquan</span></span></span><br><span class="line"><span class="function">? <span class="title">Vue</span> <span class="title">build</span> <span class="title">standalone</span>      </span></span><br><span class="line"><span class="function">? <span class="title">Install</span> <span class="title">vue</span>-<span class="title">router</span>? <span class="title">Yes</span></span></span><br><span class="line"><span class="function">? <span class="title">Use</span> <span class="title">ESLint</span> <span class="title">to</span> <span class="title">lint</span> <span class="title">your</span> <span class="title">code</span>? <span class="title">Yes</span></span></span><br><span class="line"><span class="function">? <span class="title">Pick</span> <span class="title">an</span> <span class="title">ESLint</span> <span class="title">preset</span> <span class="title">Standard</span></span></span><br><span class="line"><span class="function">? <span class="title">Set</span> <span class="title">up</span> <span class="title">unit</span> <span class="title">tests</span> <span class="title">No</span></span></span><br><span class="line"><span class="function">? <span class="title">Setup</span> <span class="title">e2e</span> <span class="title">tests</span> <span class="title">with</span> <span class="title">Nightwatch</span>? <span class="title">No</span></span></span><br><span class="line"><span class="function">? <span class="title">Should</span> <span class="title">we</span> <span class="title">run</span> `<span class="title">npm</span> <span class="title">install</span>` <span class="title">for</span> <span class="title">you</span> <span class="title">after</span> <span class="title">the</span> <span class="title">project</span> <span class="title">has</span> <span class="title">been</span> <span class="title">created</span>? (<span class="title">recommended</span>) <span class="title">npm</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   <span class="title">vue</span>-<span class="title">cli</span> · <span class="title">Generated</span> "<span class="title">vue_learn_travel</span>".</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># <span class="title">Installing</span> <span class="title">project</span> <span class="title">dependencies</span> ...</span></span><br><span class="line"><span class="function"># ========================</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">babel</span>-<span class="title">eslint</span>@8.2.6: <span class="title">babel</span>-<span class="title">eslint</span> <span class="title">is</span> <span class="title">now</span> @<span class="title">babel</span>/<span class="title">eslint</span>-<span class="title">parser</span>. <span class="title">This</span> <span class="title">package</span> <span class="title">will</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">receive</span> <span class="title">updates</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">eslint</span>-<span class="title">loader</span>@1.9.0: <span class="title">This</span> <span class="title">loader</span> <span class="title">has</span> <span class="title">been</span> <span class="title">deprecated</span>. <span class="title">Please</span> <span class="title">use</span> <span class="title">eslint</span>-<span class="title">webpack</span>-<span class="title">plugin</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">extract</span>-<span class="title">text</span>-<span class="title">webpack</span>-<span class="title">plugin</span>@3.0.2: <span class="title">Deprecated</span>. <span class="title">Please</span> <span class="title">use</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">webpack</span>-<span class="title">contrib</span>/<span class="title">mini</span>-<span class="title">css</span>-<span class="title">extract</span>-<span class="title">plugin</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">html</span>-<span class="title">webpack</span>-<span class="title">plugin</span>@2.30.1: <span class="title">out</span> <span class="title">of</span> <span class="title">support</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">browserslist</span>@2.11.3: <span class="title">Browserslist</span> 2 <span class="title">could</span> <span class="title">fail</span> <span class="title">on</span> <span class="title">reading</span> <span class="title">Browserslist</span> &gt;3.0 <span class="title">config</span> <span class="title">used</span> <span class="title">in</span> <span class="title">other</span> <span class="title">tools</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">uglify</span>-<span class="title">es</span>@3.3.9: <span class="title">support</span> <span class="title">for</span> <span class="title">ECMAScript</span> <span class="title">is</span> <span class="title">superseded</span> <span class="title">by</span> `<span class="title">uglify</span>-<span class="title">js</span>` <span class="title">as</span> <span class="title">of</span> <span class="title">v3</span>.13.0</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">consolidate</span>@0.14.5: <span class="title">Please</span> <span class="title">upgrade</span> <span class="title">to</span> <span class="title">consolidate</span> <span class="title">v1</span>.0.0+ <span class="title">as</span> <span class="title">it</span> <span class="title">has</span> <span class="title">been</span> <span class="title">modernized</span> <span class="title">with</span> <span class="title">several</span> <span class="title">long</span>-<span class="title">awaited</span> <span class="title">fixes</span> <span class="title">implemented</span>. <span class="title">Maintenance</span> <span class="title">is</span> <span class="title">supported</span> <span class="title">by</span> <span class="title">Forward</span> <span class="title">Email</span> <span class="title">at</span> <span class="title">https</span>://<span class="title">forwardemail.net</span> ; <span class="title">follow</span>/<span class="title">watch</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">ladjs</span>/<span class="title">consolidate</span> <span class="title">for</span> <span class="title">updates</span> <span class="title">and</span> <span class="title">release</span> <span class="title">changelog</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">bfj</span>-<span class="title">node4</span>@5.3.1: <span class="title">Switch</span> <span class="title">to</span> <span class="title">the</span> `<span class="title">bfj</span>` <span class="title">package</span> <span class="title">for</span> <span class="title">fixes</span> <span class="title">and</span> <span class="title">new</span> <span class="title">features</span>!</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">core</span>-<span class="title">js</span>@2.6.12: <span class="title">core</span>-<span class="title">js</span>@&lt;3.23.3 <span class="title">is</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">maintained</span> <span class="title">and</span> <span class="title">not</span> <span class="title">recommended</span> <span class="title">for</span> <span class="title">usage</span> <span class="title">due</span> <span class="title">to</span> <span class="title">the</span> <span class="title">number</span> <span class="title">of</span> <span class="title">issues</span>. <span class="title">Because</span> <span class="title">of</span> <span class="title">the</span> <span class="title">V8</span> <span class="title">engine</span> <span class="title">whims</span>, <span class="title">feature</span> <span class="title">detection</span> <span class="title">in</span> <span class="title">old</span> <span class="title">core</span>-<span class="title">js</span> <span class="title">versions</span> <span class="title">could</span> <span class="title">cause</span> <span class="title">a</span> <span class="title">slowdown</span> <span class="title">up</span> <span class="title">to</span> 100<span class="title">x</span> <span class="title">even</span> <span class="title">if</span> <span class="title">nothing</span> <span class="title">is</span> <span class="title">polyfilled</span>. <span class="title">Some</span> <span class="title">versions</span> <span class="title">have</span> <span class="title">web</span> <span class="title">compatibility</span> <span class="title">issues</span>. <span class="title">Please</span>, <span class="title">upgrade</span> <span class="title">your</span> <span class="title">dependencies</span> <span class="title">to</span> <span class="title">the</span> <span class="title">actual</span> <span class="title">version</span> <span class="title">of</span> <span class="title">core</span>-<span class="title">js</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">chokidar</span>@2.1.8: <span class="title">Chokidar</span> 2 <span class="title">does</span> <span class="title">not</span> <span class="title">receive</span> <span class="title">security</span> <span class="title">updates</span> <span class="title">since</span> 2019. <span class="title">Upgrade</span> <span class="title">to</span> <span class="title">chokidar</span> 3 <span class="title">with</span> 15<span class="title">x</span> <span class="title">fewer</span> <span class="title">dependencies</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">acorn</span>-<span class="title">dynamic</span>-<span class="title">import</span>@2.0.2: <span class="title">This</span> <span class="title">is</span> <span class="title">probably</span> <span class="title">built</span> <span class="title">in</span> <span class="title">to</span> <span class="title">whatever</span> <span class="title">tool</span> <span class="title">you</span>'<span class="title">re</span> <span class="title">using</span>. <span class="title">If</span> <span class="title">you</span> <span class="title">still</span> <span class="title">need</span> <span class="title">it</span>... <span class="title">idk</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">flatten</span>@1.0.3: <span class="title">flatten</span> <span class="title">is</span> <span class="title">deprecated</span> <span class="title">in</span> <span class="title">favor</span> <span class="title">of</span> <span class="title">utility</span> <span class="title">frameworks</span> <span class="title">such</span> <span class="title">as</span> <span class="title">lodash</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">fsevents</span>@1.2.13: <span class="title">The</span> <span class="title">v1</span> <span class="title">package</span> <span class="title">contains</span> <span class="title">DANGEROUS</span> / <span class="title">INSECURE</span> <span class="title">binaries</span>. <span class="title">Upgrade</span> <span class="title">to</span> <span class="title">safe</span> <span class="title">fsevents</span> <span class="title">v2</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">uuid</span>@3.4.0: <span class="title">Please</span> <span class="title">upgrade</span>  <span class="title">to</span> <span class="title">version</span> 7 <span class="title">or</span> <span class="title">higher</span>.  <span class="title">Older</span> <span class="title">versions</span> <span class="title">may</span> <span class="title">use</span> <span class="title">Math.random</span>() <span class="title">in</span> <span class="title">certain</span> <span class="title">circumstances</span>, <span class="title">which</span> <span class="title">is</span> <span class="title">known</span> <span class="title">to</span> <span class="title">be</span> </span></span><br><span class="line"><span class="function"><span class="title">problematic</span>.  <span class="title">See</span> <span class="title">https</span>://<span class="title">v8.dev</span>/<span class="title">blog</span>/<span class="title">math</span>-<span class="title">random</span> <span class="title">for</span> <span class="title">details</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">browserslist</span>@1.7.7: <span class="title">Browserslist</span> 2 <span class="title">could</span> <span class="title">fail</span> <span class="title">on</span> <span class="title">reading</span> <span class="title">Browserslist</span> &gt;3.0 <span class="title">config</span> <span class="title">used</span> <span class="title">in</span> <span class="title">other</span> <span class="title">tools</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">svgo</span>@0.7.2: <span class="title">This</span> <span class="title">SVGO</span> <span class="title">version</span> <span class="title">is</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">supported</span>. <span class="title">Upgrade</span> <span class="title">to</span> <span class="title">v2.x.x</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">circular</span>-<span class="title">json</span>@0.3.3: <span class="title">CircularJSON</span> <span class="title">is</span> <span class="title">in</span> <span class="title">maintenance</span> <span class="title">only</span>, <span class="title">flatted</span> <span class="title">is</span> <span class="title">its</span> <span class="title">successor</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">svgo</span>@1.3.2: <span class="title">This</span> <span class="title">SVGO</span> <span class="title">version</span> <span class="title">is</span> <span class="title">no</span> <span class="title">longer</span> <span class="title">supported</span>. <span class="title">Upgrade</span> <span class="title">to</span> <span class="title">v2.x.x</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">source</span>-<span class="title">map</span>-<span class="title">resolve</span>@0.5.3: <span class="title">See</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">lydell</span>/<span class="title">source</span>-<span class="title">map</span>-<span class="title">resolve</span>#<span class="title">deprecated</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">stable</span>@0.1.8: <span class="title">Modern</span> <span class="title">JS</span> <span class="title">already</span> <span class="title">guarantees</span> <span class="title">Array</span>#<span class="title">sort</span>() <span class="title">is</span> <span class="title">a</span> <span class="title">stable</span> <span class="title">sort</span>, <span class="title">so</span> <span class="title">this</span> <span class="title">library</span> <span class="title">is</span> <span class="title">deprecated</span>. <span class="title">See</span> <span class="title">the</span> <span class="title">compatibility</span> <span class="title">table</span> <span class="title">on</span> <span class="title">MDN</span>: <span class="title">https</span>://<span class="title">developer.mozilla.org</span>/<span class="title">en</span>-<span class="title">US</span>/<span class="title">docs</span>/<span class="title">Web</span>/<span class="title">JavaScript</span>/<span class="title">Reference</span>/<span class="title">Global_Objects</span>/<span class="title">Array</span>/<span class="title">sort</span>#<span class="title">browser_compatibility</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">resolve</span>-<span class="title">url</span>@0.2.1: <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">lydell</span>/<span class="title">resolve</span>-<span class="title">url</span>#<span class="title">deprecated</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">source</span>-<span class="title">map</span>-<span class="title">url</span>@0.4.1: <span class="title">See</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">lydell</span>/<span class="title">source</span>-<span class="title">map</span>-<span class="title">url</span>#<span class="title">deprecated</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">deprecated</span> <span class="title">urix</span>@0.1.0: <span class="title">Please</span> <span class="title">see</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">lydell</span>/<span class="title">urix</span>#<span class="title">deprecated</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">core</span>-<span class="title">js</span>@2.6.12 <span class="title">postinstall</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>\<span class="title">node_modules</span>\<span class="title">core</span>-<span class="title">js</span></span></span><br><span class="line"><span class="function">&gt; <span class="title">node</span> -<span class="title">e</span> "<span class="title">try</span>&#123;<span class="title">require</span>('./<span class="title">postinstall</span>')&#125;<span class="title">catch</span>(<span class="title">e</span>)&#123;&#125;"</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Thank</span> <span class="title">you</span> <span class="title">for</span> <span class="title">using</span> <span class="title">core</span>-<span class="title">js</span> ( <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">zloirock</span>/<span class="title">core</span>-<span class="title">js</span> ) <span class="title">for</span> <span class="title">polyfilling</span> <span class="title">JavaScript</span> <span class="title">standard</span> <span class="title">library</span>!</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">The</span> <span class="title">project</span> <span class="title">needs</span> <span class="title">your</span> <span class="title">help</span>! <span class="title">Please</span> <span class="title">consider</span> <span class="title">supporting</span> <span class="title">of</span> <span class="title">core</span>-<span class="title">js</span> <span class="title">on</span> <span class="title">Open</span> <span class="title">Collective</span> <span class="title">or</span> <span class="title">Patreon</span>: </span></span><br><span class="line"><span class="function">&gt; <span class="title">https</span>://<span class="title">opencollective.com</span>/<span class="title">core</span>-<span class="title">js</span> </span></span><br><span class="line"><span class="function">&gt; <span class="title">https</span>://<span class="title">www.patreon.com</span>/<span class="title">zloirock</span> </span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Also</span>, <span class="title">the</span> <span class="title">author</span> <span class="title">of</span> <span class="title">core</span>-<span class="title">js</span> ( <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">zloirock</span> ) <span class="title">is</span> <span class="title">looking</span> <span class="title">for</span> <span class="title">a</span> <span class="title">good</span> <span class="title">job</span> -)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">ejs</span>@2.7.4 <span class="title">postinstall</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>\<span class="title">node_modules</span>\<span class="title">ejs</span></span></span><br><span class="line"><span class="function">&gt; <span class="title">node</span> ./<span class="title">postinstall.js</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Thank</span> <span class="title">you</span> <span class="title">for</span> <span class="title">installing</span> <span class="title">EJS</span>: <span class="title">built</span> <span class="title">with</span> <span class="title">the</span> <span class="title">Jake</span> <span class="title">JavaScript</span> <span class="title">build</span> <span class="title">tool</span> (<span class="title">https</span>://<span class="title">jakejs.com</span>/)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">es5</span>-<span class="title">ext</span>@0.10.62 <span class="title">postinstall</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>\<span class="title">node_modules</span>\<span class="title">es5</span>-<span class="title">ext</span></span></span><br><span class="line"><span class="function">&gt;  <span class="title">node</span> -<span class="title">e</span> "<span class="title">try</span>&#123;<span class="title">require</span>('./<span class="title">_postinstall</span>')&#125;<span class="title">catch</span>(<span class="title">e</span>)&#123;&#125;" || <span class="title">exit</span> 0</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">uglifyjs</span>-<span class="title">webpack</span>-<span class="title">plugin</span>@0.4.6 <span class="title">postinstall</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>\<span class="title">node_modules</span>\<span class="title">webpack</span>\<span class="title">node_modules</span>\<span class="title">uglifyjs</span>-<span class="title">webpack</span>-<span class="title">plugin</span></span></span><br><span class="line"><span class="function">&gt; <span class="title">node</span> <span class="title">lib</span>/<span class="title">post_install.js</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">notice</span> <span class="title">created</span> <span class="title">a</span> <span class="title">lockfile</span> <span class="title">as</span> <span class="title">package</span>-<span class="title">lock.json</span>. <span class="title">You</span> <span class="title">should</span> <span class="title">commit</span> <span class="title">this</span> <span class="title">file</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">Unsupported</span> <span class="title">engine</span> <span class="title">for</span> <span class="title">postcss</span>@8.4.31: <span class="title">wanted</span>: &#123;"<span class="title">node</span>":"^10 || ^12 || &gt;=14"&#125; (<span class="title">current</span>: &#123;"<span class="title">node</span>":"13.14.0","<span class="title">npm</span>":"6.14.4"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">Not</span> <span class="title">compatible</span> <span class="title">with</span> <span class="title">your</span> <span class="title">version</span> <span class="title">of</span> <span class="title">node</span>/<span class="title">npm</span>: <span class="title">postcss</span>@8.4.31</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@~2.3.2 (<span class="title">node_modules</span>\<span class="title">chokidar</span>\<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@2.3.3: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@^1.2.7 (<span class="title">node_modules</span>\<span class="title">watchpack</span>-<span class="title">chokidar2</span>\<span class="title">node_modules</span>\<span class="title">chokidar</span>\<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@1.2.13: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@^1.2.7 (<span class="title">node_modules</span>\<span class="title">webpack</span>-<span class="title">dev</span>-<span class="title">server</span>\<span class="title">node_modules</span>\<span class="title">chokidar</span>\<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@1.2.13: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">update</span>-<span class="title">browserslist</span>-<span class="title">db</span>@1.0.13 <span class="title">requires</span> <span class="title">a</span> <span class="title">peer</span> <span class="title">of</span> <span class="title">browserslist</span>@&gt;= 4.21.0 <span class="title">but</span> <span class="title">none</span> <span class="title">is</span> <span class="title">installed</span>. <span class="title">You</span> <span class="title">must</span> <span class="title">install</span> <span class="title">peer</span> <span class="title">dependencies</span> <span class="title">yourself</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">added</span> 1441 <span class="title">packages</span> <span class="title">from</span> 717 <span class="title">contributors</span> <span class="title">in</span> 85.516<span class="title">s</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">95 <span class="title">packages</span> <span class="title">are</span> <span class="title">looking</span> <span class="title">for</span> <span class="title">funding</span></span></span><br><span class="line"><span class="function">  <span class="title">run</span> `<span class="title">npm</span> <span class="title">fund</span>` <span class="title">for</span> <span class="title">details</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Running</span> <span class="title">eslint</span> --<span class="title">fix</span> <span class="title">to</span> <span class="title">comply</span> <span class="title">with</span> <span class="title">chosen</span> <span class="title">preset</span> <span class="title">rules</span>...</span></span><br><span class="line"><span class="function"># ========================</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">vue_learn_travel</span>@1.0.0 <span class="title">lint</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span></span></span><br><span class="line"><span class="function">&gt; <span class="title">eslint</span> --<span class="title">ext</span> .<span class="title">js</span>,.<span class="title">vue</span> <span class="title">src</span> "--<span class="title">fix</span>"</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"># <span class="title">Project</span> <span class="title">initialization</span> <span class="title">finished</span>!</span></span><br><span class="line"><span class="function"># ========================</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">To</span> <span class="title">get</span> <span class="title">started</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  <span class="title">cd</span> <span class="title">vue_learn_travel</span></span></span><br><span class="line"><span class="function">  <span class="title">npm</span> <span class="title">run</span> <span class="title">dev</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Documentation</span> <span class="title">can</span> <span class="title">be</span> <span class="title">found</span> <span class="title">at</span> <span class="title">https</span>://<span class="title">vuejs</span>-<span class="title">templates.github.io</span>/<span class="title">webpack</span></span></span><br><span class="line"><span class="function">(<span class="title">base</span>) <span class="title">PS</span> <span class="title">D</span>:\<span class="title">learn</span>&gt; <span class="title">cd</span> .\<span class="title">vue_learn_travel</span>\</span></span><br><span class="line"><span class="function">(<span class="title">base</span>) <span class="title">PS</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>&gt; <span class="title">npm</span> <span class="title">install</span></span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">update</span>-<span class="title">browserslist</span>-<span class="title">db</span>@1.0.13 <span class="title">requires</span> <span class="title">a</span> <span class="title">peer</span> <span class="title">of</span> <span class="title">browserslist</span>@&gt;= 4.21.0 <span class="title">but</span> <span class="title">none</span> <span class="title">is</span> <span class="title">installed</span>. <span class="title">You</span> <span class="title">must</span> <span class="title">install</span> <span class="title">peer</span> <span class="title">dependencies</span> <span class="title">yourself</span>.</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@2.3.3 (<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@2.3.3: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@1.2.13 (<span class="title">node_modules</span>\<span class="title">watchpack</span>-<span class="title">chokidar2</span>\<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@1.2.13: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">optional</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">fsevents</span>@1.2.13 (<span class="title">node_modules</span>\<span class="title">webpack</span>-<span class="title">dev</span>-<span class="title">server</span>\<span class="title">node_modules</span>\<span class="title">fsevents</span>):</span></span><br><span class="line"><span class="function"><span class="title">npm</span> <span class="title">WARN</span> <span class="title">notsup</span> <span class="title">SKIPPING</span> <span class="title">OPTIONAL</span> <span class="title">DEPENDENCY</span>: <span class="title">Unsupported</span> <span class="title">platform</span> <span class="title">for</span> <span class="title">fsevents</span>@1.2.13: <span class="title">wanted</span> &#123;"<span class="title">os</span>":"<span class="title">darwin</span>","<span class="title">arch</span>":"<span class="title">any</span>"&#125; (<span class="title">current</span>: &#123;"<span class="title">os</span>":"<span class="title">win32</span>","<span class="title">arch</span>":"<span class="title">x64</span>"&#125;)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">up</span> <span class="title">to</span> <span class="title">date</span> <span class="title">in</span> 4.936<span class="title">s</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">95 <span class="title">packages</span> <span class="title">are</span> <span class="title">looking</span> <span class="title">for</span> <span class="title">funding</span></span></span><br><span class="line"><span class="function">  <span class="title">run</span> `<span class="title">npm</span> <span class="title">fund</span>` <span class="title">for</span> <span class="title">details</span></span></span><br><span class="line"><span class="function">  (<span class="title">base</span>) <span class="title">PS</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>&gt; <span class="title">npm</span> <span class="title">run</span> <span class="title">dev</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&gt; <span class="title">vue_learn_travel</span>@1.0.0 <span class="title">dev</span> <span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span></span></span><br><span class="line"><span class="function">&gt; <span class="title">webpack</span>-<span class="title">dev</span>-<span class="title">server</span> --<span class="title">inline</span> --<span class="title">progress</span> --<span class="title">config</span> <span class="title">build</span>/<span class="title">webpack.dev.conf.js</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> 13% <span class="title">building</span> <span class="title">modules</span> 25/28 <span class="title">modules</span> 3 <span class="title">active</span> ...<span class="title">D</span>:\<span class="title">learn</span>\<span class="title">vue_learn_travel</span>\<span class="title">src</span>\<span class="title">App.vue</span>&#123; <span class="title">parser</span>: "<span class="title">babylon</span>" &#125; <span class="title">is</span> <span class="title">deprecated</span>; <span class="title">we</span> <span class="title">now</span> <span class="title">treat</span> <span class="title">it</span> <span class="title">as</span> &#123; <span class="title">parser</span>: "<span class="title">babel</span>" &#125;.</span></span><br><span class="line"><span class="function"> 95% <span class="title">emitting</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> <span class="title">DONE</span>  <span class="title">Compiled</span> <span class="title">successfully</span> <span class="title">in</span> 3373<span class="title">ms</span>                                                                                                            下午3:39:27</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> <span class="title">I</span>  <span class="title">Your</span> <span class="title">application</span> <span class="title">is</span> <span class="title">running</span> <span class="title">here</span>: <span class="title">http</span>://<span class="title">localhost</span>:8080</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="项目目录介绍"><a href="#项目目录介绍" class="headerlink" title="项目目录介绍"></a>项目目录介绍</h2><p>结构简单说明：</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/1158910-20180402144503205-1826635828.png" alt="img"></p>
<p>总体架构：</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/b0275880745b2ca6c1e912ef789f632b.png" alt="img"></p>
<p>结构细分：</p>
<p>1、build—[webpack配置]</p>
<p>build文件主要是webpack的配置，主要启动文件是dev-server.js，当我们输入npm run dev首先启动的就是dev-server.js，它会去检查node及npm版本，加载配置文件，启动服务。</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/4a7c225243262106210d2e394f344a51.png" alt="img"></p>
<p>2、config—[vue项目配置]</p>
<p>config文件主要是项目相关配置，我们常用的就是当端口冲突时配置监听端口，打包输出路径及命名等</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/6aab84085768ffaa6662d44289dd271d.png" alt="img"></p>
<p>3、node_modules—[依赖包]</p>
<p>4、src——[项目核心文件]</p>
<h2 id="脚手架代码详解"><a href="#脚手架代码详解" class="headerlink" title="脚手架代码详解"></a>脚手架代码详解</h2><p>我们看下创建后的项目目录里的主要文件：</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/3be87a79deb85f8d882f22f5b09660be.png" alt="img"></p>
<ol>
<li><p><strong>index.html——[主页]</strong></p>
<p>这个没什么好说的，就是一个简单的html页面，这里id=’app’，是为后面的设置vue作用域有关的。index.html如其他html一样，但一般只定义一个空的根节点，在main.js里面定义的实例将挂载在根节点下，内容都通过vue组件来填充</p>
</li>
<li><p><strong>文件：Hello.vue</strong></p>
<p>说明：在*.vue文件，template标签里写html代码，且template直接子级只能有一个标签。style标签里写样式，script里面写js代码。</p>
</li>
<li><p><strong>文件：App.vue——[根组件]</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;.&#x2F;assets&#x2F;logo.png&quot;&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt; &#x2F;&#x2F;这里是用来展示路由页面内容的，如果想用跳转就用&lt;router-link to&#x3D;&#39;xxx&#39;&gt;&lt;&#x2F;router-link&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: &#39;Avenir&#39;, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>一个vue页面通常由三部分组成:模板(template)、js(script)、样式(style):</p>
<p><strong>【template】</strong></p>
<p>其中模板只能包含一个父节点，也就是说顶层的div只能有一个（例如下图，父节点为#app的div，其没有兄弟节点）</p>
<p><code>&lt;router-view&gt;&lt;/router-view&gt;</code>是子路由视图，后面的路由页面都显示在此处。打一个比喻吧，<code>&lt;router-view&gt;</code>类似于一个插槽，跳转某个路由时，该路由下的页面就插在这个插槽中渲染显示</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/87340f2886d9fb82ccd094afbac5460f.png" alt="img"></p>
<p><strong>【script】</strong></p>
<p>vue通常用es6来写，用export default导出，其下面可以包含数据data，生命周期(mounted等)，方法(methods)等，具体语法请看vue.js文档，在后面我也会通过例子来说明。</p>
<p><strong>【style】</strong></p>
<p>样式通过style标签<code>&lt;style&gt;&lt;/style&gt;</code>包裹，默认是影响全局的，**如需定义作用域只在该组件下起作用，需在标签上加<code>scoped</code>，<code>&lt;style scoped&gt;&lt;/style&gt;</code></p>
<p>如要引入外部css文件，首先需给项目安装css-loader依赖包，打开cmd，进入项目目录，输入npm install css-loader，回车。安装完成后，就可以在style标签下import所需的css文件，例如：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">    import './assets/css/public.css'</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>这样，我们就可以把style下的样式封装起来，写到css文件夹，再引入到页面使用，整个vue页面也看上去更简洁。</p>
</li>
<li><p><strong>文件：main.js——[入口文件]</strong></p>
<p>这个js文件是主页面配置的主入口。主要是利用ES6的模块化引入模板</p>
<p>main.js主要是引入vue框架，根组件及路由设置，并且定义vue实例，下面代码中的components:{App}就是引入的根组件App.vue</p>
<p>后期还可以引入插件，当然首先得安装插件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span> <span class="comment">// 引入vue文件, 后面可以不用加后缀，webpack会优先选择.vue后缀文件</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span> <span class="comment">// 引入同目录下的App.vue模块</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span> <span class="comment">// 引入vue的路由, 自动引入router目录下的index.js文件</span></span><br><span class="line"> </span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>, <span class="comment">// 定义作用范围就是index.html里的id为app的范围内</span></span><br><span class="line">  router, <span class="comment">// 引入路由，es6语法的关系可以省略一部分的内容，其实可以写成 router: router</span></span><br><span class="line">  components: &#123; App &#125;, <span class="comment">// 注册引入的组件App.vue, es6语法的关系可以省略一部分的内容，其实可以写成 App: App</span></span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span> <span class="comment">// 给Vue根实例初始一个App组件作为template 相当于默认组件</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>router——[路由配置]</strong></p>
<p>router文件夹下，有一个index.js，即为路由配置文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>  <span class="comment">// 引用vue文件</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span>  <span class="comment">// 引用vue路由模块，并赋值给变量Router</span></span><br><span class="line"><span class="keyword">import</span> HelloWorld <span class="keyword">from</span> <span class="string">'@/components/HelloWorld'</span>  <span class="comment">// 英文HelloWorld.vue模版，并赋值给变量HelloWorld,这里是“@”相当于“../”, 也指src目录</span></span><br><span class="line"> </span><br><span class="line">Vue.use(Router)  <span class="comment">// 使用路由</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [  <span class="comment">// 进行路由配置，规定“/”引入到HelloWorld组件</span></span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'HelloWorld'</span>,  <span class="comment">// 这个name暂时不知道用啥用，根据官方文档说的是方便排错的</span></span><br><span class="line">      component: HelloWorld  <span class="comment">// 注册HelloWorld组件</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这里定义了路径为’/‘的路由，该路由对应的页面是HelloWorld组件，所以当我们在浏览器url访问<a href="http://localhost:8080/#/时就渲染的Hello组件。类似的，我们可以设置多个路由，‘/index’,&#39;/list&#39;之类的，当然首先得引入该组件，再为该组件设置路由。" target="_blank" rel="noopener">http://localhost:8080/#/时就渲染的Hello组件。类似的，我们可以设置多个路由，‘/index’,&#39;/list&#39;之类的，当然首先得引入该组件，再为该组件设置路由。</a></p>
<p>说明：如果需要增加组件那就在components文件下定义xx.vue文件并编写代码即可；如果需要配置路由就要在index.js进行路由“路径”配置；还需要点击跳转就要用到<router-link></router-link>标签了。</p>
</li>
</ol>
<h2 id="多页面应用-VS-单页面应用"><a href="#多页面应用-VS-单页面应用" class="headerlink" title="多页面应用 VS 单页面应用"></a>多页面应用 VS 单页面应用</h2><p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231103103959551.png" alt="image-20231103103959551"></p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231103105044390.png" alt="image-20231103105044390"></p>
<p>SEO：搜索引擎优。单页面应用搜索引擎优化比较差，搜索引擎主要认识HTML的内容，而不识别JS之中的内容，而单页面应用的内容基本上都是由JS渲染生成的，所以搜索引擎不识别这块的内容，就不会给网页一个好的排名，导致单页面应用在百度或者谷歌上面的排名效果比较差，但是Vue提供了一切其他的技术，比如服务器渲染等技术，这些技术可以完美的解决掉单页面应用中存在的问题。</p>
<h2 id="项目初始化工作"><a href="#项目初始化工作" class="headerlink" title="项目初始化工作"></a>项目初始化工作</h2><ol>
<li><p>删除components目录，创建pages目录，存放页面文件</p>
</li>
<li><p>保证移动端设备，用户通过手指放大缩小这样的操作无效的，它的页面比例始终是1比1，调整<code>viewport</code>标签添加 <code>minimun-scale=1.0,maximum-scale=1.0,er-scalable=no</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;!-- 保证移动端设备，用户通过手指放大缩小这样的操作无效的，它的页面比例始终是1比1 --&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width,initial-scale&#x3D;1.0,minimun-scale&#x3D;1.0,maximum-scale&#x3D;1.0,er-scalable&#x3D;no&quot;&gt;</span><br><span class="line">    &lt;title&gt;vue_learn_travel&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;app&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;!-- built files will be auto injected --&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>用来重置页面样式表，对基础样式的修饰，保证不同手机浏览器的默认展示样式统一，main.js添加如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用来重置页面样式表，对基础样式的修饰，保证不同手机浏览器的默认展示样式统一</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./assets/styles/reset.css'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解决1像素边框的问题，多倍屏物理像素实际对应的是2或者3等多像素的问题，main.js添加如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决1像素边框的问题，多倍屏物理像素实际对应的是2或者3等多像素的问题</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./assets/styles/border.css'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解决移动端点击事件延迟300毫秒的问题，安装fastclick</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(base) PS D:\learn\vue_learn_travel&gt; npm install fastclick  --save</span><br><span class="line">npm WARN update-browserslist-db@<span class="number">1</span>.<span class="number">0</span>.<span class="number">13</span> requires a peer of browserslist@&gt;= <span class="number">4</span>.<span class="number">21</span>.<span class="number">0</span> but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">2</span>.<span class="number">3</span>.<span class="number">3</span> (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">2</span>.<span class="number">3</span>.<span class="number">3</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)       </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span> (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span> (node_modules\webpack-dev-server\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line"></span><br><span class="line">+ fastclick@<span class="number">1</span>.<span class="number">0</span>.<span class="number">6</span></span><br><span class="line">added <span class="number">1</span> package from <span class="number">2</span> contributors <span class="keyword">in</span> <span class="number">21</span>.<span class="number">734</span>s</span><br><span class="line"></span><br><span class="line"><span class="number">95</span> packages are looking <span class="keyword">for</span> funding</span><br><span class="line">  run `npm fund` <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure>

<p>main.js添加如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决移动端点击事件延迟300ms问题</span></span><br><span class="line"><span class="keyword">import</span> fastClick <span class="keyword">from</span> <span class="string">'fastclick'</span></span><br><span class="line"><span class="comment">// 使用fastClick绑定到document.body</span></span><br><span class="line">fastClick.attach(<span class="built_in">document</span>.body)</span><br></pre></td></tr></table></figure>
</li>
<li><p>注册登录iconfont，并创建iconfont项目</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231103161539592.png" alt="image-20231103161539592"></p>
</li>
</ol>
<h2 id="首页Header开发"><a href="#首页Header开发" class="headerlink" title="首页Header开发"></a>首页Header开发</h2><ol>
<li><p>安装stylus css的开发辅助工具，帮助我们开发网站样式，和在css使用一些变量等操作，方便快速编写css代码，这里安装注意版本问题，下面是目前可以使用的版本对应关系</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">(base) PS D:\learn\vue_learn_travel&gt; npm install stylus@<span class="number">0</span>.<span class="number">54</span>.<span class="number">8</span> --save</span><br><span class="line">npm WARN update-browserslist-db@<span class="number">1</span>.<span class="number">0</span>.<span class="number">13</span> requires a peer of browserslist@&gt;= <span class="number">4</span>.<span class="number">21</span>.<span class="number">0</span> but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">2</span>.<span class="number">3</span>.<span class="number">3</span> (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">2</span>.<span class="number">3</span>.<span class="number">3</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)       </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span> (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line"></span><br><span class="line">+ stylus@<span class="number">0</span>.<span class="number">54</span>.<span class="number">8</span></span><br><span class="line">added <span class="number">5</span> packages from <span class="number">41</span> contributors <span class="keyword">in</span> <span class="number">7</span>.<span class="number">891</span>s</span><br><span class="line"></span><br><span class="line"><span class="number">96</span> packages are looking <span class="keyword">for</span> funding</span><br><span class="line">  run `npm fund` <span class="keyword">for</span> details</span><br><span class="line"></span><br><span class="line">(base) PS D:\learn\vue_learn_travel&gt; npm install stylus-loader@<span class="number">3</span>.<span class="number">0</span>.<span class="number">2</span> --save</span><br><span class="line">npm WARN notsup Unsupported engine <span class="keyword">for</span> stylus-loader@<span class="number">3</span>.<span class="number">0</span>.<span class="number">2</span>: wanted: &#123;"node":"&gt;= <span class="number">14</span>.<span class="number">15</span>.<span class="number">0</span>"&#125; (current: &#123;"node":"<span class="number">13</span>.<span class="number">14</span>.<span class="number">0</span>","npm":"<span class="number">6</span>.<span class="number">14</span>.<span class="number">4</span>"&#125;)</span><br><span class="line">npm WARN notsup <span class="keyword">Not</span> compatible with your version of node/npm: stylus-loader@<span class="number">7</span>.<span class="number">1</span>.<span class="number">3</span></span><br><span class="line">npm WARN update-browserslist-db@<span class="number">1</span>.<span class="number">0</span>.<span class="number">13</span> requires a peer of browserslist@&gt;= <span class="number">4</span>.<span class="number">21</span>.<span class="number">0</span> but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN stylus-loader@<span class="number">7</span>.<span class="number">1</span>.<span class="number">3</span> requires a peer of webpack@^<span class="number">5</span>.<span class="number">0</span>.<span class="number">0</span> but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">2</span>.<span class="number">3</span>.<span class="number">3</span> (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">2</span>.<span class="number">3</span>.<span class="number">3</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)       </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span> (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span> (node_modules\webpack-dev-server\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1</span>.<span class="number">2</span>.<span class="number">13</span>: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line"></span><br><span class="line">+ stylus-loader@<span class="number">3</span>.<span class="number">0</span>.<span class="number">2</span></span><br><span class="line">added <span class="number">11</span> packages from <span class="number">19</span> contributors <span class="keyword">in</span> <span class="number">7</span>.<span class="number">596</span>s</span><br><span class="line"></span><br><span class="line"><span class="number">99</span> packages are looking <span class="keyword">for</span> funding</span><br><span class="line">  run `npm fund` <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure>

<p>router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'@/pages/home/Home</span></span><br><span class="line"><span class="string">Vue.use(Router)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default new Router(&#123;</span></span><br><span class="line"><span class="string">  routes: [</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      path: '</span>/<span class="string">',</span></span><br><span class="line"><span class="string">      name: '</span>Home<span class="string">',</span></span><br><span class="line"><span class="string">      component: Home</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  ]</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>   目录结构如下</p>
<p>   <img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231124155748356.png" alt="image-20231124155748356"></p>
<p>   pages/home/Home.Vue</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;home-header&gt;&lt;&#x2F;home-header&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HomeHeader from &#39;.&#x2F;components&#x2F;Header.vue&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Home&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HomeHeader,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>   pages/home/components/Header.vue</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-left&quot;&gt;返回&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-input&quot;&gt;输入城市&#x2F;景点&#x2F;游玩主题&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-right&quot;&gt;城市&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeHeader&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- lang&#x3D;&quot;stylus&quot;: 使用stylus语法编写css, scoped: 样式做限制，只对当前组件有影响，不会影响其他组件 --&gt;</span><br><span class="line">&lt;!-- 1rem &#x3D; html font-size &#x3D; 50px --&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.header</span><br><span class="line">  display: flex</span><br><span class="line">  line-height: .86rem</span><br><span class="line">  background: #00bcb4</span><br><span class="line">  color: #fff</span><br><span class="line">  .header-left</span><br><span class="line">    width: .64rem</span><br><span class="line">    float: left</span><br><span class="line">  .header-input</span><br><span class="line">    flex: 1</span><br><span class="line">    height: .64rem</span><br><span class="line">    line-height: .64rem</span><br><span class="line">    margin-left: .2rem</span><br><span class="line">    margin-top: .12rem</span><br><span class="line">    background: #fff</span><br><span class="line">    border-radius: .1rem</span><br><span class="line">    color: #ccc</span><br><span class="line">  .header-right</span><br><span class="line">    width: 1.24rem</span><br><span class="line">    float: right</span><br><span class="line">    text-align: center</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>


<h2 id="iconfont的使用"><a href="#iconfont的使用" class="headerlink" title="iconfont的使用"></a>iconfont的使用</h2><ol>
<li><p>选择图标加入购物车</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115172358478.png" alt="image-20231115172358478"></p>
</li>
<li><p>点击购物车，加入到已经创建的项目</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115172529620.png" alt="image-20231115172529620"></p>
</li>
<li><p>我的项目中，点击下载到本地</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115172617807.png" alt="image-20231115172617807"></p>
</li>
<li><p>整理下载的文件，移动到项目中</p>
<p>1） 在 <code>\src\assets\styles</code> 项目路径下创建iconfont文件夹</p>
<p>2）解压下载后的压缩包，除了将<code>iconfont.css</code> 文件之外，其他所有文件放入iconfont文件夹</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115174245862.png" alt="image-20231115174245862"></p>
<p>3）将 <code>iconfont.css</code> 放入到 <code>\src\assets\</code> 项目路径下</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115173217908.png" alt="image-20231115173217908"></p>
<p>4）修改 <code>iconfont.css</code> 文件中的路径，改为本地路径，并删除一些无用逻辑</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115174336355.png" alt="image-20231115174336355"></p>
<p>5）使用图标</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;header-left&quot;&gt;</span><br><span class="line">	&lt;span class&#x3D;&quot;iconfont&quot;&gt;&amp;#xe624;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>其中 <code>class=&quot;iconfont&quot;</code> 为固定写法，<code>&amp;#xe624;</code> 是图标的Unicode码,如下</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231115174719358.png" alt="image-20231115174719358"></p>
</li>
</ol>
<h2 id="样式引入与简化引入路径"><a href="#样式引入与简化引入路径" class="headerlink" title="样式引入与简化引入路径"></a>样式引入与简化引入路径</h2><p>在<code>src/assets/styles/</code>创建<code>varibles.styl</code>文件</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$bgColor</span> = <span class="string">#00bcd4</span></span><br><span class="line"><span class="meta">$darkTextColor</span> = <span class="string">#333</span></span><br><span class="line"><span class="meta">$headerHeight</span> = <span class="string">.86rem</span></span><br></pre></td></tr></table></figure>

<p>build/webpack.base.conf.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">   extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>],</span><br><span class="line">   alias: &#123;</span><br><span class="line">     <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span>,</span><br><span class="line">     <span class="string">'@'</span>: resolve(<span class="string">'src'</span>),</span><br><span class="line">      <span class="comment">// src/assets/styles 路径设置别名styles</span></span><br><span class="line">     <span class="string">'styles'</span>: resolve(<span class="string">'src/assets/styles'</span>),</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-left&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont back-icon&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-input&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont&quot;&gt;&amp;#xe632;&lt;&#x2F;span&gt;</span><br><span class="line">        输入城市&#x2F;景点&#x2F;游玩主题</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-right&quot;&gt;</span><br><span class="line">        城市</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont arrow-icon&quot;&gt;&amp;#xe62d;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeHeader&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- lang&#x3D;&quot;stylus&quot;: 使用stylus语法编写css, scoped: 样式做限制，只对当前组件有影响，不会影响其他组件 --&gt;</span><br><span class="line">&lt;!-- 1rem &#x3D; html font-size &#x3D; 50px --&gt;</span><br><span class="line">&lt;!-- $bgColor 引用varibles.styl文件中的变量 --&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">     @import &#39;~@&#x2F;assets&#x2F;styles&#x2F;varibles.styl&#39;</span><br><span class="line">     @import: 样式中引用样式，使用样式变量</span><br><span class="line">     注意：导入的时候区分于其他形式的导入，可以用相对路径的方式，也可以用@符号</span><br><span class="line">     如果用@符号，则代表从src目录开始，但是这里需要在@符号前面加上~</span><br><span class="line">     可以自定义路径别名，在webpack.base.conf.js文件中进行配置，配置完成之后可以进行最终简化路径 @import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">.header</span><br><span class="line">  display: flex</span><br><span class="line">  line-height: .86rem</span><br><span class="line">  background: $bgColor</span><br><span class="line">  color: #fff</span><br><span class="line">  .header-left</span><br><span class="line">    width: .64rem</span><br><span class="line">    float: left</span><br><span class="line">    .back-icon</span><br><span class="line">      text-align: center</span><br><span class="line">      font-size: .4rem</span><br><span class="line">  .header-input</span><br><span class="line">    flex: 1</span><br><span class="line">    height: .64rem</span><br><span class="line">    line-height: .64rem</span><br><span class="line">    margin-left: .2rem</span><br><span class="line">    margin-top: .12rem</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    background: #fff</span><br><span class="line">    border-radius: .1rem</span><br><span class="line">    color: #ccc</span><br><span class="line">  .header-right</span><br><span class="line">    width: 1.24rem</span><br><span class="line">    float: right</span><br><span class="line">    text-align: center</span><br><span class="line">    .arrow-icon</span><br><span class="line">      margin-left: -.04rem</span><br><span class="line">      font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>src/main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决移动端点击事件延迟300ms问题</span></span><br><span class="line"><span class="keyword">import</span> fastClick <span class="keyword">from</span> <span class="string">'fastclick'</span></span><br><span class="line"><span class="comment">// 用来重置页面样式表，对基础样式的修饰，保证不同手机浏览器的默认展示样式统一</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/reset.css'</span></span><br><span class="line"><span class="comment">// 解决1像素边框的问题，多倍屏物理像素实际对应的是2或者3等多像素的问题</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/border.css'</span></span><br><span class="line"><span class="comment">// 使用iconfont</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/iconfont.css'</span></span><br><span class="line"><span class="comment">// 使用fastClick绑定到document.body</span></span><br><span class="line">fastClick.attach(<span class="built_in">document</span>.body)</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="首页轮播图组件构建"><a href="#首页轮播图组件构建" class="headerlink" title="首页轮播图组件构建"></a>首页轮播图组件构建</h2><p>使用分支 <code>index-swiper</code>，在此分支上开发，然后合并到主线</p>
<p>使用轮播图插件 <code>vue-awesome-swiper</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PS D:\learn\vue_learn_travel&gt; npm install vue-awesome-swiper@2.6.7 --save</span><br><span class="line">npm WARN update-browserslist-db@1.0.13 requires a peer of browserslist@&gt;= 4.21.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.3 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.3: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)       </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\webpack-dev-server\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line"></span><br><span class="line">+ vue-awesome-swiper@2.6.7</span><br><span class="line">added 2 packages from 2 contributors in 20.206s</span><br><span class="line"></span><br><span class="line">95 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br></pre></td></tr></table></figure>

<p>src/main.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决移动端点击事件延迟300ms问题</span></span><br><span class="line"><span class="keyword">import</span> fastClick <span class="keyword">from</span> <span class="string">'fastclick'</span></span><br><span class="line"><span class="comment">// 用来重置页面样式表，对基础样式的修饰，保证不同手机浏览器的默认展示样式统一</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/reset.css'</span></span><br><span class="line"><span class="comment">// 解决1像素边框的问题，多倍屏物理像素实际对应的是2或者3等多像素的问题</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/border.css'</span></span><br><span class="line"><span class="comment">// 使用iconfont</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/iconfont.css'</span></span><br><span class="line"><span class="comment">// 引入vue-awesome-swiper</span></span><br><span class="line"><span class="keyword">import</span> VueAwesomeSwiper <span class="keyword">from</span> <span class="string">'vue-awesome-swiper'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'swiper/dist/css/swiper.css'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用fastClick绑定到document.body</span></span><br><span class="line">fastClick.attach(<span class="built_in">document</span>.body)</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueAwesomeSwiper)</span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Swiper.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;swiper :options&#x3D;&quot;swiperOption&quot;&gt;</span><br><span class="line">      &lt;swiper-slide v-for&#x3D;&quot;item of swiperList&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;img class&#x3D;&quot;swiper-image&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">      &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;swiper-pagination&quot;  slot&#x3D;&quot;pagination&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;swiper&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeSwiper&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      swiperOption: &#123;</span><br><span class="line">        pagination: &#39;.swiper-pagination&#39;,</span><br><span class="line">        loop: true</span><br><span class="line">      &#125;,</span><br><span class="line">      swiperList: [&#123;</span><br><span class="line">        id: &#39;0001&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;ad-dapp-osscp.qunarzz.com&#x2F;ad_dapp_oss_oper&#x2F;9f64aa5050c770f88033e1b6ef21e258.jpg&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0002&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;ad-dapp-osscp.qunarzz.com&#x2F;ad_dapp_oss_oper&#x2F;a8fe422f63cd04c880d423cb5a9b8145.jpg&#39;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- &gt;&gt;&gt;: 样式穿透,让引用的子组件的样式也改变，突破在本页面内不能让子页面样式改变的局限 --&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.wrapper &gt;&gt;&gt; .swiper-pagination-bullet-active</span><br><span class="line">  background: #fff !important</span><br><span class="line">.wrapper</span><br><span class="line">  overflow: hidden</span><br><span class="line">  width: 100%</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 31.25%</span><br><span class="line">  background: #eee</span><br><span class="line">  .swiper-image</span><br><span class="line">    width: 100%</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>完成之后合并到主线</p>
<p>合并流程：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br><span class="line">git merge orgin/index-swiper</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

<h2 id="首页图标组件开发"><a href="#首页图标组件开发" class="headerlink" title="首页图标组件开发"></a>首页图标组件开发</h2><p>pages/home/components/Icons.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;icons&quot;&gt;</span><br><span class="line">    &lt;swiper &gt;</span><br><span class="line">      &lt;swiper-slide v-for&#x3D;&quot;(page, index) of pages&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &lt;div</span><br><span class="line">          class&#x3D;&quot;icon&quot;</span><br><span class="line">          v-for&#x3D;&quot;item of page&quot;</span><br><span class="line">          :key&#x3D;&quot;item.id&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;icon-img&quot;&gt;</span><br><span class="line">            &lt;img class&#x3D;&quot;icon-img-content&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;icon-desc&quot; &gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">  &lt;&#x2F;swiper&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeIcons&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      iconList: [&#123;</span><br><span class="line">        id: &#39;0001&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;景点门票景点门票景点门票景点门票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0002&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;泡温泉&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0003&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;名胜古迹&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0004&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;景点门票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0005&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;景点门票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0006&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;景点门票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0007&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;景点门票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0008&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;景点门票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0009&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;s.qunarzz.com&#x2F;homenode&#x2F;images&#x2F;touchheader&#x2F;piao.png&#39;,</span><br><span class="line">        desc: &#39;一日游&#39;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    pages () &#123;</span><br><span class="line">      const pages &#x3D; []</span><br><span class="line">      this.iconList.forEach((item, index) &#x3D;&gt; &#123;</span><br><span class="line">        const page &#x3D; Math.floor(index &#x2F; 8)</span><br><span class="line">        if (!pages[page]) &#123;</span><br><span class="line">          pages[page] &#x3D; []</span><br><span class="line">        &#125;</span><br><span class="line">        pages[page].push(item)</span><br><span class="line">      &#125;)</span><br><span class="line">      return pages</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.icons &gt;&gt;&gt; .swiper-container</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 50%</span><br><span class="line">.icon</span><br><span class="line">  position relative</span><br><span class="line">  overflow: hidden</span><br><span class="line">  float: left</span><br><span class="line">  width: 25%</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 25%</span><br><span class="line">  .icon-img</span><br><span class="line">    position: absolute</span><br><span class="line">    top: 0</span><br><span class="line">    left: 0</span><br><span class="line">    right 0</span><br><span class="line">    bottom: .44rem</span><br><span class="line">    box-sizing: border-box</span><br><span class="line">    padding: .1rem</span><br><span class="line">    .icon-img-content</span><br><span class="line">      display: block</span><br><span class="line">      margin: 0 auto</span><br><span class="line">      height: 100%</span><br><span class="line">  .icon-desc</span><br><span class="line">    position: absolute</span><br><span class="line">    left: 0</span><br><span class="line">    right: 0</span><br><span class="line">    bottom: 0</span><br><span class="line">    height: .44rem</span><br><span class="line">    line-height: .44rem</span><br><span class="line">    color: #darkTextColor</span><br><span class="line">    text-align: center</span><br><span class="line">    ellipsis()</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>创建<code>mixins.styl</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ellipsis</span>()</span><br><span class="line">  <span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span></span><br><span class="line">  <span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span></span><br><span class="line">  <span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span></span><br></pre></td></tr></table></figure>

<h2 id="热销推荐组件开发"><a href="#热销推荐组件开发" class="headerlink" title="热销推荐组件开发"></a>热销推荐组件开发</h2><p>pages/home/components/Recommend.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;title&quot;&gt;热销推荐&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li class&#x3D;&quot;item border-bottom&quot; v-for&#x3D;&quot;item of recommendList&quot; :key&#x3D;&quot;item.key&quot;&gt;</span><br><span class="line">        &lt;img class&#x3D;&quot;item-img&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-info&quot;&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-title&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-desc&quot;&gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;button class&#x3D;&quot;item-button&quot;&gt;查看详情&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeRecommend&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      recommendList: [&#123;</span><br><span class="line">        id: &#39;0001&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;2310&#x2F;cf&#x2F;cff7dc0465c024bda3.water.jpg_256x160_993d7f27.jpg&#39;,</span><br><span class="line">        title: &#39;深圳湾公园&#39;,</span><br><span class="line">        desc: &#39;浪漫深圳首站，浪漫的海洋主题乐园&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0002&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;2310&#x2F;cf&#x2F;cff7dc0465c024bda3.water.jpg_256x160_993d7f27.jpg&#39;,</span><br><span class="line">        title: &#39;深圳湾公园&#39;,</span><br><span class="line">        desc: &#39;浪漫深圳首站，浪漫的海洋主题乐园&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0003&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;2310&#x2F;cf&#x2F;cff7dc0465c024bda3.water.jpg_256x160_993d7f27.jpg&#39;,</span><br><span class="line">        title: &#39;深圳湾公园&#39;,</span><br><span class="line">        desc: &#39;浪漫深圳首站，浪漫的海洋主题乐园&#39;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line"></span><br><span class="line">.title</span><br><span class="line">  margin-top: .2rem</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: #eee</span><br><span class="line">  text-indent: .2rem</span><br><span class="line">.item</span><br><span class="line">  overflow: hidden</span><br><span class="line">  display: flex</span><br><span class="line">  height: 1.9rem</span><br><span class="line">  .item-img</span><br><span class="line">    width: 1.7rem</span><br><span class="line">    height: 1.7rem</span><br><span class="line">    padding: .1rem</span><br><span class="line">  .item-info</span><br><span class="line">    flex: 1</span><br><span class="line">    padding: .1rem</span><br><span class="line">    min-width: 0</span><br><span class="line">    .item-title</span><br><span class="line">      line-height: 0.54rem</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      ellipsis()</span><br><span class="line">    .item-desc</span><br><span class="line">      line-height: 0.4rem</span><br><span class="line">      color: #ccc</span><br><span class="line">      ellipsis()</span><br><span class="line">    .item-button</span><br><span class="line">      line-height: .44rem</span><br><span class="line">      margin-top: .16rem</span><br><span class="line">      background: #ff9300</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">      border-radius: .06rem</span><br><span class="line">      color: #fff</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="周末游组件开发"><a href="#周末游组件开发" class="headerlink" title="周末游组件开发"></a>周末游组件开发</h2><p>pages/home/components/Weekend.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;title&quot;&gt;周末去哪儿&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li</span><br><span class="line">        class&#x3D;&quot;item border-bottom&quot;</span><br><span class="line">        v-for&#x3D;&quot;item of recommendList&quot;</span><br><span class="line">        :key&#x3D;&quot;item.key&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-img-wrapper&quot;&gt;</span><br><span class="line">          &lt;img class&#x3D;&quot;item-img&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-info&quot;&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-title&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-desc&quot;&gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeWeekend&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      recommendList: [&#123;</span><br><span class="line">        id: &#39;0001&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;1604&#x2F;b8&#x2F;b8e41237b32404d590.img.jpg_350x240_17caf4d8.jpg&#39;,</span><br><span class="line">        title: &#39;深圳湾公园&#39;,</span><br><span class="line">        desc: &#39;浪漫深圳首站，浪漫的海洋主题乐园&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0002&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;1604&#x2F;b8&#x2F;b8e41237b32404d590.img.jpg_350x240_17caf4d8.jpg&#39;,</span><br><span class="line">        title: &#39;深圳湾公园&#39;,</span><br><span class="line">        desc: &#39;浪漫深圳首站，浪漫的海洋主题乐园&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        id: &#39;0003&#39;,</span><br><span class="line">        imgUrl: &#39;https:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;1604&#x2F;b8&#x2F;b8e41237b32404d590.img.jpg_350x240_17caf4d8.jpg&#39;,</span><br><span class="line">        title: &#39;深圳湾公园&#39;,</span><br><span class="line">        desc: &#39;浪漫深圳首站，浪漫的海洋主题乐园&#39;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line"></span><br><span class="line">.title</span><br><span class="line">  margin-top: .2rem</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: #eee</span><br><span class="line">  text-indent: .2rem</span><br><span class="line">.item-img-wrapper</span><br><span class="line">  height: 0</span><br><span class="line">  overflow hidden</span><br><span class="line">  padding-bottom: 33.9%</span><br><span class="line">  .item-img</span><br><span class="line">    width: 100%</span><br><span class="line">.item-info</span><br><span class="line">  padding: .1rem</span><br><span class="line">  .item-title</span><br><span class="line">    line-height: 0.54rem</span><br><span class="line">    font-size: .32rem</span><br><span class="line">    ellipsis()</span><br><span class="line">  .item-desc</span><br><span class="line">    line-height: 0.4rem</span><br><span class="line">    color: #ccc</span><br><span class="line">    ellipsis()</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用axios进行ajax请求"><a href="#使用axios进行ajax请求" class="headerlink" title="使用axios进行ajax请求"></a>使用axios进行ajax请求</h2><ol>
<li>安装axios组件</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">PS D:\learn\vue_learn_travel&gt; npm install axios@0.17.1 --save</span><br><span class="line">npm WARN update-browserslist-db@1.0.13 requires a peer of browserslist@&gt;= 4.21.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.3 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.3: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)       </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\webpack-dev-server\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)      </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line"></span><br><span class="line">+ axios@0.17.1</span><br><span class="line">added 6 packages from 18 contributors in 22.229s</span><br><span class="line"></span><br><span class="line">95 packages are looking for funding</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在静态目录<code>static/mock</code>创建模拟数据文件<code>index.json</code>,里面填充数据</li>
</ol>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231122161341807.png" alt="image-20231122161341807"></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"ret"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"data"</span>: &#123;</span><br><span class="line">      <span class="attr">"city"</span>: <span class="string">"北京"</span>,</span><br><span class="line">      <span class="attr">"swiperList"</span>: [&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0001"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1801/1a/94428c6dea109402.jpg_640x200_2cf590d8.jpg"</span></span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0002"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1802/42/7c92b9a381e46402.jpg_640x200_1cdce2a4.jpg"</span></span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0003"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1802/51/e78f936a5b404102.jpg_640x200_c14f0b3a.jpg"</span></span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0004"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1712/91/a275569091681d02.jpg_640x200_0519ccb9.jpg"</span></span><br><span class="line">        &#125;],</span><br><span class="line">      <span class="attr">"iconList"</span>: [&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0001"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/54/ace00878a52d9702.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"景点门票"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0002"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1711/df/86cbcfc533330d02.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"滑雪季"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0003"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1710/a6/83f636bd75ae6302.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"泡温泉"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0004"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/35/2640cab202c41b02.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"动植园"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0005"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/d0/e09575e66f4aa402.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"游乐园"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0006"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/59/569d3c096e542502.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"必游榜单"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0007"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/17/4bd370f3eb1acd02.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"演出"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0008"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/7f/b1ea3c8c7fb6db02.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"城市观光"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0009"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/piao/fusion/1611/a9/ffc620dbda9b9c02.png"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"一日游"</span></span><br><span class="line">        &#125;],</span><br><span class="line">      <span class="attr">"recommendList"</span>: [&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0001"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/p0/1409/19/adca619faaab0898245dc4ec482b5722.jpg_140x140_80f63803.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"故宫"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"东方宫殿建筑代表，世界宫殿建筑典范"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0002"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/p0/1511/d2/d2aec2dfc5aa771290.water.jpg_140x140_abb362a7.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"南山滑雪场"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"北京专业级滑雪圣地"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0003"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/p0/1501/f4/f467729126949c3a.water.jpg_140x140_ef235b1c.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"天安门广场"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"我爱北京天安门，天安门上太阳升"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0004"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/p0/1501/40/40b2b6c951b28fdd.water.jpg_140x140_1c863e5c.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"水立方"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"中国的荣耀，阳光下的晶莹水滴"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0005"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/p0/201308/23/b283071686e64dfec8d65eac.jpg_140x140_8c5a7c49.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"温都水城养生馆"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"各种亚热带植物掩映其间仿佛置身热带雨林"</span></span><br><span class="line">        &#125;],</span><br><span class="line">      <span class="attr">"weekendList"</span>: [&#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0001"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/source/1510/6e/1ea71e2f04e.jpg_r_640x214_aa6f091d.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"北京温泉排行榜"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"细数北京温泉，温暖你的冬天"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0002"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/source/1505/aa/7baaf8a851d221.jpg_r_640x214_1431200f.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"北京必游TOP10"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"来北京必去的景点非这些地方莫属"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0003"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/source/1505/9e/21df651e19af5d.jpg_r_640x214_3ea5bb38.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"寻找北京的皇城范儿"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"数百年的宫廷庙宇，至今依旧威严霸气"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0004"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/source/1505/ce/bc89bc2f0e33ea.jpg_r_640x214_3e408453.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"学生最爱的博物馆"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"周末干嘛？北京很多博物馆已经免费开放啦"</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"0005"</span>,</span><br><span class="line">          <span class="attr">"imgUrl"</span>: <span class="string">"http://img1.qunarzz.com/sight/source/1505/b2/fde1bfcd057a52.jpg_r_640x214_bbf3fa44.jpg"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"儿童剧场，孩子的乐园"</span>,</span><br><span class="line">          <span class="attr">"desc"</span>: <span class="string">"带宝贝观看演出，近距离体验艺术的无穷魅力"</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>配置模拟数据转发</p>
<p>在<code>config/index.js</code> 文件中添加转发模拟数据地址配置，会自动替换代码中的路径到<code>static/mock</code> 的静态文件中取数据，这个配置是由webpack决定的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"><span class="comment">// Template version: 1.3.1</span></span><br><span class="line"><span class="comment">// see http://vuejs-templates.github.io/webpack for documentation.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  dev: &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Paths</span></span><br><span class="line">    assetsSubDirectory: <span class="string">'static'</span>,</span><br><span class="line">    assetsPublicPath: <span class="string">'/'</span>,</span><br><span class="line">    <span class="comment">// 测试开发环境下的前后端联调配置，识别api开头路径，并转发到/static/mock的静态文件数据上</span></span><br><span class="line">    proxyTable: &#123;</span><br><span class="line">      <span class="string">'/api'</span>: &#123;</span><br><span class="line">        target: <span class="string">'http://localhost:8080'</span>,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">'/static/mock'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ... ...</span><br></pre></td></tr></table></figure>
</li>
<li><p>pages/home/Home.vue</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">	<span class="keyword">this</span>.getHomeInfo()</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    getHomeInfo () &#123;</span><br><span class="line">       axios.get(<span class="string">'/api/index.json'</span>).then(<span class="keyword">this</span>.getHomeInfoSucc)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="首页父子之间的传值"><a href="#首页父子之间的传值" class="headerlink" title="首页父子之间的传值"></a>首页父子之间的传值</h2><p>pages/home/Home.Vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;home-header :city&#x3D;&quot;city&quot;&gt;&lt;&#x2F;home-header&gt;</span><br><span class="line">    &lt;home-swiper :list&#x3D;&quot;swiperList&quot;&gt;&lt;&#x2F;home-swiper&gt;</span><br><span class="line">    &lt;home-icons :list&#x3D;&quot;iconList&quot;&gt;&lt;&#x2F;home-icons&gt;</span><br><span class="line">    &lt;home-recommend :list&#x3D;&quot;recommendList&quot;&gt;&lt;&#x2F;home-recommend&gt;</span><br><span class="line">    &lt;home-weekend :list&#x3D;&quot;weekendList&quot;&gt;&lt;&#x2F;home-weekend&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HomeHeader from &#39;.&#x2F;components&#x2F;Header.vue&#39;</span><br><span class="line">import HomeSwiper from &#39;.&#x2F;components&#x2F;Swiper.vue&#39;</span><br><span class="line">import HomeIcons from &#39;.&#x2F;components&#x2F;Icons.vue&#39;</span><br><span class="line">import HomeRecommend from &#39;.&#x2F;components&#x2F;Recommend.vue&#39;</span><br><span class="line">import HomeWeekend from &#39;.&#x2F;components&#x2F;Weekend.vue&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Home&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HomeHeader,</span><br><span class="line">    HomeSwiper,</span><br><span class="line">    HomeIcons,</span><br><span class="line">    HomeRecommend,</span><br><span class="line">    HomeWeekend</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.getHomeInfo()</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      city: &#39;&#39;,</span><br><span class="line">      swiperList: [],</span><br><span class="line">      iconList: [],</span><br><span class="line">      recommendList: [],</span><br><span class="line">      weekendList: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getHomeInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;index.json&#39;).then(this.getHomeInfoSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    getHomeInfoSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.city &#x3D; data.city</span><br><span class="line">        this.swiperList &#x3D; data.swiperList</span><br><span class="line">        this.iconList &#x3D; data.iconList</span><br><span class="line">        this.recommendList &#x3D; data.recommendList</span><br><span class="line">        this.weekendList &#x3D; data.weekendList</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-left&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont back-icon&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-input&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont&quot;&gt;&amp;#xe632;&lt;&#x2F;span&gt;</span><br><span class="line">        输入城市&#x2F;景点&#x2F;游玩主题</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-right&quot;&gt;</span><br><span class="line">        &#123;&#123; this.city &#125;&#125;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont arrow-icon&quot;&gt;&amp;#xe62d;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeHeader&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    city: String</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- lang&#x3D;&quot;stylus&quot;: 使用stylus语法编写css, scoped: 样式做限制，只对当前组件有影响，不会影响其他组件 --&gt;</span><br><span class="line">&lt;!-- 1rem &#x3D; html font-size &#x3D; 50px --&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">     @import &#39;~@&#x2F;assets&#x2F;styles&#x2F;varibles.styl&#39;</span><br><span class="line">     @import: 样式中引用样式，使用样式变量</span><br><span class="line">     注意：导入的时候区分于其他形式的导入，可以用相对路径的方式，也可以用@符号</span><br><span class="line">     如果用@符号，则代表从src目录开始，但是这里需要在@符号前面加上~</span><br><span class="line">     可以自定义路径别名，在webpack.base.conf.js文件中进行配置，配置完成之后可以进行最终简化路径 @import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">.header</span><br><span class="line">  display: flex</span><br><span class="line">  line-height: .86rem</span><br><span class="line">  background: $bgColor</span><br><span class="line">  color: #fff</span><br><span class="line">  .header-left</span><br><span class="line">    width: .64rem</span><br><span class="line">    float: left</span><br><span class="line">    .back-icon</span><br><span class="line">      text-align: center</span><br><span class="line">      font-size: .4rem</span><br><span class="line">  .header-input</span><br><span class="line">    flex: 1</span><br><span class="line">    height: .64rem</span><br><span class="line">    line-height: .64rem</span><br><span class="line">    margin-left: .2rem</span><br><span class="line">    margin-top: .12rem</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    background: #fff</span><br><span class="line">    border-radius: .1rem</span><br><span class="line">    color: #ccc</span><br><span class="line">  .header-right</span><br><span class="line">    width: 1.24rem</span><br><span class="line">    float: right</span><br><span class="line">    text-align: center</span><br><span class="line">    .arrow-icon</span><br><span class="line">      margin-left: -.04rem</span><br><span class="line">      font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Swiper.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;swiper :options&#x3D;&quot;swiperOption&quot; v-if&#x3D;&quot;showSwiper&quot;&gt;</span><br><span class="line">      &lt;swiper-slide v-for&#x3D;&quot;item of list&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;img class&#x3D;&quot;swiper-image&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">      &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;swiper-pagination&quot;  slot&#x3D;&quot;pagination&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;swiper&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeSwiper&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      swiperOption: &#123;</span><br><span class="line">        pagination: &#39;.swiper-pagination&#39;,</span><br><span class="line">        loop: true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    showSwiper () &#123;</span><br><span class="line">      return this.list.length</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- &gt;&gt;&gt;: 样式穿透,让引用的子组件的样式也改变，突破在本页面内不能让子页面样式改变的局限 --&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.wrapper &gt;&gt;&gt; .swiper-pagination-bullet-active</span><br><span class="line">  background: #fff !important</span><br><span class="line">.wrapper</span><br><span class="line">  overflow: hidden</span><br><span class="line">  width: 100%</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 31.25%</span><br><span class="line">  background: #eee</span><br><span class="line">  .swiper-image</span><br><span class="line">    width: 100%</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Icons.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;icons&quot;&gt;</span><br><span class="line">    &lt;swiper :options&#x3D;&quot;swiperOption&quot;&gt;</span><br><span class="line">      &lt;swiper-slide v-for&#x3D;&quot;(page, index) of pages&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &lt;div</span><br><span class="line">          class&#x3D;&quot;icon&quot;</span><br><span class="line">          v-for&#x3D;&quot;item of page&quot;</span><br><span class="line">          :key&#x3D;&quot;item.id&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;icon-img&quot;&gt;</span><br><span class="line">            &lt;img class&#x3D;&quot;icon-img-content&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;icon-desc&quot; &gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">  &lt;&#x2F;swiper&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeIcons&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      swiperOption: &#123;</span><br><span class="line">        autoplay: false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    pages () &#123;</span><br><span class="line">      const pages &#x3D; []</span><br><span class="line">      this.list.forEach((item, index) &#x3D;&gt; &#123;</span><br><span class="line">        const page &#x3D; Math.floor(index &#x2F; 8)</span><br><span class="line">        if (!pages[page]) &#123;</span><br><span class="line">          pages[page] &#x3D; []</span><br><span class="line">        &#125;</span><br><span class="line">        pages[page].push(item)</span><br><span class="line">      &#125;)</span><br><span class="line">      return pages</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.icons &gt;&gt;&gt; .swiper-container</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 50%</span><br><span class="line">.icons</span><br><span class="line">  margin-top: .1rem</span><br><span class="line">  .icon</span><br><span class="line">    position relative</span><br><span class="line">    overflow: hidden</span><br><span class="line">    float: left</span><br><span class="line">    width: 25%</span><br><span class="line">    height: 0</span><br><span class="line">    padding-bottom: 25%</span><br><span class="line">    .icon-img</span><br><span class="line">      position: absolute</span><br><span class="line">      top: 0</span><br><span class="line">      left: 0</span><br><span class="line">      right 0</span><br><span class="line">      bottom: .44rem</span><br><span class="line">      box-sizing: border-box</span><br><span class="line">      padding: .1rem</span><br><span class="line">      .icon-img-content</span><br><span class="line">        display: block</span><br><span class="line">        margin: 0 auto</span><br><span class="line">        height: 100%</span><br><span class="line">    .icon-desc</span><br><span class="line">      position: absolute</span><br><span class="line">      left: 0</span><br><span class="line">      right: 0</span><br><span class="line">      bottom: 0</span><br><span class="line">      height: .44rem</span><br><span class="line">      line-height: .44rem</span><br><span class="line">      color: #darkTextColor</span><br><span class="line">      text-align: center</span><br><span class="line">      ellipsis()</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Recommend.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;title&quot;&gt;热销推荐&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li class&#x3D;&quot;item border-bottom&quot; v-for&#x3D;&quot;item of list&quot; :key&#x3D;&quot;item.key&quot;&gt;</span><br><span class="line">        &lt;img class&#x3D;&quot;item-img&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-info&quot;&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-title&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-desc&quot;&gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;button class&#x3D;&quot;item-button&quot;&gt;查看详情&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeRecommend&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line"></span><br><span class="line">.title</span><br><span class="line">  margin-top: .2rem</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: #eee</span><br><span class="line">  text-indent: .2rem</span><br><span class="line">.item</span><br><span class="line">  overflow: hidden</span><br><span class="line">  display: flex</span><br><span class="line">  height: 1.9rem</span><br><span class="line">  .item-img</span><br><span class="line">    width: 1.7rem</span><br><span class="line">    height: 1.7rem</span><br><span class="line">    padding: .1rem</span><br><span class="line">  .item-info</span><br><span class="line">    flex: 1</span><br><span class="line">    padding: .1rem</span><br><span class="line">    min-width: 0</span><br><span class="line">    .item-title</span><br><span class="line">      line-height: 0.54rem</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      ellipsis()</span><br><span class="line">    .item-desc</span><br><span class="line">      line-height: 0.4rem</span><br><span class="line">      color: #ccc</span><br><span class="line">      ellipsis()</span><br><span class="line">    .item-button</span><br><span class="line">      line-height: .44rem</span><br><span class="line">      margin-top: .16rem</span><br><span class="line">      background: #ff9300</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">      border-radius: .06rem</span><br><span class="line">      color: #fff</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Weekend.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;title&quot;&gt;周末去哪儿&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li</span><br><span class="line">        class&#x3D;&quot;item border-bottom&quot;</span><br><span class="line">        v-for&#x3D;&quot;item of list&quot;</span><br><span class="line">        :key&#x3D;&quot;item.key&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-img-wrapper&quot;&gt;</span><br><span class="line">          &lt;img class&#x3D;&quot;item-img&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-info&quot;&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-title&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">          &lt;p class&#x3D;&quot;item-desc&quot;&gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeWeekend&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line"></span><br><span class="line">.title</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: #eee</span><br><span class="line">  text-indent: .2rem</span><br><span class="line">.item-img-wrapper</span><br><span class="line">  height: 0</span><br><span class="line">  overflow hidden</span><br><span class="line">  padding-bottom: 37.09%</span><br><span class="line">  .item-img</span><br><span class="line">    width: 100%</span><br><span class="line">.item-info</span><br><span class="line">  padding: .1rem</span><br><span class="line">  .item-title</span><br><span class="line">    line-height: 0.54rem</span><br><span class="line">    font-size: .32rem</span><br><span class="line">    ellipsis()</span><br><span class="line">  .item-desc</span><br><span class="line">    line-height: 0.4rem</span><br><span class="line">    color: #ccc</span><br><span class="line">    ellipsis()</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="城市选择页面路由配置及页头开发"><a href="#城市选择页面路由配置及页头开发" class="headerlink" title="城市选择页面路由配置及页头开发"></a>城市选择页面路由配置及页头开发</h2><p>router/index.js</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue from <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router from <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home from <span class="string">'@/pages/home/Home'</span></span><br><span class="line"><span class="keyword">import</span> City from <span class="string">'@/pages/city/City'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="function">export <span class="keyword">default</span> new <span class="title">Router</span><span class="params">(&#123;</span></span></span><br><span class="line"><span class="function"><span class="params">  routes: [</span></span></span><br><span class="line"><span class="function"><span class="params">    &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">      path: <span class="string">'/'</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">      name: <span class="string">'Home'</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">      component: Home</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;,</span></span></span><br><span class="line"><span class="function"><span class="params">    &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">      path: <span class="string">'/city'</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">      name: <span class="string">'City'</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">      component: City</span></span></span><br><span class="line"><span class="function"><span class="params">    &#125;</span></span></span><br><span class="line"><span class="function"><span class="params">  ]</span></span></span><br><span class="line"><span class="function"><span class="params">&#125;)</span></span></span><br></pre></td></tr></table></figure>

<p>pages/city/City.Vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;city-header&gt;&lt;&#x2F;city-header&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import CityHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;City&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CityHeader</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">    城市选择</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;iconfont header-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityHeader&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.header</span><br><span class="line">  position: relative</span><br><span class="line">  overflow hidden</span><br><span class="line">  height: $headerHeight</span><br><span class="line">  line-height: $headerHeight</span><br><span class="line">  text-align: center</span><br><span class="line">  color: #fff</span><br><span class="line">  background: $bgColor</span><br><span class="line">  font-size: .32rem</span><br><span class="line">  .header-back</span><br><span class="line">    position: absolute</span><br><span class="line">    width: .64rem</span><br><span class="line">    text-align: center</span><br><span class="line">    font-size: .4rem</span><br><span class="line">    top: 0</span><br><span class="line">    left: 0</span><br><span class="line">    color: #fff</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="搜索框布局"><a href="#搜索框布局" class="headerlink" title="搜索框布局"></a>搜索框布局</h2><p>pages/city/components/Search.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;search&quot;&gt;</span><br><span class="line">        &lt;input class&#x3D;&quot;searchInput&quot; type&#x3D;&quot;text&quot; placeholder&#x3D;输入城市名或拼音&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CitySearch&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.search</span><br><span class="line">  height: .72rem</span><br><span class="line">  padding: 0 .1rem</span><br><span class="line">  background: $bgColor</span><br><span class="line">  .searchInput</span><br><span class="line">    box-sizing: border-box</span><br><span class="line">    width: 100%</span><br><span class="line">    height: .62rem</span><br><span class="line">    line-height: .62rem</span><br><span class="line">    text-align: center</span><br><span class="line">    border-radius: .06rem</span><br><span class="line">    color: #666</span><br><span class="line">    padding: 0 .1rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="列表布局"><a href="#列表布局" class="headerlink" title="列表布局"></a>列表布局</h2><p>pages/city/components/List.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;当前城市&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;热门城市&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">         &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;A&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;B&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;C&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;D&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityList&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.border-topbottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">  &amp;:after</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.border-bottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.list</span><br><span class="line">  overflow hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  .title</span><br><span class="line">    line-height: .44rem</span><br><span class="line">    background: #eee</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    color: #666</span><br><span class="line">    font-size: .26rem</span><br><span class="line">  .button-list</span><br><span class="line">    padding: .1rem .6rem .1rem .1rem</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .button-wrapper</span><br><span class="line">      width: 33.33%</span><br><span class="line">      float left</span><br><span class="line">      .button</span><br><span class="line">        margin: .1rem</span><br><span class="line">        padding: .1rem 0</span><br><span class="line">        text-align: center</span><br><span class="line">        border: .02rem solid #ccc</span><br><span class="line">        border-radius: .06rem</span><br><span class="line">  .item-list</span><br><span class="line">    .item</span><br><span class="line">      line-height: .76rem</span><br><span class="line">      padding-left: .2rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Better-scroll的使用及字母表布局"><a href="#Better-scroll的使用及字母表布局" class="headerlink" title="Better-scroll的使用及字母表布局"></a>Better-scroll的使用及字母表布局</h2><p>安装<a href="mailto:better-scorll@1.8.1">better-scorll@1.8.1</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install better-scroll@1.8.1 --save</span></span><br><span class="line">npm WARN update-browserslist-db@1.0.13 requires a peer of browserslist@&gt;= 4.21.0 but none is installed. You must install peer dependencies yourself.    </span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.3 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.3: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\webpack-dev-server\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)</span><br><span class="line"></span><br><span class="line">+ better-scroll@1.8.1</span><br><span class="line">added 1 package from 1 contributor in 20.802s</span><br><span class="line"></span><br><span class="line">95 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br></pre></td></tr></table></figure>

<p>pages/city/components/List.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list&quot; ref&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;当前城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;热门城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;A&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;B&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;C&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;D&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;&gt;阿拉尔&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Bscroll from &#39;better-scroll&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityList&#39;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.scroll &#x3D; new Bscroll(this.$refs.wrapper)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.border-topbottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">  &amp;:after</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.border-bottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.list</span><br><span class="line">  overflow hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  .title</span><br><span class="line">    line-height: .54rem</span><br><span class="line">    background: #eee</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    color: #666</span><br><span class="line">    font-size: .26rem</span><br><span class="line">  .button-list</span><br><span class="line">    padding: .1rem .6rem .1rem .1rem</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .button-wrapper</span><br><span class="line">      width: 33.33%</span><br><span class="line">      float left</span><br><span class="line">      .button</span><br><span class="line">        margin: .1rem</span><br><span class="line">        padding: .1rem 0</span><br><span class="line">        text-align: center</span><br><span class="line">        border: .02rem solid #ccc</span><br><span class="line">        border-radius: .06rem</span><br><span class="line">  .item-list</span><br><span class="line">    .item</span><br><span class="line">      line-height: .76rem</span><br><span class="line">      padding-left: .2rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/Alphabet.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;&gt;A&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityAlphabet&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.list</span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  justify-content: center</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  width: .4rem</span><br><span class="line">  .item</span><br><span class="line">    line-height: .4rem</span><br><span class="line">    text-align: center</span><br><span class="line">    color: $bgColor</span><br><span class="line">    list-style-type: none</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="页面的动态数据渲染"><a href="#页面的动态数据渲染" class="headerlink" title="页面的动态数据渲染"></a>页面的动态数据渲染</h2><p>数据来源 <code>city.json</code></p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231207174720546.png" alt="image-20231207174720546"></p>
<p>pages/city/City.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;city-header&gt;&lt;&#x2F;city-header&gt;</span><br><span class="line">    &lt;city-search&gt;&lt;&#x2F;city-search&gt;</span><br><span class="line">    &lt;city-list :cities&#x3D;&quot;cities&quot; :hot&#x3D;&quot;hotCities&quot;&gt;&lt;&#x2F;city-list&gt;</span><br><span class="line">    &lt;city-alphabet :cities&#x3D;&quot;cities&quot;&gt;&lt;&#x2F;city-alphabet&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import CityHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line">import CitySearch from &#39;.&#x2F;components&#x2F;Search&#39;</span><br><span class="line">import CityList from &#39;.&#x2F;components&#x2F;List&#39;</span><br><span class="line">import CityAlphabet from &#39;.&#x2F;components&#x2F;Alphabet&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;City&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CityHeader,</span><br><span class="line">    CitySearch,</span><br><span class="line">    CityList,</span><br><span class="line">    CityAlphabet</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      cities: &#123;&#125;,</span><br><span class="line">      hotCities: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.getCityInfo()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getCityInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;city.json&#39;).then(this.handleGetCityInfoSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGetCityInfoSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.cities &#x3D; data.cities</span><br><span class="line">        this.hotCities &#x3D; data.hotCities</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/List.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list&quot; ref&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;当前城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;热门城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot; v-for&#x3D;&quot;item of hot&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;button&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot; v-for&#x3D;&quot;(item, key) of cities&quot; :key&#x3D;&quot;key&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;A&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot; v-for&#x3D;&quot;innerItem of item&quot; :key&#x3D;&quot;innerItem.id&quot;&gt;&#123;&#123; innerItem.name &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Bscroll from &#39;better-scroll&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityList&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    hot: Array,</span><br><span class="line">    cities: Object</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.scroll &#x3D; new Bscroll(this.$refs.wrapper)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.border-topbottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">  &amp;:after</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.border-bottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.list</span><br><span class="line">  overflow hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  .title</span><br><span class="line">    line-height: .54rem</span><br><span class="line">    background: #eee</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    color: #666</span><br><span class="line">    font-size: .26rem</span><br><span class="line">  .button-list</span><br><span class="line">    padding: .1rem .6rem .1rem .1rem</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .button-wrapper</span><br><span class="line">      width: 33.33%</span><br><span class="line">      float left</span><br><span class="line">      .button</span><br><span class="line">        margin: .1rem</span><br><span class="line">        padding: .1rem 0</span><br><span class="line">        text-align: center</span><br><span class="line">        border: .02rem solid #ccc</span><br><span class="line">        border-radius: .06rem</span><br><span class="line">  .item-list</span><br><span class="line">    .item</span><br><span class="line">      line-height: .76rem</span><br><span class="line">      padding-left: .2rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/Alphabet.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot; v-for&#x3D;&quot;(item, key) of cities&quot; :key&#x3D;&quot;key&quot;&gt;&#123;&#123; key &#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityAlphabet&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    cities: Object</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.list</span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  justify-content: center</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  width: .4rem</span><br><span class="line">  .item</span><br><span class="line">    line-height: .4rem</span><br><span class="line">    text-align: center</span><br><span class="line">    color: $bgColor</span><br><span class="line">    list-style-type: none</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="兄弟组件间联动"><a href="#兄弟组件间联动" class="headerlink" title="兄弟组件间联动"></a>兄弟组件间联动</h2><p>pages/city/City.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;city-header&gt;&lt;&#x2F;city-header&gt;</span><br><span class="line">    &lt;city-search&gt;&lt;&#x2F;city-search&gt;</span><br><span class="line">    &lt;city-list</span><br><span class="line">      :cities&#x3D;&quot;cities&quot;</span><br><span class="line">      :hot&#x3D;&quot;hotCities&quot;</span><br><span class="line">      :letter&#x3D;&quot;letter&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;&#x2F;city-list&gt;</span><br><span class="line">    &lt;city-alphabet</span><br><span class="line">      :cities&#x3D;&quot;cities&quot;</span><br><span class="line">      @change&#x3D;&quot;handleLetterChange&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;&#x2F;city-alphabet&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import CityHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line">import CitySearch from &#39;.&#x2F;components&#x2F;Search&#39;</span><br><span class="line">import CityList from &#39;.&#x2F;components&#x2F;List&#39;</span><br><span class="line">import CityAlphabet from &#39;.&#x2F;components&#x2F;Alphabet&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;City&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CityHeader,</span><br><span class="line">    CitySearch,</span><br><span class="line">    CityList,</span><br><span class="line">    CityAlphabet</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      cities: &#123;&#125;,</span><br><span class="line">      hotCities: [],</span><br><span class="line">      letter: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.getCityInfo()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getCityInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;city.json&#39;).then(this.handleGetCityInfoSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGetCityInfoSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.cities &#x3D; data.cities</span><br><span class="line">        this.hotCities &#x3D; data.hotCities</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleLetterChange (letter) &#123;</span><br><span class="line">      this.letter &#x3D; letter</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/List.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list&quot; ref&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;当前城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;北京&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;热门城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot; v-for&#x3D;&quot;item of hot&quot; :key&#x3D;&quot;item.id&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;button&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;</span><br><span class="line">        v-for&#x3D;&quot;(item, key) of cities&quot;</span><br><span class="line">        :key&#x3D;&quot;key&quot;</span><br><span class="line">        :ref&#x3D;&quot;key&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;&#123;&#123; key &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot; v-for&#x3D;&quot;innerItem of item&quot; :key&#x3D;&quot;innerItem.id&quot;&gt;&#123;&#123; innerItem.name &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Bscroll from &#39;better-scroll&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityList&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    hot: Array,</span><br><span class="line">    cities: Object,</span><br><span class="line">    letter: String</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.scroll &#x3D; new Bscroll(this.$refs.wrapper)</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    letter () &#123;</span><br><span class="line">      if (this.letter) &#123;</span><br><span class="line">        const element &#x3D; this.$refs[this.letter][0]</span><br><span class="line">        this.scroll.scrollToElement(element)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.border-topbottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">  &amp;:after</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.border-bottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.list</span><br><span class="line">  overflow hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  .title</span><br><span class="line">    line-height: .54rem</span><br><span class="line">    background: #eee</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    color: #666</span><br><span class="line">    font-size: .26rem</span><br><span class="line">  .button-list</span><br><span class="line">    padding: .1rem .6rem .1rem .1rem</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .button-wrapper</span><br><span class="line">      width: 33.33%</span><br><span class="line">      float left</span><br><span class="line">      .button</span><br><span class="line">        margin: .1rem</span><br><span class="line">        padding: .1rem 0</span><br><span class="line">        text-align: center</span><br><span class="line">        border: .02rem solid #ccc</span><br><span class="line">        border-radius: .06rem</span><br><span class="line">  .item-list</span><br><span class="line">    .item</span><br><span class="line">      line-height: .76rem</span><br><span class="line">      padding-left: .2rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/Alphabet.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;</span><br><span class="line">          v-for&#x3D;&quot;item of letters&quot;</span><br><span class="line">          :key&#x3D;&quot;item&quot;</span><br><span class="line">          :ref&#x3D;&quot;item&quot;</span><br><span class="line">          @click&#x3D;&quot;handleLetterClick&quot;</span><br><span class="line">          @touchstart&#x3D;&quot;handleTouchStart&quot;</span><br><span class="line">          @touchmove&#x3D;&quot;handleTouchMove&quot;</span><br><span class="line">          @touchend&#x3D;&quot;handleTouchEnd&quot;</span><br><span class="line">          &gt;</span><br><span class="line">          &#123;&#123; item &#125;&#125;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityAlphabet&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    cities: Object</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    letters () &#123;</span><br><span class="line">      const letters &#x3D; []</span><br><span class="line">      for (let i in this.cities) &#123;</span><br><span class="line">        letters.push(i)</span><br><span class="line">      &#125;</span><br><span class="line">      return letters</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      touchStatus: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleLetterClick (e) &#123;</span><br><span class="line">      this.$emit(&#39;change&#39;, e.target.innerText)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchStart () &#123;</span><br><span class="line">      this.touchStatus &#x3D; true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchMove (e) &#123;</span><br><span class="line">      if (this.touchStatus) &#123;</span><br><span class="line">        const startY &#x3D; this.$refs[&#39;A&#39;][0].offsetTop</span><br><span class="line">        const touchY &#x3D; e.touches[0].clientY - 79</span><br><span class="line">        const index &#x3D; Math.floor((touchY - startY) &#x2F; 20)</span><br><span class="line">        if (index &gt;&#x3D; 0 &amp;&amp; index &lt; this.letters.length) &#123;</span><br><span class="line">          this.$emit(&#39;change&#39;, this.letters[index])</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchEnd () &#123;</span><br><span class="line">      this.touchStatus &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.list</span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  justify-content: center</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  width: .4rem</span><br><span class="line">  .item</span><br><span class="line">    line-height: .4rem</span><br><span class="line">    text-align: center</span><br><span class="line">    color: $bgColor</span><br><span class="line">    list-style-type: none</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="列表切换性能优化"><a href="#列表切换性能优化" class="headerlink" title="列表切换性能优化"></a>列表切换性能优化</h2><p>pages/city/components/Alphabet.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;item&quot;</span><br><span class="line">          v-for&#x3D;&quot;item of letters&quot;</span><br><span class="line">          :key&#x3D;&quot;item&quot;</span><br><span class="line">          :ref&#x3D;&quot;item&quot;</span><br><span class="line">          @click&#x3D;&quot;handleLetterClick&quot;</span><br><span class="line">          @touchstart&#x3D;&quot;handleTouchStart&quot;</span><br><span class="line">          @touchmove&#x3D;&quot;handleTouchMove&quot;</span><br><span class="line">          @touchend&#x3D;&quot;handleTouchEnd&quot;</span><br><span class="line">          &gt;</span><br><span class="line">          &#123;&#123; item &#125;&#125;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityAlphabet&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    cities: Object</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    letters () &#123;</span><br><span class="line">      const letters &#x3D; []</span><br><span class="line">      for (let i in this.cities) &#123;</span><br><span class="line">        letters.push(i)</span><br><span class="line">      &#125;</span><br><span class="line">      return letters</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      touchStatus: false,</span><br><span class="line">      startY: 0,</span><br><span class="line">      timer: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  updated () &#123;</span><br><span class="line">    this.startY &#x3D; this.$refs[&#39;A&#39;][0].offsetTop</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleLetterClick (e) &#123;</span><br><span class="line">      this.$emit(&#39;change&#39;, e.target.innerText)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchStart () &#123;</span><br><span class="line">      this.touchStatus &#x3D; true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchMove (e) &#123;</span><br><span class="line">      if (this.touchStatus) &#123;</span><br><span class="line">        if (this.timer) &#123;</span><br><span class="line">          clearTimeout(this.timer)</span><br><span class="line">        &#125;</span><br><span class="line">        this.timer &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">          const touchY &#x3D; e.touches[0].clientY - 79</span><br><span class="line">          const index &#x3D; Math.floor((touchY - this.startY) &#x2F; 20)</span><br><span class="line">          if (index &gt;&#x3D; 0 &amp;&amp; index &lt; this.letters.length) &#123;</span><br><span class="line">            this.$emit(&#39;change&#39;, this.letters[index])</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, 16)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchEnd () &#123;</span><br><span class="line">      this.touchStatus &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.list</span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  justify-content: center</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  width: .4rem</span><br><span class="line">  .item</span><br><span class="line">    line-height: .4rem</span><br><span class="line">    text-align: center</span><br><span class="line">    color: $bgColor</span><br><span class="line">    list-style-type: none</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="搜索功能实现"><a href="#搜索功能实现" class="headerlink" title="搜索功能实现"></a>搜索功能实现</h2><p>pages/city/City.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;city-header&gt;&lt;&#x2F;city-header&gt;</span><br><span class="line">    &lt;city-search :cities&#x3D;&quot;cities&quot;&gt;&lt;&#x2F;city-search&gt;</span><br><span class="line">    &lt;city-list</span><br><span class="line">      :cities&#x3D;&quot;cities&quot;</span><br><span class="line">      :hot&#x3D;&quot;hotCities&quot;</span><br><span class="line">      :letter&#x3D;&quot;letter&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;&#x2F;city-list&gt;</span><br><span class="line">    &lt;city-alphabet</span><br><span class="line">      :cities&#x3D;&quot;cities&quot;</span><br><span class="line">      @change&#x3D;&quot;handleLetterChange&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;&#x2F;city-alphabet&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import CityHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line">import CitySearch from &#39;.&#x2F;components&#x2F;Search&#39;</span><br><span class="line">import CityList from &#39;.&#x2F;components&#x2F;List&#39;</span><br><span class="line">import CityAlphabet from &#39;.&#x2F;components&#x2F;Alphabet&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;City&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CityHeader,</span><br><span class="line">    CitySearch,</span><br><span class="line">    CityList,</span><br><span class="line">    CityAlphabet</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      cities: &#123;&#125;,</span><br><span class="line">      hotCities: [],</span><br><span class="line">      letter: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.getCityInfo()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getCityInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;city.json&#39;).then(this.handleGetCityInfoSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGetCityInfoSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.cities &#x3D; data.cities</span><br><span class="line">        this.hotCities &#x3D; data.hotCities</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleLetterChange (letter) &#123;</span><br><span class="line">      this.letter &#x3D; letter</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/Search.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;search&quot;&gt;</span><br><span class="line">        &lt;input v-model&#x3D;&quot;keyword&quot; class&#x3D;&quot;search-input&quot; type&#x3D;&quot;text&quot; placeholder&#x3D;输入城市名或拼音&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;search-content&quot;</span><br><span class="line">      ref&#x3D;&quot;search&quot;</span><br><span class="line">      v-show&#x3D;&quot;keyword&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;search-item border-bottom&quot;</span><br><span class="line">         v-for&#x3D;&quot;item of list&quot;</span><br><span class="line">          :key&#x3D;&quot;item.id&quot;</span><br><span class="line">        &gt;</span><br><span class="line">        &#123;&#123; item.name &#125;&#125;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;search-item border-bottom&quot; v-show&#x3D;&quot;hasNoData&quot;&gt;没有找到匹配数据&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Bscroll from &#39;better-scroll&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CitySearch&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    cities: Object</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      keyword: &#39;&#39;,</span><br><span class="line">      list: [],</span><br><span class="line">      timer: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    hasNoData () &#123;</span><br><span class="line">      return !this.list.length</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    keyword () &#123;</span><br><span class="line">      if (this.timer) &#123;</span><br><span class="line">        clearTimeout(this.timer)</span><br><span class="line">      &#125;</span><br><span class="line">      if (!this.keyword) &#123;</span><br><span class="line">        this.list &#x3D; []</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      this.timer &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        const result &#x3D; []</span><br><span class="line">        for (let i in this.cities) &#123;</span><br><span class="line">          this.cities[i].forEach((value) &#x3D;&gt; &#123;</span><br><span class="line">            if (value.spell.indexOf(this.keyword) &gt; -1 || value.name.indexOf(this.keyword) &gt; -1) &#123;</span><br><span class="line">              result.push(value)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        this.list &#x3D; result</span><br><span class="line">      &#125;, 100)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.scroll &#x3D; new Bscroll(this.$refs.search)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.search</span><br><span class="line">  height: .72rem</span><br><span class="line">  padding: 0 .1rem</span><br><span class="line">  background: $bgColor</span><br><span class="line">  .search-input</span><br><span class="line">    box-sizing: border-box</span><br><span class="line">    width: 100%</span><br><span class="line">    height: .62rem</span><br><span class="line">    line-height: .62rem</span><br><span class="line">    text-align: center</span><br><span class="line">    border-radius: .06rem</span><br><span class="line">    color: #666</span><br><span class="line">    padding: 0 .1rem</span><br><span class="line">.search-content</span><br><span class="line">  z-index: 1</span><br><span class="line">  overflow: hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  background: #eee</span><br><span class="line">  .search-item</span><br><span class="line">    line-height: .62rem</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    background: #fff</span><br><span class="line">    color: #666</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用Vuex实现数据共享"><a href="#使用Vuex实现数据共享" class="headerlink" title="使用Vuex实现数据共享"></a>使用Vuex实现数据共享</h2><p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231207202814191.png" alt="image-20231207202814191"></p>
<p>安装 vuex</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="symbol">vuex@</span><span class="number">3.0</span><span class="number">.1</span> --save</span><br></pre></td></tr></table></figure>

<p>src/main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="comment">// 引入vuex</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store'</span></span><br><span class="line"><span class="comment">// 解决移动端点击事件延迟300ms问题</span></span><br><span class="line"><span class="keyword">import</span> fastClick <span class="keyword">from</span> <span class="string">'fastclick'</span></span><br><span class="line"><span class="comment">// 用来重置页面样式表，对基础样式的修饰，保证不同手机浏览器的默认展示样式统一</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/reset.css'</span></span><br><span class="line"><span class="comment">// 解决1像素边框的问题，多倍屏物理像素实际对应的是2或者3等多像素的问题</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/border.css'</span></span><br><span class="line"><span class="comment">// 使用iconfont</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'styles/iconfont.css'</span></span><br><span class="line"><span class="comment">// 引入vue-awesome-swiper</span></span><br><span class="line"><span class="keyword">import</span> VueAwesomeSwiper <span class="keyword">from</span> <span class="string">'vue-awesome-swiper'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'swiper/dist/css/swiper.css'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用fastClick绑定到document.body</span></span><br><span class="line">fastClick.attach(<span class="built_in">document</span>.body)</span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueAwesomeSwiper)</span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>src/store/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> state <span class="keyword">from</span> <span class="string">'./state'</span></span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">'./mutations'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state,</span><br><span class="line">  <span class="comment">// actions: &#123;</span></span><br><span class="line">  <span class="comment">//   changeCity (ctx, city) &#123;</span></span><br><span class="line">  <span class="comment">//     ctx.commit('changeCity', city)</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  mutations,</span><br><span class="line">  <span class="comment">// vuex中的getters的作用有点类似组件中的computed计算属性的作用</span></span><br><span class="line">  <span class="comment">// 当我们需要根据state里面的数据算出一些新的数据的时候，我们就可以借助getter这样的一个工具，来提供新的数据，避免数据的冗余</span></span><br><span class="line">  getters: &#123;</span><br><span class="line">    doubleCity (state) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.city + <span class="string">' '</span> + state.city</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>src/store/state.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaultCity = <span class="string">'北京'</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (localStorage.city) &#123;</span><br><span class="line">    defaultCity = localStorage.city</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">  city: defaultCity</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>src/store/mutations.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  changeCity (state, city) &#123;</span><br><span class="line">    state.city = city</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      localStorage.city = city</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>pages/home/Home.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;home-header&gt;&lt;&#x2F;home-header&gt;</span><br><span class="line">    &lt;home-swiper :list&#x3D;&quot;swiperList&quot;&gt;&lt;&#x2F;home-swiper&gt;</span><br><span class="line">    &lt;home-icons :list&#x3D;&quot;iconList&quot;&gt;&lt;&#x2F;home-icons&gt;</span><br><span class="line">    &lt;home-recommend :list&#x3D;&quot;recommendList&quot;&gt;&lt;&#x2F;home-recommend&gt;</span><br><span class="line">    &lt;home-weekend :list&#x3D;&quot;weekendList&quot;&gt;&lt;&#x2F;home-weekend&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HomeHeader from &#39;.&#x2F;components&#x2F;Header.vue&#39;</span><br><span class="line">import HomeSwiper from &#39;.&#x2F;components&#x2F;Swiper.vue&#39;</span><br><span class="line">import HomeIcons from &#39;.&#x2F;components&#x2F;Icons.vue&#39;</span><br><span class="line">import HomeRecommend from &#39;.&#x2F;components&#x2F;Recommend.vue&#39;</span><br><span class="line">import HomeWeekend from &#39;.&#x2F;components&#x2F;Weekend.vue&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Home&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HomeHeader,</span><br><span class="line">    HomeSwiper,</span><br><span class="line">    HomeIcons,</span><br><span class="line">    HomeRecommend,</span><br><span class="line">    HomeWeekend</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.getHomeInfo()</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      swiperList: [],</span><br><span class="line">      iconList: [],</span><br><span class="line">      recommendList: [],</span><br><span class="line">      weekendList: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getHomeInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;index.json&#39;).then(this.getHomeInfoSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    getHomeInfoSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.swiperList &#x3D; data.swiperList</span><br><span class="line">        this.iconList &#x3D; data.iconList</span><br><span class="line">        this.recommendList &#x3D; data.recommendList</span><br><span class="line">        this.weekendList &#x3D; data.weekendList</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-left&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont back-icon&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-input&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont&quot;&gt;&amp;#xe632;&lt;&#x2F;span&gt;</span><br><span class="line">        输入城市&#x2F;景点&#x2F;游玩主题</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;city&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-right&quot;&gt;</span><br><span class="line">        &#123;&#123; this.doubleCity &#125;&#125;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont arrow-icon&quot;&gt;&amp;#xe62d;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapGetters, mapState &#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeHeader&#39;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    &#x2F;&#x2F; mapState：指将vuex里面名为city的数据映射到本组件的computed的名为city的计算属性中</span><br><span class="line">    ...mapState([&#39;city&#39;]),</span><br><span class="line">    &#x2F;&#x2F; mapGetters：指将vuex里面名为doubleCity的getter映射到本组件的computed的名为doubleCity的计算属性中</span><br><span class="line">    ...mapGetters([&#39;doubleCity&#39;])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- lang&#x3D;&quot;stylus&quot;: 使用stylus语法编写css, scoped: 样式做限制，只对当前组件有影响，不会影响其他组件 --&gt;</span><br><span class="line">&lt;!-- 1rem &#x3D; html font-size &#x3D; 50px --&gt;</span><br><span class="line">&lt;!-- $bgColor 引用varibles.styl文件中的变量 --&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">     @import &#39;~@&#x2F;assets&#x2F;styles&#x2F;varibles.styl&#39;</span><br><span class="line">     @import: 样式中引用样式，使用样式变量</span><br><span class="line">     注意：导入的时候区分于其他形式的导入，可以用相对路径的方式，也可以用@符号</span><br><span class="line">     如果用@符号，则代表从src目录开始，但是这里需要在@符号前面加上~</span><br><span class="line">     可以自定义路径别名，在webpack.base.conf.js文件中进行配置，配置完成之后可以进行最终简化路径 @import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">.header</span><br><span class="line">  display: flex</span><br><span class="line">  line-height: $headerHeight</span><br><span class="line">  background: $bgColor</span><br><span class="line">  color: #fff</span><br><span class="line">  .header-left</span><br><span class="line">    width: .64rem</span><br><span class="line">    float: left</span><br><span class="line">    .back-icon</span><br><span class="line">      text-align: center</span><br><span class="line">      font-size: .4rem</span><br><span class="line">  .header-input</span><br><span class="line">    flex: 1</span><br><span class="line">    height: .64rem</span><br><span class="line">    line-height: .64rem</span><br><span class="line">    margin-left: .2rem</span><br><span class="line">    margin-top: .12rem</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    background: #fff</span><br><span class="line">    border-radius: .1rem</span><br><span class="line">    color: #ccc</span><br><span class="line">  .header-right</span><br><span class="line">    min-width: 1.04rem</span><br><span class="line">    padding: 0 .1rem</span><br><span class="line">    float: right</span><br><span class="line">    text-align: center</span><br><span class="line">    color: #fff</span><br><span class="line">    .arrow-icon</span><br><span class="line">      margin-left: -.04rem</span><br><span class="line">      font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/List.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list&quot; ref&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;当前城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button-wrapper&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;button&quot;&gt;&#123;&#123; this.currentCity &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;热门城市&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;button-list&quot;&gt;</span><br><span class="line">          &lt;div</span><br><span class="line">            class&#x3D;&quot;button-wrapper&quot;</span><br><span class="line">            v-for&#x3D;&quot;item of hot&quot;</span><br><span class="line">            :key&#x3D;&quot;item.id&quot;</span><br><span class="line">            @click&#x3D;&quot;handleCityClick(item.name)&quot;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;button&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;div class&#x3D;&quot;area&quot;</span><br><span class="line">        v-for&#x3D;&quot;(item, key) of cities&quot;</span><br><span class="line">        :key&#x3D;&quot;key&quot;</span><br><span class="line">        :ref&#x3D;&quot;key&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;title border-topbottom&quot;&gt;&#123;&#123; key &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;item-list&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item border-bottom&quot;</span><br><span class="line">            v-for&#x3D;&quot;innerItem of item&quot;</span><br><span class="line">            :key&#x3D;&quot;innerItem.id&quot;</span><br><span class="line">            @click&#x3D;&quot;handleCityClick(innerItem.name)&quot;</span><br><span class="line">          &gt;</span><br><span class="line">            &#123;&#123; innerItem.name &#125;&#125;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Bscroll from &#39;better-scroll&#39;</span><br><span class="line">import &#123; mapState, mapMutations &#125; from &#39;vuex&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CityList&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    hot: Array,</span><br><span class="line">    cities: Object,</span><br><span class="line">    letter: String</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    &#x2F;&#x2F; &#x2F;&#x2F; mapState：这里也可以使用对象，不用之前的数组形式，进行自定义命名。指将vuex里面名为city的数据映射到本组件的computed的名为currentCity的属性中</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">      currentCity: &#39;city&#39;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.scroll &#x3D; new Bscroll(this.$refs.wrapper)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCityClick (city) &#123;</span><br><span class="line">      &#x2F;&#x2F; this.$store.dispatch(&#39;changeCity&#39;, city)</span><br><span class="line">      &#x2F;&#x2F; 也可以使用直接调用mutation方法的形式</span><br><span class="line">      &#x2F;&#x2F; this.$store.commit(&#39;changeCity&#39;, city)</span><br><span class="line">      this.changeCity(city)</span><br><span class="line">      this.$router.push(&#39;&#x2F;&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; mapMutations: 将名为changeCity的mutation映射到本组件一个名为changeCity的方法里</span><br><span class="line">    ...mapMutations([&#39;changeCity&#39;])</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    letter () &#123;</span><br><span class="line">      if (this.letter) &#123;</span><br><span class="line">        const element &#x3D; this.$refs[this.letter][0]</span><br><span class="line">        this.scroll.scrollToElement(element)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.border-topbottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">  &amp;:after</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.border-bottom</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-color: #ccc</span><br><span class="line">.list</span><br><span class="line">  overflow hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  .title</span><br><span class="line">    line-height: .54rem</span><br><span class="line">    background: #eee</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    color: #666</span><br><span class="line">    font-size: .26rem</span><br><span class="line">  .button-list</span><br><span class="line">    padding: .1rem .6rem .1rem .1rem</span><br><span class="line">    overflow: hidden</span><br><span class="line">    .button-wrapper</span><br><span class="line">      width: 33.33%</span><br><span class="line">      float left</span><br><span class="line">      .button</span><br><span class="line">        margin: .1rem</span><br><span class="line">        padding: .1rem 0</span><br><span class="line">        text-align: center</span><br><span class="line">        border: .02rem solid #ccc</span><br><span class="line">        border-radius: .06rem</span><br><span class="line">  .item-list</span><br><span class="line">    .item</span><br><span class="line">      line-height: .76rem</span><br><span class="line">      padding-left: .2rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/city/components/Search.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;search&quot;&gt;</span><br><span class="line">        &lt;input v-model&#x3D;&quot;keyword&quot; class&#x3D;&quot;search-input&quot; type&#x3D;&quot;text&quot; placeholder&#x3D;输入城市名或拼音&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;search-content&quot;</span><br><span class="line">      ref&#x3D;&quot;search&quot;</span><br><span class="line">      v-show&#x3D;&quot;keyword&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;search-item border-bottom&quot;</span><br><span class="line">         v-for&#x3D;&quot;item of list&quot;</span><br><span class="line">         :key&#x3D;&quot;item.id&quot;</span><br><span class="line">         @click&#x3D;&quot;handleCityClick(item.name)&quot;</span><br><span class="line">        &gt;</span><br><span class="line">        &#123;&#123; item.name &#125;&#125;</span><br><span class="line">        &lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li class&#x3D;&quot;search-item border-bottom&quot; v-show&#x3D;&quot;hasNoData&quot;&gt;没有找到匹配数据&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Bscroll from &#39;better-scroll&#39;</span><br><span class="line">import &#123; mapMutations &#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CitySearch&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    cities: Object</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      keyword: &#39;&#39;,</span><br><span class="line">      list: [],</span><br><span class="line">      timer: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    hasNoData () &#123;</span><br><span class="line">      return !this.list.length</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    keyword () &#123;</span><br><span class="line">      if (this.timer) &#123;</span><br><span class="line">        clearTimeout(this.timer)</span><br><span class="line">      &#125;</span><br><span class="line">      if (!this.keyword) &#123;</span><br><span class="line">        this.list &#x3D; []</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      this.timer &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">        const result &#x3D; []</span><br><span class="line">        for (let i in this.cities) &#123;</span><br><span class="line">          this.cities[i].forEach((value) &#x3D;&gt; &#123;</span><br><span class="line">            if (value.spell.indexOf(this.keyword) &gt; -1 || value.name.indexOf(this.keyword) &gt; -1) &#123;</span><br><span class="line">              result.push(value)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        this.list &#x3D; result</span><br><span class="line">      &#125;, 100)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleCityClick (city) &#123;</span><br><span class="line">      &#x2F;&#x2F; this.$store.dispatch(&#39;changeCity&#39;, city)</span><br><span class="line">      &#x2F;&#x2F; 也可以使用直接调用mutation方法的形式</span><br><span class="line">      &#x2F;&#x2F; this.$store.commit(&#39;changeCity&#39;, city)</span><br><span class="line">      this.changeCity(city)</span><br><span class="line">      this.$router.push(&#39;&#x2F;&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; mapMutations: 将名为changeCity的mutation映射到本组件一个名为changeCity的方法里</span><br><span class="line">    ...mapMutations([&#39;changeCity&#39;])</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.scroll &#x3D; new Bscroll(this.$refs.search)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.search</span><br><span class="line">  height: .72rem</span><br><span class="line">  padding: 0 .1rem</span><br><span class="line">  background: $bgColor</span><br><span class="line">  .search-input</span><br><span class="line">    box-sizing: border-box</span><br><span class="line">    width: 100%</span><br><span class="line">    height: .62rem</span><br><span class="line">    line-height: .62rem</span><br><span class="line">    text-align: center</span><br><span class="line">    border-radius: .06rem</span><br><span class="line">    color: #666</span><br><span class="line">    padding: 0 .1rem</span><br><span class="line">.search-content</span><br><span class="line">  z-index: 1</span><br><span class="line">  overflow: hidden</span><br><span class="line">  position: absolute</span><br><span class="line">  top: 1.58rem</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  background: #eee</span><br><span class="line">  .search-item</span><br><span class="line">    line-height: .62rem</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    background: #fff</span><br><span class="line">    color: #666</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用keep-alive-vue内置标签优化网页性能"><a href="#使用keep-alive-vue内置标签优化网页性能" class="headerlink" title="使用keep-alive vue内置标签优化网页性能"></a>使用keep-alive vue内置标签优化网页性能</h2><p>src/App.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">      keep-alive: 路由的内容被加载过一次后就把路由中的内容放在内存中，下载再进这个路由的时候，</span><br><span class="line">                  不需要重新渲染这个组件和重新执行钩子函数，只需要从内存中把之前的内容拿出来显示在页面上就可以了</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;keep-alive&gt;</span><br><span class="line">      &lt;router-view&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;keep-alive&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/Home.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;home-header&gt;&lt;&#x2F;home-header&gt;</span><br><span class="line">    &lt;home-swiper :list&#x3D;&quot;swiperList&quot;&gt;&lt;&#x2F;home-swiper&gt;</span><br><span class="line">    &lt;home-icons :list&#x3D;&quot;iconList&quot;&gt;&lt;&#x2F;home-icons&gt;</span><br><span class="line">    &lt;home-recommend :list&#x3D;&quot;recommendList&quot;&gt;&lt;&#x2F;home-recommend&gt;</span><br><span class="line">    &lt;home-weekend :list&#x3D;&quot;weekendList&quot;&gt;&lt;&#x2F;home-weekend&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import HomeHeader from &#39;.&#x2F;components&#x2F;Header.vue&#39;</span><br><span class="line">import HomeSwiper from &#39;.&#x2F;components&#x2F;Swiper.vue&#39;</span><br><span class="line">import HomeIcons from &#39;.&#x2F;components&#x2F;Icons.vue&#39;</span><br><span class="line">import HomeRecommend from &#39;.&#x2F;components&#x2F;Recommend.vue&#39;</span><br><span class="line">import HomeWeekend from &#39;.&#x2F;components&#x2F;Weekend.vue&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">import &#123; mapState &#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Home&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    HomeHeader,</span><br><span class="line">    HomeSwiper,</span><br><span class="line">    HomeIcons,</span><br><span class="line">    HomeRecommend,</span><br><span class="line">    HomeWeekend</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapState([&#39;city&#39;])</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.lastCity &#x3D; this.city</span><br><span class="line">    this.getHomeInfo()</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      lastCity: &#39;&#39;,</span><br><span class="line">      swiperList: [],</span><br><span class="line">      iconList: [],</span><br><span class="line">      recommendList: [],</span><br><span class="line">      weekendList: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getHomeInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;index.json?city&#x3D;&#39; + this.city).then(this.getHomeInfoSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    getHomeInfoSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.swiperList &#x3D; data.swiperList</span><br><span class="line">        this.iconList &#x3D; data.iconList</span><br><span class="line">        this.recommendList &#x3D; data.recommendList</span><br><span class="line">        this.weekendList &#x3D; data.weekendList</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 当使用了keep-alive，则会多出来一个生命周期函数，表示页面每次重新被显示的时候，activated会被执行</span><br><span class="line">  &#x2F;&#x2F; 结合lastCity这个临时缓冲变量，实现首页代码性能优化的调整</span><br><span class="line">  activated () &#123;</span><br><span class="line">    if (this.lastCity !&#x3D;&#x3D; this.city) &#123;</span><br><span class="line">      this.lastCity &#x3D; this.city</span><br><span class="line">      this.getHomeInfo()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;header&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-left&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont back-icon&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-input&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont&quot;&gt;&amp;#xe632;&lt;&#x2F;span&gt;</span><br><span class="line">        输入城市&#x2F;景点&#x2F;游玩主题</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;city&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;header-right&quot;&gt;</span><br><span class="line">        &#123;&#123; this.city &#125;&#125;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont arrow-icon&quot;&gt;&amp;#xe62d;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapGetters, mapState &#125; from &#39;vuex&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeHeader&#39;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    &#x2F;&#x2F; mapState：指将vuex里面名为city的数据映射到本组件的computed的名为city的计算属性中</span><br><span class="line">    ...mapState([&#39;city&#39;]),</span><br><span class="line">    &#x2F;&#x2F; mapGetters：指将vuex里面名为doubleCity的getter映射到本组件的computed的名为doubleCity的计算属性中</span><br><span class="line">    ...mapGetters([&#39;doubleCity&#39;])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- lang&#x3D;&quot;stylus&quot;: 使用stylus语法编写css, scoped: 样式做限制，只对当前组件有影响，不会影响其他组件 --&gt;</span><br><span class="line">&lt;!-- 1rem &#x3D; html font-size &#x3D; 50px --&gt;</span><br><span class="line">&lt;!-- $bgColor 引用varibles.styl文件中的变量 --&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">     @import &#39;~@&#x2F;assets&#x2F;styles&#x2F;varibles.styl&#39;</span><br><span class="line">     @import: 样式中引用样式，使用样式变量</span><br><span class="line">     注意：导入的时候区分于其他形式的导入，可以用相对路径的方式，也可以用@符号</span><br><span class="line">     如果用@符号，则代表从src目录开始，但是这里需要在@符号前面加上~</span><br><span class="line">     可以自定义路径别名，在webpack.base.conf.js文件中进行配置，配置完成之后可以进行最终简化路径 @import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">.header</span><br><span class="line">  display: flex</span><br><span class="line">  line-height: $headerHeight</span><br><span class="line">  background: $bgColor</span><br><span class="line">  color: #fff</span><br><span class="line">  .header-left</span><br><span class="line">    width: .64rem</span><br><span class="line">    float: left</span><br><span class="line">    .back-icon</span><br><span class="line">      text-align: center</span><br><span class="line">      font-size: .4rem</span><br><span class="line">  .header-input</span><br><span class="line">    flex: 1</span><br><span class="line">    height: .64rem</span><br><span class="line">    line-height: .64rem</span><br><span class="line">    margin-left: .2rem</span><br><span class="line">    margin-top: .12rem</span><br><span class="line">    padding-left: .2rem</span><br><span class="line">    background: #fff</span><br><span class="line">    border-radius: .1rem</span><br><span class="line">    color: #ccc</span><br><span class="line">  .header-right</span><br><span class="line">    min-width: 1.04rem</span><br><span class="line">    padding: 0 .1rem</span><br><span class="line">    float: right</span><br><span class="line">    text-align: center</span><br><span class="line">    color: #fff</span><br><span class="line">    .arrow-icon</span><br><span class="line">      margin-left: -.04rem</span><br><span class="line">      font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="详情页动态路由及banner布局"><a href="#详情页动态路由及banner布局" class="headerlink" title="详情页动态路由及banner布局"></a>详情页动态路由及banner布局</h2><p>src/router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'@/pages/home/Home'</span></span><br><span class="line"><span class="keyword">import</span> City <span class="keyword">from</span> <span class="string">'@/pages/city/City'</span></span><br><span class="line"><span class="keyword">import</span> Detail <span class="keyword">from</span> <span class="string">'@/pages/detail/Detail'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Home'</span>,</span><br><span class="line">      component: Home</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/city'</span>,</span><br><span class="line">      name: <span class="string">'City'</span>,</span><br><span class="line">      component: City</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 动态路由</span></span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/detail/:id'</span>,</span><br><span class="line">      name: <span class="string">'Detail'</span>,</span><br><span class="line">      component: Detail</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>pages/detail/Detail.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;detail-banner&gt;&lt;&#x2F;detail-banner&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import DetailBanner from &#39;.&#x2F;components&#x2F;Banner&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Detail&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    DetailBanner</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Banner.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;banner&quot;&gt;</span><br><span class="line">    &lt;img class&#x3D;&quot;banner-img&quot; src&#x3D;&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;201404&#x2F;23&#x2F;04b92c99462687fa1ba45c1b5ba4ad77.jpg_600x330_bf9c4904.jpg&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;banner-info&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;banner-tittle&quot;&gt;大连圣亚海洋世界(AAAA景区)&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;banner-number&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;iconfont banner-icon&quot;&gt;&amp;#xe731;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Banner&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.banner</span><br><span class="line">  position: relative</span><br><span class="line">  overflow hidden</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 55%</span><br><span class="line">  .banner-img</span><br><span class="line">    width: 100%</span><br><span class="line">  .banner-info</span><br><span class="line">    display: flex</span><br><span class="line">    position: absolute</span><br><span class="line">    left: 0</span><br><span class="line">    right: 0</span><br><span class="line">    bottom: 0</span><br><span class="line">    line-height: .6rem</span><br><span class="line">    color: #fff</span><br><span class="line">    background-image: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8))</span><br><span class="line">    .banner-tittle</span><br><span class="line">      flex: 1</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">    .banner-number</span><br><span class="line">      height: .32rem</span><br><span class="line">      line-height: .32rem</span><br><span class="line">      margin-top: .14rem</span><br><span class="line">      padding: 0 .4rem</span><br><span class="line">      border-radius: .2rem</span><br><span class="line">      background: rgba(0, 0, 0, .8)</span><br><span class="line">      font-size: .24rem</span><br><span class="line">      .banner-icon</span><br><span class="line">        font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/home/components/Recommend.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;title&quot;&gt;热销推荐&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;!-- 此时vue不会将router-link渲染成a标签，而是li标签 --&gt;</span><br><span class="line">      &lt;router-link</span><br><span class="line">        tag&#x3D;&quot;li&quot;</span><br><span class="line">        class&#x3D;&quot;item border-bottom&quot;</span><br><span class="line">        v-for&#x3D;&quot;item of list&quot;</span><br><span class="line">        :key&#x3D;&quot;item.key&quot;</span><br><span class="line">        :to&#x3D;&quot;&#39;&#x2F;detail&#x2F;&#39; + item.id&quot;</span><br><span class="line">      &gt;</span><br><span class="line">          &lt;img class&#x3D;&quot;item-img&quot; :src&#x3D;&quot;item.imgUrl&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;item-info&quot;&gt;</span><br><span class="line">            &lt;p class&#x3D;&quot;item-title&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p class&#x3D;&quot;item-desc&quot;&gt;&#123;&#123; item.desc &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;button class&#x3D;&quot;item-button&quot;&gt;查看详情&lt;&#x2F;button&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;HomeRecommend&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line"></span><br><span class="line">.title</span><br><span class="line">  margin-top: .2rem</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: #eee</span><br><span class="line">  text-indent: .2rem</span><br><span class="line">.item</span><br><span class="line">  overflow: hidden</span><br><span class="line">  display: flex</span><br><span class="line">  height: 1.9rem</span><br><span class="line">  .item-img</span><br><span class="line">    width: 1.7rem</span><br><span class="line">    height: 1.7rem</span><br><span class="line">    padding: .1rem</span><br><span class="line">  .item-info</span><br><span class="line">    flex: 1</span><br><span class="line">    padding: .1rem</span><br><span class="line">    min-width: 0</span><br><span class="line">    .item-title</span><br><span class="line">      line-height: 0.54rem</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      ellipsis()</span><br><span class="line">    .item-desc</span><br><span class="line">      line-height: 0.4rem</span><br><span class="line">      color: #ccc</span><br><span class="line">      ellipsis()</span><br><span class="line">    .item-button</span><br><span class="line">      line-height: .44rem</span><br><span class="line">      margin-top: .16rem</span><br><span class="line">      background: #ff9300</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">      border-radius: .06rem</span><br><span class="line">      color: #fff</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="公共图片画廊组件拆分"><a href="#公共图片画廊组件拆分" class="headerlink" title="公共图片画廊组件拆分"></a>公共图片画廊组件拆分</h2><p>build/webpack.base.conf</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span>,</span><br><span class="line">      <span class="string">'@'</span>: resolve(<span class="string">'src'</span>),</span><br><span class="line">      <span class="string">'styles'</span>: resolve(<span class="string">'src/assets/styles'</span>),</span><br><span class="line">      <span class="comment">// 简写</span></span><br><span class="line">      <span class="string">'common'</span>: resolve(<span class="string">'src/common'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>pages/detail/Detail.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;detail-banner&gt;&lt;&#x2F;detail-banner&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import DetailBanner from &#39;.&#x2F;components&#x2F;Banner&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Detail&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    DetailBanner</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Banner.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;banner&quot; @click&#x3D;&quot;handleBannerClick&quot;&gt;</span><br><span class="line">      &lt;img class&#x3D;&quot;banner-img&quot; src&#x3D;&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;201404&#x2F;23&#x2F;04b92c99462687fa1ba45c1b5ba4ad77.jpg_600x330_bf9c4904.jpg&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;banner-info&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-tittle&quot;&gt;大连圣亚海洋世界(AAAA景区)&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-number&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;iconfont banner-icon&quot;&gt;&amp;#xe731;&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;common-gallary</span><br><span class="line">     :imgs&#x3D;&quot;imgs&quot;</span><br><span class="line">     v-show&#x3D;&quot;showGallary&quot;</span><br><span class="line">     @close&#x3D;&quot;handleGallaryClose&quot;</span><br><span class="line">    &gt;&lt;&#x2F;common-gallary&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import CommonGallary from &#39;common&#x2F;gallary&#x2F;Gallary&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Banner&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CommonGallary</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showGallary: false,</span><br><span class="line">      imgs: [&#39;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;201404&#x2F;23&#x2F;04b92c99462687fa1ba45c1b5ba4ad77.jpg_800x800_70debc93.jpg&#39;,</span><br><span class="line">        &#39;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;1709&#x2F;76&#x2F;7691528bc7d7ad3ca3.img.png_800x800_9ef05ee7.png&#39;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleBannerClick () &#123;</span><br><span class="line">      this.showGallary &#x3D; true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGallaryClose () &#123;</span><br><span class="line">      this.showGallary &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.banner</span><br><span class="line">  position: relative</span><br><span class="line">  overflow hidden</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 55%</span><br><span class="line">  .banner-img</span><br><span class="line">    width: 100%</span><br><span class="line">  .banner-info</span><br><span class="line">    display: flex</span><br><span class="line">    position: absolute</span><br><span class="line">    left: 0</span><br><span class="line">    right: 0</span><br><span class="line">    bottom: 0</span><br><span class="line">    line-height: .6rem</span><br><span class="line">    color: #fff</span><br><span class="line">    background-image: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8))</span><br><span class="line">    .banner-tittle</span><br><span class="line">      flex: 1</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">    .banner-number</span><br><span class="line">      height: .32rem</span><br><span class="line">      line-height: .32rem</span><br><span class="line">      margin-top: .14rem</span><br><span class="line">      padding: 0 .4rem</span><br><span class="line">      border-radius: .2rem</span><br><span class="line">      background: rgba(0, 0, 0, .8)</span><br><span class="line">      font-size: .24rem</span><br><span class="line">      .banner-icon</span><br><span class="line">        font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>src/common/gallary/Gallary.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;container&quot; @click&#x3D;&quot;handleGallaryClick&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">      &lt;swiper :options&#x3D;&quot;swiperOptions&quot;&gt;</span><br><span class="line">        &lt;swiper-slide v-for&#x3D;&quot;(item, key) of imgs&quot; :key&#x3D;&quot;key&quot;&gt;</span><br><span class="line">          &lt;img  class&#x3D;&quot;gallary-image&quot; :src&#x3D;&quot;item&quot;&gt;</span><br><span class="line">        &lt;&#x2F;swiper-slide&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;swiper-pagination&quot;  slot&#x3D;&quot;pagination&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;swiper&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;CommonGallary&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    imgs: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default () &#123;</span><br><span class="line">        return []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      swiperOptions: &#123;</span><br><span class="line">        &#x2F;&#x2F; swiper的配置属性可以去swiper官网进行搜索配置 http:&#x2F;&#x2F;3.swiper.com.cn 、https:&#x2F;&#x2F;www.swiper.com.cn&#x2F;index.html</span><br><span class="line">        pagination: &#39;.swiper-pagination&#39;,</span><br><span class="line">        paginationType: &#39;fraction&#39;,</span><br><span class="line">        &#x2F;&#x2F; swapper插件如果监听到observer或者父级元素observerParents的DOM元素结构变化的时候，就会自我刷新一次，解决因为v-show造成的宽度计算问题而导致的滑动失败问题</span><br><span class="line">        observeParents: true,</span><br><span class="line">        observer: true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleGallaryClick () &#123;</span><br><span class="line">      this.$emit(&#39;close&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.container &gt;&gt;&gt; .swiper-container</span><br><span class="line">  overflow: inherit</span><br><span class="line">.container</span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  justify-content: center</span><br><span class="line">  z-index: 99</span><br><span class="line">  position: fixed</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  top: 0</span><br><span class="line">  bottom: 0</span><br><span class="line">  background: #000</span><br><span class="line">  .wrapper</span><br><span class="line">    height: 0</span><br><span class="line">    width: 100%</span><br><span class="line">    padding-bottom: 100%</span><br><span class="line">    .gallary-image</span><br><span class="line">      width: 100%</span><br><span class="line">    .swiper-pagination</span><br><span class="line">      color: #fff</span><br><span class="line">      bottom: -1rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="实现Header渐隐渐现效果"><a href="#实现Header渐隐渐现效果" class="headerlink" title="实现Header渐隐渐现效果"></a>实现Header渐隐渐现效果</h2><p>pages/detail/Detail.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;detail-banner&gt;&lt;&#x2F;detail-banner&gt;</span><br><span class="line">      &lt;detail-header&gt;&lt;&#x2F;detail-header&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;content&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import DetailBanner from &#39;.&#x2F;components&#x2F;Banner&#39;</span><br><span class="line">import DetailHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Detail&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    DetailBanner,</span><br><span class="line">    DetailHeader</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.content</span><br><span class="line">  height: 50rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Banner.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;banner&quot; @click&#x3D;&quot;handleBannerClick&quot;&gt;</span><br><span class="line">      &lt;img class&#x3D;&quot;banner-img&quot; src&#x3D;&quot;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;201404&#x2F;23&#x2F;04b92c99462687fa1ba45c1b5ba4ad77.jpg_600x330_bf9c4904.jpg&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;banner-info&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-tittle&quot;&gt;大连圣亚海洋世界(AAAA景区)&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-number&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;iconfont banner-icon&quot;&gt;&amp;#xe731;&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;common-gallary</span><br><span class="line">     :imgs&#x3D;&quot;imgs&quot;</span><br><span class="line">     v-show&#x3D;&quot;showGallary&quot;</span><br><span class="line">     @close&#x3D;&quot;handleGallaryClose&quot;</span><br><span class="line">    &gt;&lt;&#x2F;common-gallary&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import CommonGallary from &#39;common&#x2F;gallary&#x2F;Gallary&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailBanner&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CommonGallary</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showGallary: false,</span><br><span class="line">      imgs: [&#39;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;201404&#x2F;23&#x2F;04b92c99462687fa1ba45c1b5ba4ad77.jpg_800x800_70debc93.jpg&#39;,</span><br><span class="line">        &#39;http:&#x2F;&#x2F;img1.qunarzz.com&#x2F;sight&#x2F;p0&#x2F;1709&#x2F;76&#x2F;7691528bc7d7ad3ca3.img.png_800x800_9ef05ee7.png&#39;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleBannerClick () &#123;</span><br><span class="line">      this.showGallary &#x3D; true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGallaryClose () &#123;</span><br><span class="line">      this.showGallary &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.banner</span><br><span class="line">  position: relative</span><br><span class="line">  overflow hidden</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 55%</span><br><span class="line">  .banner-img</span><br><span class="line">    width: 100%</span><br><span class="line">  .banner-info</span><br><span class="line">    display: flex</span><br><span class="line">    position: absolute</span><br><span class="line">    left: 0</span><br><span class="line">    right: 0</span><br><span class="line">    bottom: 0</span><br><span class="line">    line-height: .6rem</span><br><span class="line">    color: #fff</span><br><span class="line">    background-image: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8))</span><br><span class="line">    .banner-tittle</span><br><span class="line">      flex: 1</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">    .banner-number</span><br><span class="line">      height: .32rem</span><br><span class="line">      line-height: .32rem</span><br><span class="line">      margin-top: .14rem</span><br><span class="line">      padding: 0 .4rem</span><br><span class="line">      border-radius: .2rem</span><br><span class="line">      background: rgba(0, 0, 0, .8)</span><br><span class="line">      font-size: .24rem</span><br><span class="line">      .banner-icon</span><br><span class="line">        font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;router-link</span><br><span class="line">     tag&#x3D;&quot;div&quot;</span><br><span class="line">     to&#x3D;&quot;&#x2F;&quot;</span><br><span class="line">     class&#x3D;&quot;header-abs&quot;</span><br><span class="line">     v-show&#x3D;&quot;showAbs&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;iconfont header-abs-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;header-fixed&quot;</span><br><span class="line">      v-show&#x3D;&quot;!showAbs&quot;</span><br><span class="line">      :style&#x3D;&quot;opacityStyle&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont header-fixed-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;router-link&gt;</span><br><span class="line">      景点详情</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailHeader&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showAbs: true,</span><br><span class="line">      opacityStyle: &#123;</span><br><span class="line">        opacity: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleScroll () &#123;</span><br><span class="line">      const top &#x3D; document.documentElement.scrollTop</span><br><span class="line">      if (top &gt; 60) &#123;</span><br><span class="line">        let opacity &#x3D; top &#x2F; 140</span><br><span class="line">        opacity &#x3D; opacity &gt; 1 ? 1 : opacity</span><br><span class="line">        this.opacityStyle &#x3D; &#123;</span><br><span class="line">          opacity</span><br><span class="line">        &#125;</span><br><span class="line">        this.showAbs &#x3D; false</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.showAbs &#x3D; true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  activated () &#123;</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.handleScroll)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.header-abs</span><br><span class="line">  position: absolute</span><br><span class="line">  left: .2rem</span><br><span class="line">  top: .2rem</span><br><span class="line">  width: .8rem</span><br><span class="line">  height: .8rem</span><br><span class="line">  border-radius: .4rem</span><br><span class="line">  text-align: center</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: rgba(0, 0, 0, .8)</span><br><span class="line">  .header-abs-back</span><br><span class="line">    color: #fff</span><br><span class="line">    font-size: .4rem</span><br><span class="line">.header-fixed</span><br><span class="line">  position: fixed</span><br><span class="line">  top: 0</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  height: $headerHeight</span><br><span class="line">  line-height: $headerHeight</span><br><span class="line">  text-align: center</span><br><span class="line">  color: #fff</span><br><span class="line">  background: $bgColor</span><br><span class="line">  font-size: .32rem</span><br><span class="line">  .header-fixed-back</span><br><span class="line">    position: absolute</span><br><span class="line">    width: .64rem</span><br><span class="line">    text-align: center</span><br><span class="line">    font-size: .4rem</span><br><span class="line">    top: 0</span><br><span class="line">    left: 0</span><br><span class="line">    color: #fff</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="对全局事件的解绑"><a href="#对全局事件的解绑" class="headerlink" title="对全局事件的解绑"></a>对全局事件的解绑</h2><p>pages/detail/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;router-link</span><br><span class="line">     tag&#x3D;&quot;div&quot;</span><br><span class="line">     to&#x3D;&quot;&#x2F;&quot;</span><br><span class="line">     class&#x3D;&quot;header-abs&quot;</span><br><span class="line">     v-show&#x3D;&quot;showAbs&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;iconfont header-abs-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;header-fixed&quot;</span><br><span class="line">      v-show&#x3D;&quot;!showAbs&quot;</span><br><span class="line">      :style&#x3D;&quot;opacityStyle&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont header-fixed-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;router-link&gt;</span><br><span class="line">      景点详情</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailHeader&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showAbs: true,</span><br><span class="line">      opacityStyle: &#123;</span><br><span class="line">        opacity: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleScroll () &#123;</span><br><span class="line">      const top &#x3D; document.documentElement.scrollTop</span><br><span class="line">      if (top &gt; 60) &#123;</span><br><span class="line">        let opacity &#x3D; top &#x2F; 140</span><br><span class="line">        opacity &#x3D; opacity &gt; 1 ? 1 : opacity</span><br><span class="line">        this.opacityStyle &#x3D; &#123;</span><br><span class="line">          opacity</span><br><span class="line">        &#125;</span><br><span class="line">        this.showAbs &#x3D; false</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.showAbs &#x3D; true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 每次页面展示的时候执行，此钩子函数会被执行</span><br><span class="line">  activated () &#123;</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.handleScroll)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 每次页面即将被替换成新的页面的时候，此钩子函数会被执行</span><br><span class="line">  deactivated () &#123;</span><br><span class="line">    window.removeEventListener(&#39;scroll&#39;, this.handleScroll)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.header-abs</span><br><span class="line">  position: absolute</span><br><span class="line">  left: .2rem</span><br><span class="line">  top: .2rem</span><br><span class="line">  width: .8rem</span><br><span class="line">  height: .8rem</span><br><span class="line">  border-radius: .4rem</span><br><span class="line">  text-align: center</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: rgba(0, 0, 0, .8)</span><br><span class="line">  .header-abs-back</span><br><span class="line">    color: #fff</span><br><span class="line">    font-size: .4rem</span><br><span class="line">.header-fixed</span><br><span class="line">  position: fixed</span><br><span class="line">  top: 0</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  height: $headerHeight</span><br><span class="line">  line-height: $headerHeight</span><br><span class="line">  text-align: center</span><br><span class="line">  color: #fff</span><br><span class="line">  background: $bgColor</span><br><span class="line">  font-size: .32rem</span><br><span class="line">  .header-fixed-back</span><br><span class="line">    position: absolute</span><br><span class="line">    width: .64rem</span><br><span class="line">    text-align: center</span><br><span class="line">    font-size: .4rem</span><br><span class="line">    top: 0</span><br><span class="line">    left: 0</span><br><span class="line">    color: #fff</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用递归组件实现详情页列表"><a href="#使用递归组件实现详情页列表" class="headerlink" title="使用递归组件实现详情页列表"></a>使用递归组件实现详情页列表</h2><p>pages/detail/Detail.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;detail-banner&gt;&lt;&#x2F;detail-banner&gt;</span><br><span class="line">      &lt;detail-header&gt;&lt;&#x2F;detail-header&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;content&quot;&gt;</span><br><span class="line">        &lt;detail-list :list&#x3D;&quot;list&quot;&gt;&lt;&#x2F;detail-list&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import DetailBanner from &#39;.&#x2F;components&#x2F;Banner&#39;</span><br><span class="line">import DetailHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line">import DetailList from &#39;.&#x2F;components&#x2F;List&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;Detail&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    DetailBanner,</span><br><span class="line">    DetailHeader,</span><br><span class="line">    DetailList</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: [&#123;</span><br><span class="line">        title: &#39;成人票&#39;,</span><br><span class="line">        children: [&#123;</span><br><span class="line">          title: &#39;成人三馆联票&#39;,</span><br><span class="line">          children: [&#123;</span><br><span class="line">            title: &#39;成人三馆联票 - 某一连锁店销售&#39;</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          title: &#39;成人五馆联票&#39;</span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        title: &#39;学生票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        title: &#39;儿童票&#39;</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        title: &#39;特惠票&#39;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.content</span><br><span class="line">  height: 50rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/List.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;item&quot;</span><br><span class="line">      v-for&#x3D;&quot;(item, index) of list&quot;</span><br><span class="line">      :key&#x3D;&quot;index&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;item-title border-bottom&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;item-title-icon&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">        &#123;&#123;item.title&#125;&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div v-if&#x3D;&quot;item.children&quot; class&#x3D;&quot;item-chilren&quot;&gt;</span><br><span class="line">        &lt;detail-list :list&#x3D;&quot;item.children&quot;&gt;&lt;&#x2F;detail-list&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailList&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">  .item-title-icon</span><br><span class="line">    position: relative</span><br><span class="line">    left: .06rem</span><br><span class="line">    top: .06rem</span><br><span class="line">    display: inline-block</span><br><span class="line">    width: .36rem</span><br><span class="line">    height: .36rem</span><br><span class="line">    background: url(http:&#x2F;&#x2F;s.qunarzz.com&#x2F;piao&#x2F;image&#x2F;touch&#x2F;sight&#x2F;detail.png) 0 -.45rem no-repeat</span><br><span class="line">    margin-right: .1rem</span><br><span class="line">    background-size: .4rem 3rem</span><br><span class="line">  .item-title</span><br><span class="line">    line-height: .8rem</span><br><span class="line">    font-size: .32rem</span><br><span class="line">    padding: 0 .2rem</span><br><span class="line">  .item-chilren</span><br><span class="line">    padding: 0 .2rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Header.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;router-link</span><br><span class="line">     tag&#x3D;&quot;div&quot;</span><br><span class="line">     to&#x3D;&quot;&#x2F;&quot;</span><br><span class="line">     class&#x3D;&quot;header-abs&quot;</span><br><span class="line">     v-show&#x3D;&quot;showAbs&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;iconfont header-abs-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class&#x3D;&quot;header-fixed&quot;</span><br><span class="line">      v-show&#x3D;&quot;!showAbs&quot;</span><br><span class="line">      :style&#x3D;&quot;opacityStyle&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;iconfont header-fixed-back&quot;&gt;&amp;#xe624;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;router-link&gt;</span><br><span class="line">      景点详情</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailHeader&#39;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showAbs: true,</span><br><span class="line">      opacityStyle: &#123;</span><br><span class="line">        opacity: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleScroll () &#123;</span><br><span class="line">      const top &#x3D; document.documentElement.scrollTop</span><br><span class="line">      if (top &gt; 60) &#123;</span><br><span class="line">        let opacity &#x3D; top &#x2F; 140</span><br><span class="line">        opacity &#x3D; opacity &gt; 1 ? 1 : opacity</span><br><span class="line">        this.opacityStyle &#x3D; &#123;</span><br><span class="line">          opacity</span><br><span class="line">        &#125;</span><br><span class="line">        this.showAbs &#x3D; false</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.showAbs &#x3D; true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 每次页面展示的时候执行，此钩子函数会被执行</span><br><span class="line">  activated () &#123;</span><br><span class="line">    window.addEventListener(&#39;scroll&#39;, this.handleScroll)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; 每次页面即将被替换成新的页面的时候，此钩子函数会被执行</span><br><span class="line">  deactivated () &#123;</span><br><span class="line">    window.removeEventListener(&#39;scroll&#39;, this.handleScroll)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">@import &#39;~styles&#x2F;varibles.styl&#39;</span><br><span class="line">@import &#39;~styles&#x2F;mixins.styl&#39;</span><br><span class="line">.header-abs</span><br><span class="line">  position: absolute</span><br><span class="line">  left: .2rem</span><br><span class="line">  top: .2rem</span><br><span class="line">  width: .8rem</span><br><span class="line">  height: .8rem</span><br><span class="line">  border-radius: .4rem</span><br><span class="line">  text-align: center</span><br><span class="line">  line-height: .8rem</span><br><span class="line">  background: rgba(0, 0, 0, .8)</span><br><span class="line">  .header-abs-back</span><br><span class="line">    color: #fff</span><br><span class="line">    font-size: .4rem</span><br><span class="line">.header-fixed</span><br><span class="line">  z-index: 2</span><br><span class="line">  position: fixed</span><br><span class="line">  top: 0</span><br><span class="line">  left: 0</span><br><span class="line">  right: 0</span><br><span class="line">  height: $headerHeight</span><br><span class="line">  line-height: $headerHeight</span><br><span class="line">  text-align: center</span><br><span class="line">  color: #fff</span><br><span class="line">  background: $bgColor</span><br><span class="line">  font-size: .32rem</span><br><span class="line">  .header-fixed-back</span><br><span class="line">    position: absolute</span><br><span class="line">    width: .64rem</span><br><span class="line">    text-align: center</span><br><span class="line">    font-size: .4rem</span><br><span class="line">    top: 0</span><br><span class="line">    left: 0</span><br><span class="line">    color: #fff</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="使用ajax获取动态数据"><a href="#使用ajax获取动态数据" class="headerlink" title="使用ajax获取动态数据"></a>使用ajax获取动态数据</h2><p>/src/static/mock/detail.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"ret"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"data"</span>: &#123;</span><br><span class="line">    <span class="attr">"sightName"</span>: <span class="string">"大连圣亚海洋世界(AAAA景区)"</span>,</span><br><span class="line">    <span class="attr">"bannerImg"</span>: <span class="string">"http://img1.qunarzz.com/sight/p0/201404/23/04b92c99462687fa1ba45c1b5ba4ad77.jpg_600x330_bf9c4904.jpg"</span>,</span><br><span class="line">    <span class="attr">"gallaryImgs"</span>: [<span class="string">"http://img1.qunarzz.com/sight/p0/201404/23/04b92c99462687fa1ba45c1b5ba4ad77.jpg_800x800_70debc93.jpg"</span>, <span class="string">"http://img1.qunarzz.com/sight/p0/1709/76/7691528bc7d7ad3ca3.img.png_800x800_9ef05ee7.png"</span>],</span><br><span class="line">    <span class="attr">"categoryList"</span>: [&#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"成人票"</span>,</span><br><span class="line">        <span class="attr">"children"</span>: [&#123;</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"成人三馆联票"</span>,</span><br><span class="line">          <span class="attr">"children"</span>: [&#123;</span><br><span class="line">            <span class="attr">"title"</span>: <span class="string">"成人三馆联票 - 某一连锁店销售"</span></span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;,&#123;</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"成人五馆联票"</span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"学生票"</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"儿童票"</span></span><br><span class="line">      &#125;, &#123;</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"特惠票"</span></span><br><span class="line">      &#125;]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>pages/detail/Detail.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;detail-banner</span><br><span class="line">       :sightName&#x3D;&quot;sightName&quot;</span><br><span class="line">       :bannerImg&#x3D;&quot;bannerImg&quot;</span><br><span class="line">       :gallaryImgs&#x3D;&quot;gallaryImgs&quot;</span><br><span class="line">      &gt;&lt;&#x2F;detail-banner&gt;</span><br><span class="line">      &lt;detail-header&gt;&lt;&#x2F;detail-header&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;content&quot;&gt;</span><br><span class="line">        &lt;detail-list :list&#x3D;&quot;list&quot;&gt;&lt;&#x2F;detail-list&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import DetailBanner from &#39;.&#x2F;components&#x2F;Banner&#39;</span><br><span class="line">import DetailHeader from &#39;.&#x2F;components&#x2F;Header&#39;</span><br><span class="line">import DetailList from &#39;.&#x2F;components&#x2F;List&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F; 思考：name组件名称的作用</span><br><span class="line">  &#x2F;&#x2F; 1、递归组件的使用会用到</span><br><span class="line">  &#x2F;&#x2F; 2、对某个页面取消缓存的时候会用到</span><br><span class="line">  name: &#39;Detail&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    DetailBanner,</span><br><span class="line">    DetailHeader,</span><br><span class="line">    DetailList</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      sightName: &#39;&#39;,</span><br><span class="line">      bannerImg: &#39;&#39;,</span><br><span class="line">      gallaryImgs: [],</span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getDetailInfo () &#123;</span><br><span class="line">      axios.get(&#39;&#x2F;api&#x2F;detail.json&#39;, &#123;</span><br><span class="line">        params: &#123;</span><br><span class="line">          id: this.$route.params.id</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).then(this.handleGetDataSucc)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGetDataSucc (res) &#123;</span><br><span class="line">      res &#x3D; res.data</span><br><span class="line">      if (res.ret &amp;&amp; res.data) &#123;</span><br><span class="line">        const data &#x3D; res.data</span><br><span class="line">        this.sightName &#x3D; data.sightName</span><br><span class="line">        this.bannerImg &#x3D; data.bannerImg</span><br><span class="line">        this.gallaryImgs &#x3D; data.gallaryImgs</span><br><span class="line">        this.list &#x3D; data.categoryList</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.getDetailInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.content</span><br><span class="line">  height: 50rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Banner.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;banner&quot; @click&#x3D;&quot;handleBannerClick&quot;&gt;</span><br><span class="line">      &lt;img class&#x3D;&quot;banner-img&quot; :src&#x3D;&quot;bannerImg&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;banner-info&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-tittle&quot;&gt;&#123;&#123; this.sightName &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-number&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;iconfont banner-icon&quot;&gt;&amp;#xe731;&lt;&#x2F;span&gt;</span><br><span class="line">          &#123;&#123; this.gallaryImgs.length &#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;common-gallary</span><br><span class="line">     :imgs&#x3D;&quot;gallaryImgs&quot;</span><br><span class="line">     v-show&#x3D;&quot;showGallary&quot;</span><br><span class="line">     @close&#x3D;&quot;handleGallaryClose&quot;</span><br><span class="line">    &gt;&lt;&#x2F;common-gallary&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import CommonGallary from &#39;common&#x2F;gallary&#x2F;Gallary&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailBanner&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    sightName: String,</span><br><span class="line">    bannerImg: String,</span><br><span class="line">    gallaryImgs: Array</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CommonGallary</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showGallary: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleBannerClick () &#123;</span><br><span class="line">      this.showGallary &#x3D; true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGallaryClose () &#123;</span><br><span class="line">      this.showGallary &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.banner</span><br><span class="line">  position: relative</span><br><span class="line">  overflow hidden</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 55%</span><br><span class="line">  .banner-img</span><br><span class="line">    width: 100%</span><br><span class="line">  .banner-info</span><br><span class="line">    display: flex</span><br><span class="line">    position: absolute</span><br><span class="line">    left: 0</span><br><span class="line">    right: 0</span><br><span class="line">    bottom: 0</span><br><span class="line">    line-height: .6rem</span><br><span class="line">    color: #fff</span><br><span class="line">    background-image: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8))</span><br><span class="line">    .banner-tittle</span><br><span class="line">      flex: 1</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">    .banner-number</span><br><span class="line">      height: .32rem</span><br><span class="line">      line-height: .32rem</span><br><span class="line">      margin-top: .14rem</span><br><span class="line">      padding: 0 .4rem</span><br><span class="line">      border-radius: .2rem</span><br><span class="line">      background: rgba(0, 0, 0, .8)</span><br><span class="line">      font-size: .24rem</span><br><span class="line">      .banner-icon</span><br><span class="line">        font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>/src/App.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">      keep-alive: 路由的内容被加载过一次后就把路由中的内容放在内存中，下载再进这个路由的时候，</span><br><span class="line">                  不需要重新渲染这个组件和重新执行钩子函数，只需要从内存中把之前的内容拿出来显示在页面上就可以了</span><br><span class="line">      exclude: 除了Detail页面，其他页面都要缓存</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;keep-alive exclude&#x3D;&quot;Detail&quot;&gt;</span><br><span class="line">      &lt;router-view&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;keep-alive&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>/src/router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'@/pages/home/Home'</span></span><br><span class="line"><span class="keyword">import</span> City <span class="keyword">from</span> <span class="string">'@/pages/city/City'</span></span><br><span class="line"><span class="keyword">import</span> Detail <span class="keyword">from</span> <span class="string">'@/pages/detail/Detail'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Home'</span>,</span><br><span class="line">      component: Home</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/city'</span>,</span><br><span class="line">      name: <span class="string">'City'</span>,</span><br><span class="line">      component: City</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 动态路由</span></span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/detail/:id'</span>,</span><br><span class="line">      name: <span class="string">'Detail'</span>,</span><br><span class="line">      component: Detail</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;</span><br><span class="line">    <span class="comment">// return 期望滚动到哪个的位置,每次做路由切换的时候，目标页面使x和y轴初始位置为0，让页面切换的时候始终回到最顶部</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="在项目中加入基础动画"><a href="#在项目中加入基础动画" class="headerlink" title="在项目中加入基础动画"></a>在项目中加入基础动画</h2><p>/src/common/fade/FadeAnimation.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;transition&gt;</span><br><span class="line">    &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;transition&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;FadeAnimation&#39;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">  .v-enter, .v-leave-to</span><br><span class="line">    opacity: 0</span><br><span class="line">  .v-enter-active, .v-leave-active</span><br><span class="line">    transition: opacity .5s</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>pages/detail/components/Banner.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;banner&quot; @click&#x3D;&quot;handleBannerClick&quot;&gt;</span><br><span class="line">      &lt;img class&#x3D;&quot;banner-img&quot; :src&#x3D;&quot;bannerImg&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;banner-info&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-tittle&quot;&gt;&#123;&#123; this.sightName &#125;&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;banner-number&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;iconfont banner-icon&quot;&gt;&amp;#xe731;&lt;&#x2F;span&gt;</span><br><span class="line">          &#123;&#123; this.gallaryImgs.length &#125;&#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;fade-animation&gt;</span><br><span class="line">      &lt;common-gallary</span><br><span class="line">      :imgs&#x3D;&quot;gallaryImgs&quot;</span><br><span class="line">      v-show&#x3D;&quot;showGallary&quot;</span><br><span class="line">      @close&#x3D;&quot;handleGallaryClose&quot;</span><br><span class="line">      &gt;&lt;&#x2F;common-gallary&gt;</span><br><span class="line">    &lt;&#x2F;fade-animation&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import CommonGallary from &#39;common&#x2F;gallary&#x2F;Gallary&#39;</span><br><span class="line">import FadeAnimation from &#39;common&#x2F;fade&#x2F;FadeAnimation&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;DetailBanner&#39;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    sightName: String,</span><br><span class="line">    bannerImg: String,</span><br><span class="line">    gallaryImgs: Array</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    CommonGallary,</span><br><span class="line">    FadeAnimation</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      showGallary: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleBannerClick () &#123;</span><br><span class="line">      this.showGallary &#x3D; true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleGallaryClose () &#123;</span><br><span class="line">      this.showGallary &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang&#x3D;&quot;stylus&quot; scoped&gt;</span><br><span class="line">.banner</span><br><span class="line">  position: relative</span><br><span class="line">  overflow hidden</span><br><span class="line">  height: 0</span><br><span class="line">  padding-bottom: 55%</span><br><span class="line">  .banner-img</span><br><span class="line">    width: 100%</span><br><span class="line">  .banner-info</span><br><span class="line">    display: flex</span><br><span class="line">    position: absolute</span><br><span class="line">    left: 0</span><br><span class="line">    right: 0</span><br><span class="line">    bottom: 0</span><br><span class="line">    line-height: .6rem</span><br><span class="line">    color: #fff</span><br><span class="line">    background-image: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.8))</span><br><span class="line">    .banner-tittle</span><br><span class="line">      flex: 1</span><br><span class="line">      font-size: .32rem</span><br><span class="line">      padding: 0 .2rem</span><br><span class="line">    .banner-number</span><br><span class="line">      height: .32rem</span><br><span class="line">      line-height: .32rem</span><br><span class="line">      margin-top: .14rem</span><br><span class="line">      padding: 0 .4rem</span><br><span class="line">      border-radius: .2rem</span><br><span class="line">      background: rgba(0, 0, 0, .8)</span><br><span class="line">      font-size: .24rem</span><br><span class="line">      .banner-icon</span><br><span class="line">        font-size: .24rem</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Vue项目的接口联调"><a href="#Vue项目的接口联调" class="headerlink" title="Vue项目的接口联调"></a>Vue项目的接口联调</h2><p>在 <code>config/index.js</code> 配置文件中修改配置项<code>proxyTable</code>，进行修改转发配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 真实开发环境下的前后端联调配置</span></span><br><span class="line"><span class="comment">// proxyTable: &#123;</span></span><br><span class="line"><span class="comment">//   '/api': &#123;</span></span><br><span class="line"><span class="comment">//     输入后端接口地址，pathRewrite：如果地址路径需要转换，就加此配置，如果一致，则可以省略掉</span></span><br><span class="line"><span class="comment">//     target: 'http://xxx.xxx.xxx.xxx:80'</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// &#125;,</span></span><br></pre></td></tr></table></figure>

<h2 id="Vue项目的真机测试"><a href="#Vue项目的真机测试" class="headerlink" title="Vue项目的真机测试"></a>Vue项目的真机测试</h2><p>我们的前端的项目是通过<code>webpack-dev-server</code>启动的，<code>webpack-dev-server</code>默认不支持通过IP的形式进行页面访问，所以我们需要将<code>webpack-dev-server</code>的默认配置项进行修改</p>
<p>修改package.json文件</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改dev属性，添加 --host 0.0.0.0 配置，支持通过IP的形式进行访问</span></span><br><span class="line">"scripts": &#123;</span><br><span class="line">    "dev": "webpack-dev-server --host 0.0.0.0 --inline --progress --config build/webpack.dev.conf.js",</span><br><span class="line">    "start": "npm run dev",</span><br><span class="line">    "lint": "eslint --ext .js,.vue src",</span><br><span class="line">    "build": "node build/build.js"</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>修改手机真机测试中在滑动选择城市时，整个屏幕都跟着滚动的bug</p>
<p>pages/city/components/Alphabet.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- @touchstart.prevent：事件修饰符，阻止@touchstart的默认行为，然后再滚动字母表，就不会出现整个页面跟着上下拖动的这种效果了--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list&quot;&gt;</span><br><span class="line">      &lt;li class&#x3D;&quot;item&quot;</span><br><span class="line">        v-for&#x3D;&quot;item of letters&quot;</span><br><span class="line">        :key&#x3D;&quot;item&quot;</span><br><span class="line">        :ref&#x3D;&quot;item&quot;</span><br><span class="line">        @touchstart.prevent&#x3D;&quot;handleTouchStart&quot;</span><br><span class="line">        @touchmove&#x3D;&quot;handleTouchMove&quot;</span><br><span class="line">        @touchend&#x3D;&quot;handleTouchEnd&quot;</span><br><span class="line">        @click&#x3D;&quot;handleLetterClick&quot;</span><br><span class="line">        &gt;</span><br><span class="line">        &#123;&#123; item &#125;&#125;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>真机测试中，为了防止因为手机安卓版本过低，导致出现不支持es6语法而导致白屏等问题，可以用下面的方式解决</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># 安装babel-polyfill，在真机测试中，解决项目如果不支持es6导致白屏等问题，此插件会自动引入es6语法内容，如: Promise</span></span></span><br><span class="line">(base) PS D:\learn\vue_learn_travel&gt; npm install babel-polyfill@6.26.0 --save</span><br><span class="line">npm WARN update-browserslist-db@1.0.13 requires a peer of browserslist@&gt;= 4.21.0 but none is installed. You must install peer dependencies yourself.</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.3.3 (node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.3: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)</span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\webpack-dev-server\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win3npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.13 (node_modules\watchpack-chokidar2\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted &#123;"os":"darwin","arch":"any"&#125; (current: &#123;"os":"win32","arch":"x64"&#125;)</span><br><span class="line"></span><br><span class="line">+ babel-polyfill@6.26.0</span><br><span class="line">added 2 packages from 2 contributors in 18.361s</span><br><span class="line"></span><br><span class="line">95 packages are looking for funding</span><br><span class="line">  run `npm fund` for details</span><br></pre></td></tr></table></figure>

<p>修改 <code>src/main.js</code> 文件，引入包</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入 babel-polyfill 模块，解决安卓版本过低不支持es6语法而导致的白屏等问题,如: Promise</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'babel-polyfill'</span></span><br></pre></td></tr></table></figure>

<h2 id="异步组件实现按需加载"><a href="#异步组件实现按需加载" class="headerlink" title="异步组件实现按需加载"></a>异步组件实现按需加载</h2><p>打包生成的 dist 文件夹包含了：static 文件夹和 index.html 文件。</p>
<p>index.html就是前段代码的入口文件。</p>
<p>static 目录下：</p>
<p>1.首先有一个 css 文件夹，里面包含了一个XXX.css.map 文件，它是帮助我们调试被压缩过的 css 代码，一般在开发做调试的时候使用。真正打包在线上有用的文件是 XXX.css 文件，打包的时候把所以用到的样式打包到了这里。</p>
<p>2.然后有一个 js 文件夹，里面一些 .js.map 的文件，依然是辅助文件，而真正有用的文件有三个：分别是 app.xxx.js 、manifest.xxx.js 、vendor.xxx.js 。</p>
<p>其中 manifest.xxx.js 可以理解为 webpack 打包生生的一个配置文件。可以不关心里面的代码。</p>
<p>vendor.xxx.js 里面放的是各个页面、各个组件公用的一些代码。</p>
<p>app.xxx.js 里面放的是项目各个页面的业务逻辑代码。</p>
<p>而我们说异步组件，主要说的是 app.xxx.js 这部分的内容。</p>
<p>当我们访问项目首页的时候，实际上是不需要列表页的内容，只需要加载首页的内容代码就可以了。但是当你现在以默认的形式打包后，访问首页的时候，app.xxx.js 把首页包括城市列表页、详情页的所有的代码都进行了加载。现在我们的文件比较少，所以看不出什么问题，当我们的项目大，文件多的时候，app.xxx.js 文件就变得越来越大，甚至达到1M以上，这个时候就需要我们通过异步组件来对代码进行优化。</p>
<p>当我们运行服务，浏览器打开 <a href="http://localhost:8080/#/" target="_blank" rel="noopener">http://localhost:8080/#/</a> ，在dev环境运行代码的时候，浏览器 Network 下的 JS 中，只有 app.js ，没有 manifest 和 vendor，</p>
<p>此时dev环境下app.js中有包括manifest.js和vendor.js的内容和业务逻辑</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130510212.png" alt="image-20231225130510212"></p>
<p>安装babel插件，需要添加 syntax-dynamic-import 插件，才能使 Babel 可以正确地解析语法。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-syntax-dynamic-import --save-dev</span><br></pre></td></tr></table></figure>

<p>build/webpack.base.conf.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      ...(config.dev.useEslint ? [createLintingRule()] : []),</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        loader: <span class="string">'vue-loader'</span>,</span><br><span class="line">        options: vueLoaderConfig</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">        include: [resolve(<span class="string">'src'</span>), resolve(<span class="string">'test'</span>), resolve(<span class="string">'node_modules/webpack-dev-server/client'</span>)],</span><br><span class="line">        <span class="comment">// 增加了option选项，至此，能识别我们：const App = () =&gt; import('../component/xxx.vue')的语法。</span></span><br><span class="line">        options:&#123;</span><br><span class="line">          plugins:[<span class="string">'syntax-dynamic-import'</span>]    </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      ... ...</span><br></pre></td></tr></table></figure>

<p>要实现异步加载：打开 router 目录下的 index.js 文件，修改代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Home'</span>,</span><br><span class="line">      <span class="comment">// component: Home</span></span><br><span class="line">      <span class="comment">// 修改成异步组件加载的形式</span></span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/pages/home/Home'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/city'</span>,</span><br><span class="line">      name: <span class="string">'City'</span>,</span><br><span class="line">      <span class="comment">// component: City</span></span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/pages/city/City'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 动态路由</span></span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/detail/:id'</span>,</span><br><span class="line">      name: <span class="string">'Detail'</span>,</span><br><span class="line">      <span class="comment">// component: Detail</span></span><br><span class="line">      component: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'@/pages/detail/Detail'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  scrollBehavior (to, <span class="keyword">from</span>, savedPosition) &#123;</span><br><span class="line">    <span class="comment">// return 期望滚动到哪个的位置,每次做路由切换的时候，目标页面使x和y轴初始位置为0，让页面切换的时候始终回到最顶部</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>保存后，重新刷新页面，可以看到首页多出了一个js文件，此时首页对应的业务逻辑就不在app.js里面了，而是单独的拆出来一个1.js文件来存放</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130705343.png" alt="image-20231225130705343"></p>
<p>清空控制台，点击城市列表，同理，发现这时候才加载列表页组件对应的代码：</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130726663.png" alt="image-20231225130726663"></p>
<p>然后返回首页，可以看到不会加载任何的js文件了，因为首页在一进来的时候已经加载过一次，所以再次访问的时候，直接用的缓存内部的js文件。</p>
<p>再点击详情页，同理发现会加载详情页组件的代码：</p>
<p><img src="/2023/10/16/Vue%E7%AC%94%E8%AE%B0/image-20231225130740990.png" alt="image-20231225130740990"></p>
<p>注意：这样写代码有一个好处，就是我们访问那个页面，只加载这个页面对应的js逻辑，不会加载其他的js逻辑。但是当我们项目的app.js 文件很小的时候，就不需要做这个异步组件加载了。因为做了这个异步拆分后，这个页面加载的代码少了，但是当你访问下一个页面时，会额外的发起一个 http 请求。所以当 app.js 很小的时候，发一个 http 请求的代价，远比首页多加载一个js代码的代价要高。这个情况下，就不建议对 app.js 进行拆分，去用异步组件。只有在 app.js 文件很大的时候，我们才考虑用异步组件，对 app.js 进行拆分。</p>
<p>回到代码中，不仅仅是在路由里可以使用异步组件这种形式，只要是Vue中的组件都可以进行异步的加载。比如说首页的Header.vue组件，在Home.vue中都是直接使用的，我们也可以把这个组件换成异步组件，修改为：</p>
<p>pages/home/Home.vue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;home-header&gt;&lt;<span class="regexp">/home-header&gt;</span></span><br><span class="line"><span class="regexp">    &lt;home-swiper :list="swiperList"&gt;&lt;/</span>home-swiper&gt;</span><br><span class="line">    &lt;home-icons :list=<span class="string">"iconList"</span>&gt;&lt;<span class="regexp">/home-icons&gt;</span></span><br><span class="line"><span class="regexp">    &lt;home-recommend :list="recommendList"&gt;&lt;/</span>home-recommend&gt;</span><br><span class="line">    &lt;home-weekend :list=<span class="string">"weekendList"</span>&gt;&lt;<span class="regexp">/home-weekend&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ import HomeHeader from './</span>components/Header<span class="string">'</span></span><br><span class="line"><span class="string">import HomeSwiper from '</span>./components/Swiper<span class="string">'</span></span><br><span class="line"><span class="string">import HomeIcons from '</span>./components/Icons<span class="string">'</span></span><br><span class="line"><span class="string">import HomeRecommend from '</span>./components/Recommend<span class="string">'</span></span><br><span class="line"><span class="string">import HomeWeekend from '</span>./components/Weekend<span class="string">'</span></span><br><span class="line"><span class="string">import axios from '</span>axios<span class="string">'</span></span><br><span class="line"><span class="string">import &#123; mapState &#125; from '</span>vuex<span class="string">'</span></span><br><span class="line"><span class="string">export default &#123;</span></span><br><span class="line"><span class="string">  name: '</span>Home<span class="string">',</span></span><br><span class="line"><span class="string">  components: &#123;</span></span><br><span class="line"><span class="string">    // 不仅仅是在路由里可以使用异步组件的形式，在组件中也可以直接使用异步组件进行加载</span></span><br><span class="line"><span class="string">    HomeHeader: () =&gt; import('</span>./components/Header<span class="string">'),</span></span><br><span class="line"><span class="string">    // HomeHeader,</span></span><br><span class="line"><span class="string">    HomeSwiper,</span></span><br><span class="line"><span class="string">    HomeIcons,</span></span><br><span class="line"><span class="string">    HomeRecommend,</span></span><br><span class="line"><span class="string">    HomeWeekend</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  computed: &#123;</span></span><br><span class="line"><span class="string">    ...mapState(['</span>city<span class="string">'])</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  mounted () &#123;</span></span><br><span class="line"><span class="string">    this.lastCity = this.city</span></span><br><span class="line"><span class="string">    this.getHomeInfo()</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  data () &#123;</span></span><br><span class="line"><span class="string">    return &#123;</span></span><br><span class="line"><span class="string">      lastCity: '</span><span class="string">',</span></span><br><span class="line"><span class="string">      swiperList: [],</span></span><br><span class="line"><span class="string">      iconList: [],</span></span><br><span class="line"><span class="string">      recommendList: [],</span></span><br><span class="line"><span class="string">      weekendList: []</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  methods: &#123;</span></span><br><span class="line"><span class="string">    getHomeInfo () &#123;</span></span><br><span class="line"><span class="string">      axios.get('</span>/api/index.json?city=<span class="string">' + this.city).then(this.getHomeInfoSucc)</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    getHomeInfoSucc (res) &#123;</span></span><br><span class="line"><span class="string">      res = res.data</span></span><br><span class="line"><span class="string">      if (res.ret &amp;&amp; res.data) &#123;</span></span><br><span class="line"><span class="string">        const data = res.data</span></span><br><span class="line"><span class="string">        this.swiperList = data.swiperList</span></span><br><span class="line"><span class="string">        this.iconList = data.iconList</span></span><br><span class="line"><span class="string">        this.recommendList = data.recommendList</span></span><br><span class="line"><span class="string">        this.weekendList = data.weekendList</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  // 当使用了keep-alive，则会多出来一个生命周期函数，表示页面每次重新被显示的时候，activated会被执行</span></span><br><span class="line"><span class="string">  // 结合lastCity这个临时缓冲变量，实现首页代码性能优化的调整</span></span><br><span class="line"><span class="string">  activated () &#123;</span></span><br><span class="line"><span class="string">    if (this.lastCity !== this.city) &#123;</span></span><br><span class="line"><span class="string">      this.lastCity = this.city</span></span><br><span class="line"><span class="string">      this.getHomeInfo()</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;style&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br></pre></td></tr></table></figure>

<p>保存后，回到首页刷新，会发现HomeHeader也会单独加载一个js。</p>
<p>注意：app.js 很小的时候，不建议使用异步组件加载，当项目很大，app.js 至少超过1mb的时候，才使用异步组件加载。</p>
<p>所以对我们这个项目来说，可以恢复到修改前，不适用异步组件加载。</p>
<h2 id="Vue项目的打包与上线"><a href="#Vue项目的打包与上线" class="headerlink" title="Vue项目的打包与上线"></a>Vue项目的打包与上线</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># vue的脚手架工具，会自动对src目录下的源代码进行打包编译，生成一个压缩的能被浏览器运行的代码，生成的代码在dist目录中</span></span></span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<p>如果想将生成代码放在某个目录下，则修改文件<code>config/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">build: &#123;</span><br><span class="line">    <span class="comment">// Template for index.html</span></span><br><span class="line">    index: path.resolve(__dirname, <span class="string">'../dist/index.html'</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Paths</span></span><br><span class="line">    assetsRoot: path.resolve(__dirname, <span class="string">'../dist'</span>),</span><br><span class="line">    assetsSubDirectory: <span class="string">'static'</span>,</span><br><span class="line">    <span class="comment">// 修改此处配置为对应的目录名称，如 “/project”, 然后重新执行 npm run build 进行打包重新构建引用关系，然后将生成的目录dist拉出来，修改dist目录名称为project, 将project目录上线即可</span></span><br><span class="line">    assetsPublicPath: <span class="string">'/'</span>,</span><br></pre></td></tr></table></figure>


    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Rui Zhang
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://yoursite.com/2023/10/16/Vue%E7%AC%94%E8%AE%B0/" title="Vue笔记">http://yoursite.com/2023/10/16/Vue笔记/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"># 前端</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/07/03/SparkCore%E7%AC%94%E8%AE%B0/" rel="prev" title="SparkCore笔记">
      <i class="fa fa-chevron-left"></i> SparkCore笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/03/26/Spark%E5%86%85%E6%A0%B8%E4%B8%8E%E6%BA%90%E7%A0%81/" rel="next" title="Spark内核与源码">
      Spark内核与源码 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前端设计模式"><span class="nav-number">1.</span> <span class="nav-text">前端设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#传统前端MVP设计模式"><span class="nav-number">1.1.</span> <span class="nav-text">传统前端MVP设计模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVVM设计模式"><span class="nav-number">1.2.</span> <span class="nav-text">MVVM设计模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-初探"><span class="nav-number">2.</span> <span class="nav-text">Vue 初探</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-组件"><span class="nav-number">3.</span> <span class="nav-text">Vue 组件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#父组件向子组件传值"><span class="nav-number">3.1.</span> <span class="nav-text">父组件向子组件传值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#子组件向父组件传值"><span class="nav-number">3.2.</span> <span class="nav-text">子组件向父组件传值</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-实例"><span class="nav-number">4.</span> <span class="nav-text">Vue 实例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-实例的生命周期"><span class="nav-number">5.</span> <span class="nav-text">Vue 实例的生命周期</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-模板语法"><span class="nav-number">6.</span> <span class="nav-text">Vue 模板语法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-计算属性、方法、侦听器"><span class="nav-number">7.</span> <span class="nav-text">Vue 计算属性、方法、侦听器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-计算属性的setter和getter"><span class="nav-number">8.</span> <span class="nav-text">Vue 计算属性的setter和getter</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-样式绑定"><span class="nav-number">9.</span> <span class="nav-text">Vue 样式绑定</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-条件渲染"><span class="nav-number">10.</span> <span class="nav-text">Vue 条件渲染</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-列表渲染"><span class="nav-number">11.</span> <span class="nav-text">Vue 列表渲染</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-的set方法"><span class="nav-number">12.</span> <span class="nav-text">Vue 的set方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#对象"><span class="nav-number">12.1.</span> <span class="nav-text">对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组"><span class="nav-number">12.2.</span> <span class="nav-text">数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-组件使用细节"><span class="nav-number">13.</span> <span class="nav-text">Vue 组件使用细节</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-父子组件传值"><span class="nav-number">14.</span> <span class="nav-text">Vue 父子组件传值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-组件参数校验与非Props特性"><span class="nav-number">15.</span> <span class="nav-text">Vue 组件参数校验与非Props特性</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-给组件绑定原生事件"><span class="nav-number">16.</span> <span class="nav-text">Vue 给组件绑定原生事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-给非父子组件传值"><span class="nav-number">17.</span> <span class="nav-text">Vue 给非父子组件传值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中使用插槽"><span class="nav-number">18.</span> <span class="nav-text">Vue 中使用插槽</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#旧方式"><span class="nav-number">18.1.</span> <span class="nav-text">旧方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#slot方式"><span class="nav-number">18.2.</span> <span class="nav-text">slot方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#具名插槽"><span class="nav-number">18.3.</span> <span class="nav-text">具名插槽</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中的作用域插槽"><span class="nav-number">19.</span> <span class="nav-text">Vue 中的作用域插槽</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-动态组件与v-once指令"><span class="nav-number">20.</span> <span class="nav-text">Vue 动态组件与v-once指令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中的CSS动画原理"><span class="nav-number">21.</span> <span class="nav-text">Vue 中的CSS动画原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中使用animate-css库"><span class="nav-number">22.</span> <span class="nav-text">Vue 中使用animate.css库</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中同时使用过渡动画和-keyframes动画"><span class="nav-number">23.</span> <span class="nav-text">Vue 中同时使用过渡动画和@keyframes动画</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中的JS动画与velocity-js"><span class="nav-number">24.</span> <span class="nav-text">Vue 中的JS动画与velocity.js</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中多个元素或组件的过渡"><span class="nav-number">25.</span> <span class="nav-text">Vue 中多个元素或组件的过渡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue-中的列表过渡"><span class="nav-number">26.</span> <span class="nav-text">Vue 中的列表过渡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue中的动画封装"><span class="nav-number">27.</span> <span class="nav-text">Vue中的动画封装</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#项目实践"><span class="nav-number">28.</span> <span class="nav-text">项目实践</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装与初始化"><span class="nav-number">28.1.</span> <span class="nav-text">安装与初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目目录介绍"><span class="nav-number">28.2.</span> <span class="nav-text">项目目录介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#脚手架代码详解"><span class="nav-number">28.3.</span> <span class="nav-text">脚手架代码详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多页面应用-VS-单页面应用"><span class="nav-number">28.4.</span> <span class="nav-text">多页面应用 VS 单页面应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目初始化工作"><span class="nav-number">28.5.</span> <span class="nav-text">项目初始化工作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#首页Header开发"><span class="nav-number">28.6.</span> <span class="nav-text">首页Header开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#iconfont的使用"><span class="nav-number">28.7.</span> <span class="nav-text">iconfont的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#样式引入与简化引入路径"><span class="nav-number">28.8.</span> <span class="nav-text">样式引入与简化引入路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#首页轮播图组件构建"><span class="nav-number">28.9.</span> <span class="nav-text">首页轮播图组件构建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#首页图标组件开发"><span class="nav-number">28.10.</span> <span class="nav-text">首页图标组件开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#热销推荐组件开发"><span class="nav-number">28.11.</span> <span class="nav-text">热销推荐组件开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#周末游组件开发"><span class="nav-number">28.12.</span> <span class="nav-text">周末游组件开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用axios进行ajax请求"><span class="nav-number">28.13.</span> <span class="nav-text">使用axios进行ajax请求</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#首页父子之间的传值"><span class="nav-number">28.14.</span> <span class="nav-text">首页父子之间的传值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#城市选择页面路由配置及页头开发"><span class="nav-number">28.15.</span> <span class="nav-text">城市选择页面路由配置及页头开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#搜索框布局"><span class="nav-number">28.16.</span> <span class="nav-text">搜索框布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#列表布局"><span class="nav-number">28.17.</span> <span class="nav-text">列表布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Better-scroll的使用及字母表布局"><span class="nav-number">28.18.</span> <span class="nav-text">Better-scroll的使用及字母表布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#页面的动态数据渲染"><span class="nav-number">28.19.</span> <span class="nav-text">页面的动态数据渲染</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#兄弟组件间联动"><span class="nav-number">28.20.</span> <span class="nav-text">兄弟组件间联动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#列表切换性能优化"><span class="nav-number">28.21.</span> <span class="nav-text">列表切换性能优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#搜索功能实现"><span class="nav-number">28.22.</span> <span class="nav-text">搜索功能实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用Vuex实现数据共享"><span class="nav-number">28.23.</span> <span class="nav-text">使用Vuex实现数据共享</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用keep-alive-vue内置标签优化网页性能"><span class="nav-number">28.24.</span> <span class="nav-text">使用keep-alive vue内置标签优化网页性能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#详情页动态路由及banner布局"><span class="nav-number">28.25.</span> <span class="nav-text">详情页动态路由及banner布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#公共图片画廊组件拆分"><span class="nav-number">28.26.</span> <span class="nav-text">公共图片画廊组件拆分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现Header渐隐渐现效果"><span class="nav-number">28.27.</span> <span class="nav-text">实现Header渐隐渐现效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对全局事件的解绑"><span class="nav-number">28.28.</span> <span class="nav-text">对全局事件的解绑</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用递归组件实现详情页列表"><span class="nav-number">28.29.</span> <span class="nav-text">使用递归组件实现详情页列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用ajax获取动态数据"><span class="nav-number">28.30.</span> <span class="nav-text">使用ajax获取动态数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在项目中加入基础动画"><span class="nav-number">28.31.</span> <span class="nav-text">在项目中加入基础动画</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue项目的接口联调"><span class="nav-number">28.32.</span> <span class="nav-text">Vue项目的接口联调</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue项目的真机测试"><span class="nav-number">28.33.</span> <span class="nav-text">Vue项目的真机测试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异步组件实现按需加载"><span class="nav-number">28.34.</span> <span class="nav-text">异步组件实现按需加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vue项目的打包与上线"><span class="nav-number">28.35.</span> <span class="nav-text">Vue项目的打包与上线</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Rui Zhang"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">Rui Zhang</p>
  <div class="site-description" itemprop="description">不在沉默中爆发，就在沉默中灭亡</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rui Zhang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">25:10</span>
</div>




        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":120,"height":230},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
