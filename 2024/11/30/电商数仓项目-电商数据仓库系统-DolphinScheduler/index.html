<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="第1章 DolphinScheduler简介1.1 DolphinScheduler概述Apache DolphinScheduler是一个分布式、易扩展的可视化DAG工作流任务调度平台。致力于解决数据处理流程中错综复杂的依赖关系，使调度系统在数据处理流程中开箱即用。 1.2 DolphinScheduler核心架构DolphinScheduler的主要角色如下：">
<meta property="og:type" content="article">
<meta property="og:title" content="电商数仓项目-电商数据仓库系统-DolphinScheduler">
<meta property="og:url" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/index.html">
<meta property="og:site_name" content="没有尾巴的小驴">
<meta property="og:description" content="第1章 DolphinScheduler简介1.1 DolphinScheduler概述Apache DolphinScheduler是一个分布式、易扩展的可视化DAG工作流任务调度平台。致力于解决数据处理流程中错综复杂的依赖关系，使调度系统在数据处理流程中开箱即用。 1.2 DolphinScheduler核心架构DolphinScheduler的主要角色如下：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034529788.png">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps48.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps49.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps50.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps51.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps52.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps53.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps54.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps55.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps56.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps57.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps58.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps59.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps60.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps61.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps62.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps63.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps64.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps65.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps66.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps67.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps68.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034823045.png">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps70.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps71.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps72.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps73.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps74.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps75.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps76.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps77.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps78.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps79.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps80.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps81.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps82.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps83.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps84.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps85.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps86.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps87.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps88.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps89.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps90.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps91.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps92.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps93.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps94.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps95.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps96.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps97.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps98.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps99.jpg">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034922266.png">
<meta property="og:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps101.jpg">
<meta property="article:published_time" content="2024-11-29T19:25:26.000Z">
<meta property="article:modified_time" content="2025-06-25T08:08:46.419Z">
<meta property="article:author" content="Rui Zhang">
<meta property="article:tag" content="数仓">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034529788.png">

<link rel="canonical" href="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>电商数仓项目-电商数据仓库系统-DolphinScheduler | 没有尾巴的小驴</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">没有尾巴的小驴</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">记录生活</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">52</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/head.jpg">
      <meta itemprop="name" content="Rui Zhang">
      <meta itemprop="description" content="不在沉默中爆发，就在沉默中灭亡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="没有尾巴的小驴">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          电商数仓项目-电商数据仓库系统-DolphinScheduler
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-11-30 03:25:26" itemprop="dateCreated datePublished" datetime="2024-11-30T03:25:26+08:00">2024-11-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-25 16:08:46" itemprop="dateModified" datetime="2025-06-25T16:08:46+08:00">2025-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E4%BB%93/" itemprop="url" rel="index"><span itemprop="name">数仓</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>17k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>16 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="第1章-DolphinScheduler简介"><a href="#第1章-DolphinScheduler简介" class="headerlink" title="第1章 DolphinScheduler简介"></a>第1章 DolphinScheduler简介</h1><h2 id="1-1-DolphinScheduler概述"><a href="#1-1-DolphinScheduler概述" class="headerlink" title="1.1 DolphinScheduler概述"></a>1.1 DolphinScheduler概述</h2><p>Apache DolphinScheduler是一个分布式、易扩展的可视化DAG工作流任务调度平台。致力于解决数据处理流程中错综复杂的依赖关系，使调度系统在数据处理流程中开箱即用。</p>
<h2 id="1-2-DolphinScheduler核心架构"><a href="#1-2-DolphinScheduler核心架构" class="headerlink" title="1.2 DolphinScheduler核心架构"></a>1.2 DolphinScheduler核心架构</h2><p>DolphinScheduler的主要角色如下：</p>
<p>MasterServer采用分布式无中心设计理念，MasterServer主要负责 DAG 任务切分、任务提交、任务监控，并同时监听其它MasterServer和WorkerServer的健康状态。</p>
<p>WorkerServer也采用分布式无中心设计理念，WorkerServer主要负责任务的执行和提供日志服务。</p>
<p>ZooKeeper服务，系统中的MasterServer和WorkerServer节点都通过ZooKeeper来进行集群管理和容错。</p>
<p>Alert服务，提供告警相关服务。</p>
<p>API接口层，主要负责处理前端UI层的请求。</p>
<p>UI，系统的前端页面，提供系统的各种可视化操作界面。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034529788.png" alt="image-20241130034529788"></p>
<h1 id="第2章-DolphinScheduler部署说明"><a href="#第2章-DolphinScheduler部署说明" class="headerlink" title="第2章 DolphinScheduler部署说明"></a>第2章 DolphinScheduler部署说明</h1><h2 id="2-1-软硬件环境要求"><a href="#2-1-软硬件环境要求" class="headerlink" title="2.1 软硬件环境要求"></a>2.1 软硬件环境要求</h2><h3 id="2-1-1-操作系统版本要求"><a href="#2-1-1-操作系统版本要求" class="headerlink" title="2.1.1 操作系统版本要求"></a>2.1.1 操作系统版本要求</h3><table>
<thead>
<tr>
<th>操作系统</th>
<th>版本</th>
</tr>
</thead>
<tbody><tr>
<td>Red Hat Enterprise Linux</td>
<td>7.0 及以上</td>
</tr>
<tr>
<td>CentOS</td>
<td>7.0 及以上</td>
</tr>
<tr>
<td>Oracle Enterprise Linux</td>
<td>7.0 及以上</td>
</tr>
<tr>
<td>Ubuntu LTS</td>
<td>16.04 及以上</td>
</tr>
</tbody></table>
<h3 id="2-1-2-服务器硬件要求"><a href="#2-1-2-服务器硬件要求" class="headerlink" title="2.1.2 服务器硬件要求"></a>2.1.2 服务器硬件要求</h3><table>
<thead>
<tr>
<th>CPU</th>
<th>内存</th>
<th>硬盘类型</th>
<th>网络</th>
<th>实例数量</th>
</tr>
</thead>
<tbody><tr>
<td>4核+</td>
<td>8 GB+</td>
<td>SAS</td>
<td>千兆网卡</td>
<td>1+</td>
</tr>
</tbody></table>
<h2 id="2-2-部署模式"><a href="#2-2-部署模式" class="headerlink" title="2.2 部署模式"></a>2.2 部署模式</h2><p>DolphinScheduler支持多种部署模式，包括单机模式（Standalone）、伪集群模式（Pseudo-Cluster）、集群模式（Cluster）等。</p>
<h3 id="2-2-1-单机模式"><a href="#2-2-1-单机模式" class="headerlink" title="2.2.1 单机模式"></a>2.2.1 单机模式</h3><p>单机模式（standalone）模式下，所有服务均集中于一个StandaloneServer进程中，并且其中内置了注册中心Zookeeper和数据库H2。只需配置JDK环境，就可一键启动DolphinScheduler，快速体验其功能。</p>
<h3 id="2-2-2-伪集群模式"><a href="#2-2-2-伪集群模式" class="headerlink" title="2.2.2 伪集群模式"></a>2.2.2 伪集群模式</h3><p>伪集群模式（Pseudo-Cluster）是在单台机器部署 DolphinScheduler 各项服务，该模式下master、worker、api server、logger server等服务都只在同一台机器上。Zookeeper和数据库需单独安装并进行相应配置。</p>
<h3 id="2-2-3-集群模式"><a href="#2-2-3-集群模式" class="headerlink" title="2.2.3 集群模式"></a>2.2.3 集群模式</h3><p>集群模式（Cluster）与伪集群模式的区别就是在多台机器部署 DolphinScheduler各项服务，并且Master、Worker等服务可配置多个。</p>
<h1 id="第3章-DolphinScheduler集群模式部署"><a href="#第3章-DolphinScheduler集群模式部署" class="headerlink" title="第3章 DolphinScheduler集群模式部署"></a>第3章 DolphinScheduler集群模式部署</h1><h2 id="3-1-集群规划"><a href="#3-1-集群规划" class="headerlink" title="3.1 集群规划"></a>3.1 集群规划</h2><p>集群模式下，可配置多个Master及多个Worker。通常可配置2~3个Master，若干个Worker。由于集群资源有限，此处配置一个Master，三个Worker，集群规划如下。</p>
<table>
<thead>
<tr>
<th>hadoop102</th>
<th>master、worker</th>
</tr>
</thead>
<tbody><tr>
<td>hadoop103</td>
<td>worker</td>
</tr>
<tr>
<td>hadoop104</td>
<td>worker</td>
</tr>
</tbody></table>
<h2 id="3-2-前置准备工作"><a href="#3-2-前置准备工作" class="headerlink" title="3.2 前置准备工作"></a>3.2 前置准备工作</h2><p>（1）三台节点均需部署JDK（1.8+），并配置相关环境变量。</p>
<p>（2）需部署数据库，支持MySQL（5.7+）或者PostgreSQL（8.2.15+）。</p>
<p>（3）需部署Zookeeper（3.4.6+）。</p>
<p>（4）如果启用 HDFS 文件系统，则需要 Hadoop（2.6+）环境。</p>
<p>（5）三台节点均需安装进程树分析工具psmisc。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 ~]$ sudo yum install -y psmisc</span><br><span class="line">[atguigu@hadoop103 ~]$ sudo yum install -y psmisc</span><br><span class="line">[atguigu@hadoop104 ~]$ sudo yum install -y psmisc</span><br></pre></td></tr></table></figure>

<h2 id="3-3-解压DolphinScheduler安装包"><a href="#3-3-解压DolphinScheduler安装包" class="headerlink" title="3.3 解压DolphinScheduler安装包"></a>3.3 解压DolphinScheduler安装包</h2><p>（1）上传DolphinScheduler安装包到hadoop102节点的/opt/software目录</p>
<p>（2）解压安装包到当前目录</p>
<p>注：解压目录并非最终的安装目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 software]$ tar -zxvf apache-dolphinscheduler-2.0.5-bin</span><br></pre></td></tr></table></figure>

<h2 id="3-4-创建元数据库及用户"><a href="#3-4-创建元数据库及用户" class="headerlink" title="3.4 创建元数据库及用户"></a>3.4 创建元数据库及用户</h2><p>DolphinScheduler 元数据存储在关系型数据库中，故需创建相应的数据库和用户。</p>
<p>（1）创建数据库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> CREATE DATABASE dolphinscheduler DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;</span></span><br></pre></td></tr></table></figure>

<p>（2）创建用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> CREATE USER <span class="string">'dolphinscheduler'</span>@<span class="string">'%'</span> IDENTIFIED BY <span class="string">'dolphinscheduler'</span>;</span></span><br></pre></td></tr></table></figure>

<p>注：</p>
<p>若出现以下错误信息，表明新建用户的密码过于简单。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1819 (HY000): Your password does not satisfy the current policy requirements</span><br></pre></td></tr></table></figure>

<p>可提高密码复杂度或者执行以下命令降低MySQL密码强度级别。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> <span class="built_in">set</span> global validate_password_policy=0;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> <span class="built_in">set</span> global validate_password_length=4;</span></span><br></pre></td></tr></table></figure>

<p>（3）赋予用户相应权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> GRANT ALL PRIVILEGES ON dolphinscheduler. TO <span class="string">'dolphinscheduler'</span>@<span class="string">'%'</span>;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> flush privileges;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-5-配置一键部署脚本"><a href="#3-5-配置一键部署脚本" class="headerlink" title="3.5 配置一键部署脚本"></a>3.5 配置一键部署脚本</h2><p>修改解压目录下的conf/config目录下的install_config.conf文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 apache-dolphinscheduler-2.0.5-bin]$ vim conf/config/install_config.conf</span><br></pre></td></tr></table></figure>

<p>修改内容如下。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Licensed to the Apache Software Foundation (ASF) under one or more</span></span><br><span class="line"><span class="comment"># contributor license agreements.  See the NOTICE file distributed with</span></span><br><span class="line"><span class="comment"># this work for additional information regarding copyright ownership.</span></span><br><span class="line"><span class="comment"># The ASF licenses this file to You under the Apache License, Version 2.0</span></span><br><span class="line"><span class="comment"># (the "License"); you may not use this file except in compliance with</span></span><br><span class="line"><span class="comment"># the License.  You may obtain a copy of the License at</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     http://www.apache.org/licenses/LICENSE-2.0</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Unless required by applicable law or agreed to in writing, software</span></span><br><span class="line"><span class="comment"># distributed under the License is distributed on an "AS IS" BASIS,</span></span><br><span class="line"><span class="comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span><br><span class="line"><span class="comment"># See the License for the specific language governing permissions and</span></span><br><span class="line"><span class="comment"># limitations under the License.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># INSTALL MACHINE</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># A comma separated list of machine hostname or IP would be installed DolphinScheduler,</span></span><br><span class="line"><span class="comment"># including master, worker, api, alert. If you want to deploy in pseudo-distributed</span></span><br><span class="line"><span class="comment"># mode, just write a pseudo-distributed hostname</span></span><br><span class="line"><span class="comment"># Example for hostnames: ips="ds1,ds2,ds3,ds4,ds5", Example for IPs: ips="192.168.8.1,192.168.8.2,192.168.8.3,192.168.8.4,192.168.8.5"</span></span><br><span class="line"><span class="attr">ips</span>=<span class="string">"hadoop102,hadoop103,hadoop104" </span></span><br><span class="line"><span class="comment"># 将要部署任一 DolphinScheduler 服务的服务器主机名或 ip 列表</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Port of SSH protocol, default value is 22. For now we only support same port in all `ips` machine</span></span><br><span class="line"><span class="comment"># modify it if you use different ssh port</span></span><br><span class="line"><span class="attr">sshPort</span>=<span class="string">"22"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A comma separated list of machine hostname or IP would be installed Master server, it</span></span><br><span class="line"><span class="comment"># must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="comment"># Example for hostnames: masters="ds1,ds2", Example for IPs: masters="192.168.8.1,192.168.8.2"</span></span><br><span class="line"><span class="attr">masters</span>=<span class="string">"hadoop102" </span></span><br><span class="line"><span class="comment"># master 所在主机名列表，必须是 ips 的子集</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A comma separated list of machine &lt;hostname&gt;:&lt;workerGroup&gt; or &lt;IP&gt;:&lt;workerGroup&gt;.All hostname or IP must be a</span></span><br><span class="line"><span class="comment"># subset of configuration `ips`, And workerGroup have default value as `default`, but we recommend you declare behind the hosts</span></span><br><span class="line"><span class="comment"># Example for hostnames: workers="ds1:default,ds2:default,ds3:default", Example for IPs: workers="192.168.8.1:default,192.168.8.2:default,192.168.8.3:default"</span></span><br><span class="line"><span class="attr">workers</span>=<span class="string">"hadoop102:default,hadoop103:default,hadoop104:default" </span></span><br><span class="line"><span class="comment"># worker主机名及队列，此处的 ip 必须在 ips 列表中</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A comma separated list of machine hostname or IP would be installed Alert server, it</span></span><br><span class="line"><span class="comment"># must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="comment"># Example for hostname: alertServer="ds3", Example for IP: alertServer="192.168.8.3"</span></span><br><span class="line"><span class="attr">alertServer</span>=<span class="string">"hadoop102"</span></span><br><span class="line"><span class="comment"># 告警服务所在服务器主机名</span></span><br><span class="line"><span class="comment"># A comma separated list of machine hostname or IP would be installed API server, it</span></span><br><span class="line"><span class="comment"># must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="comment"># Example for hostname: apiServers="ds1", Example for IP: apiServers="192.168.8.1"</span></span><br><span class="line"><span class="attr">apiServers</span>=<span class="string">"hadoop102"</span></span><br><span class="line"><span class="comment"># api服务所在服务器主机名</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A comma separated list of machine hostname or IP would be installed Python gateway server, it</span></span><br><span class="line"><span class="comment"># must be a subset of configuration `ips`.</span></span><br><span class="line"><span class="comment"># Example for hostname: pythonGatewayServers="ds1", Example for IP: pythonGatewayServers="192.168.8.1"</span></span><br><span class="line"><span class="comment"># pythonGatewayServers="ds1" </span></span><br><span class="line"><span class="comment"># 不需要的配置项，可以保留默认值，也可以用 # 注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The directory to install DolphinScheduler for all machine we config above. It will automatically be created by `install.sh` script if not exists.</span></span><br><span class="line"><span class="comment"># Do not set this configuration same as the current path (pwd)</span></span><br><span class="line"><span class="attr">installPath</span>=<span class="string">"/opt/module/dolphinscheduler"</span></span><br><span class="line"><span class="comment"># DS 安装路径，如果不存在会创建</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The user to deploy DolphinScheduler for all machine we config above. For now user must create by yourself before running `install.sh`</span></span><br><span class="line"><span class="comment"># script. The user needs to have sudo privileges and permissions to operate hdfs. If hdfs is enabled than the root directory needs</span></span><br><span class="line"><span class="comment"># to be created by this user</span></span><br><span class="line"><span class="attr">deployUser</span>=<span class="string">"atguigu"</span></span><br><span class="line"><span class="comment"># 部署用户，任务执行服务是以 sudo -u &#123;linux-user&#125; 切换不同 Linux 用户的方式来实现多租户运行作业，因此该用户必须有免密的 sudo 权限。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The directory to store local data for all machine we config above. Make sure user `deployUser` have permissions to read and write this directory.</span></span><br><span class="line"><span class="attr">dataBasedirPath</span>=<span class="string">"/tmp/dolphinscheduler"</span></span><br><span class="line"><span class="comment"># 前文配置的所有节点的本地数据存储路径，需要确保部署用户拥有该目录的读写权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># DolphinScheduler ENV</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># JAVA_HOME, we recommend use same JAVA_HOME in all machine you going to install DolphinScheduler</span></span><br><span class="line"><span class="comment"># and this configuration only support one parameter so far.</span></span><br><span class="line"><span class="attr">javaHome</span>=<span class="string">"/opt/module/jdk1.8.0_212"</span></span><br><span class="line"><span class="comment"># JAVA_HOME 路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># DolphinScheduler API service port, also this is your DolphinScheduler UI component's URL port, default value is 12345</span></span><br><span class="line"><span class="attr">apiServerPort</span>=<span class="string">"12345"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Database</span></span><br><span class="line"><span class="comment"># NOTICE: If database value has special characters, such as `.*[]^$&#123;&#125;\+?|()@#&amp;`, Please add prefix `\` for escaping.</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># The type for the metadata database</span></span><br><span class="line"><span class="comment"># Supported values: ``postgresql``, ``mysql`, `h2``.</span></span><br><span class="line"><span class="comment"># 注意：数据库相关配置的 value 必须加引号，否则配置无法生效</span></span><br><span class="line"></span><br><span class="line"><span class="attr">DATABASE_TYPE</span>=<span class="string">"mysql"</span></span><br><span class="line"><span class="comment"># 数据库类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Spring datasource url, following &lt;HOST&gt;:&lt;PORT&gt;/&lt;database&gt;?&lt;parameter&gt; format, If you using mysql, you could use jdbc</span></span><br><span class="line"><span class="comment"># string jdbc:mysql://127.0.0.1:3306/dolphinscheduler?useUnicode=true&amp;characterEncoding=UTF-8 as example</span></span><br><span class="line"><span class="comment"># SPRING_DATASOURCE_URL=$&#123;SPRING_DATASOURCE_URL:-"jdbc:h2:mem:dolphinscheduler;MODE=MySQL;DB_CLOSE_DELAY=-1;DATABASE_TO_LOWER=true"&#125;</span></span><br><span class="line"><span class="attr">SPRING_DATASOURCE_URL</span>=<span class="string">"jdbc:mysql://hadoop102:3306/dolphinscheduler?useUnicode=true&amp;characterEncoding=UTF-8"</span></span><br><span class="line"><span class="comment"># 数据库 URL</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Spring datasource username</span></span><br><span class="line"><span class="comment"># SPRING_DATASOURCE_USERNAME=$&#123;SPRING_DATASOURCE_USERNAME:-"sa"&#125;</span></span><br><span class="line"><span class="attr">SPRING_DATASOURCE_USERNAME</span>=<span class="string">"dolphinscheduler"</span></span><br><span class="line"><span class="comment"># 数据库用户名</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Spring datasource password</span></span><br><span class="line"><span class="comment"># SPRING_DATASOURCE_PASSWORD=$&#123;SPRING_DATASOURCE_PASSWORD:-""&#125;</span></span><br><span class="line"><span class="attr">SPRING_DATASOURCE_PASSWORD</span>=<span class="string">"dolphinscheduler"</span></span><br><span class="line"><span class="comment"># 数据库密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Registry Server</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Registry Server plugin name, should be a substring of `registryPluginDir`, DolphinScheduler use this for verifying configuration consistency</span></span><br><span class="line"><span class="attr">registryPluginName</span>=<span class="string">"zookeeper"</span></span><br><span class="line"><span class="comment"># 注册中心插件名称，DS 通过注册中心来确保集群配置的一致性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Registry Server address.</span></span><br><span class="line"><span class="attr">registryServers</span>=<span class="string">"hadoop102:2181,hadoop103:2181,hadoop104:2181"</span></span><br><span class="line"><span class="comment"># 注册中心地址，即 Zookeeper 集群的地址</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Registry Namespace</span></span><br><span class="line"><span class="attr">registryNamespace</span>=<span class="string">"dolphinscheduler"</span></span><br><span class="line"><span class="comment"># DS 在 Zookeeper 的结点名称</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Worker Task Server</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Worker Task Server plugin dir. DolphinScheduler will find and load the worker task plugin jar package from this dir.</span></span><br><span class="line"><span class="attr">taskPluginDir</span>=<span class="string">"lib/plugin/task"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resource storage type: HDFS, S3, NONE</span></span><br><span class="line"><span class="attr">resourceStorageType</span>=<span class="string">"HDFS"	</span></span><br><span class="line"><span class="comment"># 资源存储类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resource store on HDFS/S3 path, resource file will store to this hdfs path, self configuration, please make sure the directory exists on hdfs and has read write permissions. "/dolphinscheduler" is recommended</span></span><br><span class="line"><span class="attr">resourceUploadPath</span>=<span class="string">"/dolphinscheduler"</span></span><br><span class="line"><span class="comment"># 资源上传路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if resourceStorageType is HDFS，defaultFS write namenode address，HA, you need to put core-site.xml and hdfs-site.xml in the conf directory.</span></span><br><span class="line"><span class="comment"># if S3，write S3 address，HA，for example ：s3a://dolphinscheduler，</span></span><br><span class="line"><span class="comment"># Note，S3 be sure to create the root directory /dolphinscheduler</span></span><br><span class="line"><span class="attr">defaultFS</span>=<span class="string">"hdfs://hadoop102:8020"</span></span><br><span class="line"><span class="comment"># 默认文件系统</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if resourceStorageType is S3, the following three configuration is required, otherwise please ignore</span></span><br><span class="line"><span class="attr">s3Endpoint</span>=<span class="string">"http://192.168.xx.xx:9010"</span></span><br><span class="line"><span class="attr">s3AccessKey</span>=<span class="string">"xxxxxxxxxx"</span></span><br><span class="line"><span class="attr">s3SecretKey</span>=<span class="string">"xxxxxxxxxx"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># resourcemanager port, the default value is 8088 if not specified</span></span><br><span class="line"><span class="attr">resourceManagerHttpAddressPort</span>=<span class="string">"8088"</span></span><br><span class="line"><span class="comment"># yarn RM http 访问端口</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if resourcemanager HA is enabled, please set the HA IPs; if resourcemanager is single node, keep this value empty</span></span><br><span class="line"><span class="attr">yarnHaIps</span>=<span class="string"></span></span><br><span class="line"><span class="comment"># Yarn RM 高可用 ip，若未启用 RM 高可用，则将该值置空</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if resourcemanager HA is enabled or not use resourcemanager, please keep the default value; If resourcemanager is single node, you only need to replace 'yarnIp1' to actual resourcemanager hostname</span></span><br><span class="line"><span class="attr">singleYarnIp</span>=<span class="string">"hadoop103"</span></span><br><span class="line"><span class="comment"># Yarn RM 主机名，若启用了 HA 或未启用 RM，保留默认值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># who has permission to create directory under HDFS/S3 root path</span></span><br><span class="line"><span class="comment"># <span class="doctag">Note:</span> if kerberos is enabled, please config hdfsRootUser=</span></span><br><span class="line"><span class="attr">hdfsRootUser</span>=<span class="string">"atguigu"</span></span><br><span class="line"><span class="comment"># 拥有 HDFS 根目录操作权限的用户</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># kerberos config</span></span><br><span class="line"><span class="comment"># whether kerberos starts, if kerberos starts, following four items need to config, otherwise please ignore</span></span><br><span class="line"><span class="attr">kerberosStartUp</span>=<span class="string">"false"</span></span><br><span class="line"><span class="comment"># kdc krb5 config file path</span></span><br><span class="line"><span class="attr">krb5ConfPath</span>=<span class="string">"$installPath/conf/krb5.conf"</span></span><br><span class="line"><span class="comment"># keytab username,watch out the @ sign should followd by \\</span></span><br><span class="line"><span class="attr">keytabUserName</span>=<span class="string">"hdfs-mycluster\\@ESZ.COM"</span></span><br><span class="line"><span class="comment"># username keytab path</span></span><br><span class="line"><span class="attr">keytabPath</span>=<span class="string">"$installPath/conf/hdfs.headless.keytab"</span></span><br><span class="line"><span class="comment"># kerberos expire time, the unit is hour</span></span><br><span class="line"><span class="attr">kerberosExpireTime</span>=<span class="string">"2"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use sudo or not</span></span><br><span class="line"><span class="attr">sudoEnable</span>=<span class="string">"true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># worker tenant auto create</span></span><br><span class="line"><span class="attr">workerTenantAutoCreate</span>=<span class="string">"false"</span></span><br></pre></td></tr></table></figure>

<h2 id="3-6-初始化数据库"><a href="#3-6-初始化数据库" class="headerlink" title="3.6 初始化数据库"></a>3.6 初始化数据库</h2><p>（1）拷贝MySQL驱动到DolphinScheduler的解压目录下的lib中，要求使用 MySQL JDBC Driver 8.0.16。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 apache-dolphinscheduler-2.0.5-bin]$ cp /opt/software/mysql-connector-java-8.0.16.jar lib/</span><br></pre></td></tr></table></figure>

<p>（2）执行数据库初始化脚本</p>
<p>数据库初始化脚本位于DolphinScheduler解压目录下的script目录中，即/opt/software/ds/apache-dolphinscheduler-2.0.5-bin/script/。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 apache-dolphinscheduler-2.0.5-bin]$ script/create-dolphinscheduler.sh</span><br></pre></td></tr></table></figure>

<h2 id="3-7-一键部署DolphinScheduler"><a href="#3-7-一键部署DolphinScheduler" class="headerlink" title="3.7 一键部署DolphinScheduler"></a>3.7 一键部署DolphinScheduler</h2><p>（1）启动Zookeeper集群</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 apache-dolphinscheduler-2.0.5-bin]$ zk.sh start</span><br></pre></td></tr></table></figure>

<p>（2）一键部署并启动DolphinScheduler</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 apache-dolphinscheduler-2.0.5-bin]$ ./install.sh</span><br></pre></td></tr></table></figure>

<p>（3）查看DolphinScheduler进程</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">--------- hadoop102 ----------</span><br><span class="line">29139 ApiApplicationServer</span><br><span class="line">28963 WorkerServer</span><br><span class="line">3332 QuorumPeerMain</span><br><span class="line">2100 DataNode</span><br><span class="line">28902 MasterServer</span><br><span class="line">29081 AlertServer</span><br><span class="line">1978 NameNode</span><br><span class="line">29018 LoggerServer</span><br><span class="line">2493 NodeManager</span><br><span class="line">29551 Jps</span><br><span class="line">--------- hadoop103 ----------</span><br><span class="line">29568 Jps</span><br><span class="line">29315 WorkerServer</span><br><span class="line">2149 NodeManager</span><br><span class="line">1977 ResourceManager</span><br><span class="line">2969 QuorumPeerMain</span><br><span class="line">29372 LoggerServer</span><br><span class="line">1903 DataNode</span><br><span class="line">--------- hadoop104 ----------</span><br><span class="line">1905 SecondaryNameNode</span><br><span class="line">27074 WorkerServer</span><br><span class="line">2050 NodeManager</span><br><span class="line">2630 QuorumPeerMain</span><br><span class="line">1817 DataNode</span><br><span class="line">27354 Jps</span><br><span class="line">27133 LoggerServer</span><br></pre></td></tr></table></figure>

<p>（4）访问DolphinScheduler UI</p>
<p>DolphinScheduler UI地址为<a href="http://hadoop102:12345/dolphinscheduler" target="_blank" rel="noopener">http://hadoop102:12345/dolphinscheduler</a></p>
<p>初始用户的用户名为：admin，密码为dolphinscheduler123</p>
<h2 id="3-8-DolphinScheduler启停命令"><a href="#3-8-DolphinScheduler启停命令" class="headerlink" title="3.8 DolphinScheduler启停命令"></a>3.8 DolphinScheduler启停命令</h2><p>DolphinScheduler的启停脚本均位于其安装目录的bin目录下。</p>
<p>1）一键启停所有服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/start-all.sh</span><br><span class="line">./bin/stop-all.sh</span><br></pre></td></tr></table></figure>

<p>注意同Hadoop的启停脚本进行区分。</p>
<p>2）启停 Master</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/dolphinscheduler-daemon.sh start master-server</span><br><span class="line">./bin/dolphinscheduler-daemon.sh stop master-server</span><br></pre></td></tr></table></figure>

<p>3）启停 Worker</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/dolphinscheduler-daemon.sh start worker-server</span><br><span class="line">./bin/dolphinscheduler-daemon.sh stop worker-server</span><br></pre></td></tr></table></figure>

<p>4）启停 Api</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/dolphinscheduler-daemon.sh start api-server</span><br><span class="line">./bin/dolphinscheduler-daemon.sh stop api-server</span><br></pre></td></tr></table></figure>

<p>5）启停 Logger</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/dolphinscheduler-daemon.sh start logger-server</span><br><span class="line">./bin/dolphinscheduler-daemon.sh stop logger-server</span><br></pre></td></tr></table></figure>

<p>6）启停 Alert</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/dolphinscheduler-daemon.sh start alert-server</span><br><span class="line">./bin/dolphinscheduler-daemon.sh stop alert-server</span><br></pre></td></tr></table></figure>

<h1 id="第4章-DolphinScheduler入门"><a href="#第4章-DolphinScheduler入门" class="headerlink" title="第4章 DolphinScheduler入门"></a>第4章 DolphinScheduler入门</h1><h2 id="4-1-安全中心配置"><a href="#4-1-安全中心配置" class="headerlink" title="4.1 安全中心配置"></a>4.1 安全中心配置</h2><p>安全中心主要有租户管理、用户管理、告警组管理、告警实例管理、Worker分组管理、Yarn 队列管理、环境管理、令牌管理等功能。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps48.jpg" alt="img"> </p>
<h3 id="4-1-1-Yarn-队列管理"><a href="#4-1-1-Yarn-队列管理" class="headerlink" title="4.1.1 Yarn 队列管理"></a>4.1.1 Yarn 队列管理</h3><p>队列是在执行spark、mapreduce等程序，需要用到“队列”参数时使用的。</p>
<p>此处的队列对应的是Yarn调度器的资源队列。故队列概念只对跑在Yarn上的任务类型有效。此处创建出的队列，可供后续任务进行选择。需要注意的是，在DolphinScheduler中创建队列，并不会影响到Yarn调度器的队列配置。</p>
<p>此处可不创建队列。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps49.jpg" alt="img"> </p>
<p>​    注：</p>
<p>Ø 名称：DS 执行任务时可以选择的队列名称。</p>
<p>Ø 队列值：与名称相对应的 Yarn 调度队列的名称。</p>
<h3 id="4-1-2-租户管理"><a href="#4-1-2-租户管理" class="headerlink" title="4.1.2 租户管理"></a>4.1.2 租户管理</h3><p>租户对应的是Linux的用户，用于worker提交作业所使用的用户。如果linux没有这个用户，默认情况下会导致任务运行失败。可以通过修改 worker.properties 配置文件中参数 worker.tenant.auto.create=true（默认值为 false）实现当 linux 用户不存在时自动创建该用户。worker.tenant.auto.create=true 参数会要求 worker 可以免密运行 sudo 命令。</p>
<p>此处创建一个atguigu租户，如下图。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps50.jpg" alt="img"> </p>
<p>注：</p>
<p>Ø 租户编码：租户编码是Linux上的用户，唯一，不能重复。</p>
<p>Ø 队列：该租户提交Yarn任务时的默认队列。</p>
<h3 id="4-1-3-用户管理"><a href="#4-1-3-用户管理" class="headerlink" title="4.1.3 用户管理"></a>4.1.3 用户管理</h3><p>用户对应的是DolphinScheduler的用户，用于登录DolphinScheduler。用户分管理员用户和普通用户。</p>
<p>管理员有授权和用户管理等权限，没有创建项目和工作流定义的操作的权限。</p>
<p>普通用户可以创建项目和对工作流定义的创建，编辑，执行等操作。</p>
<p>此处创建一个普通用户atguigu，如下图。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps51.jpg" alt="img"> </p>
<p>注：</p>
<p>Ø 用户名：DolphinScheduler登录账户</p>
<p>Ø 租户：该用户关联的租户</p>
<p>Ø 队列：默认为租户所关联的队列。</p>
<p>Ø 邮件、手机号：主要用于告警通知。</p>
<h3 id="4-1-4-告警实例管理与告警组管理"><a href="#4-1-4-告警实例管理与告警组管理" class="headerlink" title="4.1.4 告警实例管理与告警组管理"></a>4.1.4 告警实例管理与告警组管理</h3><p>告警实例与告警组用于任务运行成功或者失败之后的告警通知。一个告警组可包含多个告警实例，一个告警实例，需选择一个告警插件，并配置相应参数，目前支持的告警插件有电子邮件、钉钉、企业微信、飞书等。</p>
<p>此处暂不配置。</p>
<h3 id="4-1-5-Worker分组管理"><a href="#4-1-5-Worker分组管理" class="headerlink" title="4.1.5 Worker分组管理"></a>4.1.5 Worker分组管理</h3><p>一个Worker分组由多个Worker组成。在任务执行时，可以将任务分配给指定Worker组，由该组中的Worker节点执行该任务。每个Worker至少属于一个组，默认为default组。Worker所属分组可以调整，调整方式如下：</p>
<p>1）方式一</p>
<p>打开要设置分组的Worker节点上的worker.properties配置文件，修改worker.groups参数，worker.groups参数的值为该Worker节点对应的分组名称,默认为default，如果该worker节点属于多个分组，则多个分组名称以逗号隔开。</p>
<p>示例: </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">worker.groups=default,test</span><br></pre></td></tr></table></figure>

<p>2）方式二</p>
<p>在Web UI的安全中心的Workder分组管理中修改，如下图所示。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps52.jpg" alt="img"> </p>
<p>此处可不做配置。</p>
<h3 id="4-1-6-环境管理"><a href="#4-1-6-环境管理" class="headerlink" title="4.1.6 环境管理"></a>4.1.6 环境管理</h3><p>此处可配置Worker运行环境（任务运行时所需的环境变量），默认的运行环境由Worker节点中，dolphinscheduler安装目录下的conf/env/dolphinscheduler_env.sh决定。</p>
<p>创建环境的操作如下图所示，环境创建完毕之后，就可供Worker运行任务时选择。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps53.jpg" alt="img"> </p>
<p>​    注：</p>
<p>Ø 环境名称：用户自定义名称。</p>
<p>Ø 环境配置：与 dolphinscheduler_env.sh 配置格式相同。</p>
<p>Ø 详细描述：环境的详细描述，不能为空，否则无法创建</p>
<p>Ø Worker组：环境所属的 Worker 组。</p>
<p>此处暂不做配置。</p>
<h3 id="4-1-7-令牌管理"><a href="#4-1-7-令牌管理" class="headerlink" title="4.1.7 令牌管理"></a>4.1.7 令牌管理</h3><p>令牌用于通过接口访问DolphinScheduler各项服务时的用户验证。普通用户通过UI页面访问各项服务时，无需使用令牌。若需将DolphinScheduler与第三方服务进行集成，则需调用其接口，此时需使用令牌。</p>
<h2 id="4-2-项目管理"><a href="#4-2-项目管理" class="headerlink" title="4.2 项目管理"></a>4.2 项目管理</h2><h3 id="4-2-1-切换用户"><a href="#4-2-1-切换用户" class="headerlink" title="4.2.1 切换用户"></a>4.2.1 切换用户</h3><p>默认不使用管理员用户操作项目和工作流等，故需先切换到普通用户atguigu。</p>
<p>1）admin用户退出</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps54.jpg" alt="img"> </p>
<p>2）使用atguigu用户登录</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps55.jpg" alt="img"> </p>
<h3 id="4-2-2-创建项目"><a href="#4-2-2-创建项目" class="headerlink" title="4.2.2 创建项目"></a>4.2.2 创建项目</h3><p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps56.jpg" alt="img"> </p>
<h3 id="4-2-3-查看项目"><a href="#4-2-3-查看项目" class="headerlink" title="4.2.3 查看项目"></a>4.2.3 查看项目</h3><p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps57.jpg" alt="img"> </p>
<h2 id="4-3-工作流基础配置"><a href="#4-3-工作流基础配置" class="headerlink" title="4.3 工作流基础配置"></a>4.3 工作流基础配置</h2><p>下图为工作流配置页面，共包含三个模快，分别为工作流定义、工作流实例和任务实例。</p>
<p>工作流定义：用于定义工作流，包括工作流各节点任务详情及各节点依赖关系等。</p>
<p>工作流实例：工作流每执行一次就会生成一个工作流实例。此处可查看正在运行的工作流以及已经完成的工作流。</p>
<p>任务实例：工作流中的一个节点任务，每执行一次就会生成一个任务实例。此处可用于查看正在执行的节点任务以及已经完成的节点任务。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps58.jpg" alt="img"> </p>
<h3 id="4-3-1-工作流定义"><a href="#4-3-1-工作流定义" class="headerlink" title="4.3.1 工作流定义"></a>4.3.1 工作流定义</h3><p>工作流要求：工作流需包含三个Shell类型的任务节点，分别是A，B，C。三个任务的依赖关系如下图所示：</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps59.jpg" alt="img"> </p>
<p>1）创建工作流</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps60.jpg" alt="img"> </p>
<p>2）配置任务节点</p>
<p>（1）节点A</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps61.jpg" alt="img"> </p>
<p>（2）节点B</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps62.jpg" alt="img"> </p>
<p>（3）节点C</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps63.jpg" alt="img"> </p>
<p>3）配置任务节点的依赖关系</p>
<p>配置依赖的关系的方式如下两种：</p>
<p>（1）直接对 DAG 图进行拖拽操作</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps64.jpg" alt="img"> </p>
<p>（2）在节点设置中选择 “前置任务”</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps65.jpg" alt="img"> </p>
<p>4）保存工作流定义</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps66.jpg" alt="img"> </p>
<h3 id="4-3-2-执行工作流"><a href="#4-3-2-执行工作流" class="headerlink" title="4.3.2 执行工作流"></a>4.3.2 执行工作流</h3><p>1）上线工作流</p>
<p>工作流须上线之后才能执行。处于上线状态的工作流定义不可修改，如需修改，须先下线。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps67.jpg" alt="img"> </p>
<p>2）单次运行工作流</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps68.jpg" alt="img"></p>
<p>3）定时执行工作流</p>
<p>（1）点击定时</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034823045.png" alt="image-20241130034823045"> </p>
<p>（2）配置定时规则 </p>
<p>此处示例为每分钟执行一次</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps70.jpg" alt="img"> </p>
<p>（3）定时管理</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps71.jpg" alt="img"> </p>
<p>（4）定时上线</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps72.jpg" alt="img"> </p>
<h3 id="4-3-3-查看工作流实例"><a href="#4-3-3-查看工作流实例" class="headerlink" title="4.3.3 查看工作流实例"></a>4.3.3 查看工作流实例</h3><p>1）查看所有工作流实例</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps73.jpg" alt="img"> </p>
<p>2）查看工作流执行状态</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps74.jpg" alt="img"> </p>
<h3 id="4-3-4-查看任务实例"><a href="#4-3-4-查看任务实例" class="headerlink" title="4.3.4 查看任务实例"></a>4.3.4 查看任务实例</h3><p>1）查看所有任务实例</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps75.jpg" alt="img"> </p>
<p>2）查看任务实例日志</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps76.jpg" alt="img"> </p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps77.jpg" alt="img"></p>
<h1 id="第5章-DolphinScheduler进阶"><a href="#第5章-DolphinScheduler进阶" class="headerlink" title="第5章 DolphinScheduler进阶"></a>第5章 DolphinScheduler进阶</h1><h2 id="5-1-工作流传参"><a href="#5-1-工作流传参" class="headerlink" title="5.1 工作流传参"></a>5.1 工作流传参</h2><h3 id="5-1-1-本地参数和全局参数"><a href="#5-1-1-本地参数和全局参数" class="headerlink" title="5.1.1 本地参数和全局参数"></a>5.1.1 本地参数和全局参数</h3><p>DolphinScheduler支持对任务节点进行灵活的传参，任务节点可通过${参数名}引用参数值。</p>
<p>1）本地参数</p>
<p>本地参数是指只针对单个任务节点有效的参数。</p>
<p>（1）修改helloworld工作流Node-A节点如下</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps78.jpg" alt="img"> </p>
<p>Ø dt：参数名</p>
<p>Ø IN/OUT：IN表示向当前节点传参，OUT表示向下游节点传参</p>
<p>Ø DATE：参数值类型</p>
<p>Ø 2020-06-14：参数值</p>
<p>（2）保存工作流并运行，查看Node-A输出日志。</p>
<p>2）全局参数</p>
<p>全局参数是指针对整个工作流的所有任务节点都有效的参数。</p>
<p>（1）修改helloworld工作流每个任务节点如下</p>
<p>节点A配置</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps79.jpg" alt="img"> </p>
<p>节点B配置</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps80.jpg" alt="img"> </p>
<p>节点C配置</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps81.jpg" alt="img"> </p>
<p>（2）保存工作流，并设置全局参数</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps82.jpg" alt="img"> </p>
<p>（3）执行工作流，查看三个任务节点输出日志。</p>
<h3 id="5-1-2-参数传递"><a href="#5-1-2-参数传递" class="headerlink" title="5.1.2 参数传递"></a>5.1.2 参数传递</h3><p>DolphinScheduler支持上游任务节点向下游任务节点传参。目前支持这个特性的任务类型有：Shell、SQL、Procedure。以下案例使用Shell类型的任务节点进行演示。</p>
<p>1）设置上游节点Node-A</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps83.jpg" alt="img"> </p>
<p>注：echo ‘${setValue(key=value)}’为固定写法</p>
<p>2）设置下游节点Node-C</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps84.jpg" alt="img"> </p>
<p>3）查看输出日志</p>
<p>可以看到对应节点日志中输出了其调用参数的值。 </p>
<h3 id="5-1-3-参数优先级"><a href="#5-1-3-参数优先级" class="headerlink" title="5.1.3 参数优先级"></a>5.1.3 参数优先级</h3><p>一个任务节点引用的参数可能来自三种类型：分别是全局参数 、上游任务传递的参数、本地参数。因为参数的值存在多个来源，当参数名相同时，就需要考虑参数优先级的问题。DolphinScheduler 参数的优先级从低到高为：全局参数 &lt;上游任务传递的参数 &lt;本地参数。</p>
<p>在上游任务传递的参数的情况下，由于上游可能存在多个任务向下游传递参数。当上游传递的参数名称相同时：</p>
<p>下游节点会优先使用值为非空的参数。</p>
<p>如果存在多个值为非空的参数，则按照上游任务的完成时间排序，选择完成时间最早的上游任务对应的参数。</p>
<h3 id="5-1-4-内置参数"><a href="#5-1-4-内置参数" class="headerlink" title="5.1.4 内置参数"></a>5.1.4 内置参数</h3><p>DolphinScheduler提供了一些时间相关的系统参数，方便定时调度使用。</p>
<p>1）基础内置参数</p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>system.biz.date</td>
<td>${system.biz.date}</td>
<td>定时时间前一天，格式为 yyyyMMdd</td>
</tr>
<tr>
<td>system.biz.curdate</td>
<td>${system.biz.curdate}</td>
<td>定时时间，格式为 yyyyMMdd</td>
</tr>
<tr>
<td>system.datetime</td>
<td>${system.datetime}</td>
<td>定时时间，格式为 yyyyMMddHHmmss</td>
</tr>
</tbody></table>
<p>2）衍生内置参数</p>
<p>可通过衍生内置参数，设置任意格式、任意时间的日期。</p>
<p>（1）自定义日期格式</p>
<p>可以对 $[yyyyMMddHHmmss] 任意分解组合，如 $[yyyyMMdd], $[HHmmss], $[yyyy-MM-dd]。</p>
<p>（2）使用 add_months() 函数</p>
<p>该函数用于加减月份， 第一个入口参数为[yyyyMMdd]，表示返回时间的格式 第二个入口参数为月份偏移量，表示加减多少个月。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$[add_months(yyyyMMdd,12N)]</td>
<td>后 N 年</td>
</tr>
<tr>
<td>$[add_months(yyyyMMdd,-12N)]</td>
<td>前 N 年</td>
</tr>
<tr>
<td>$[add_months(yyyyMMdd,N)]</td>
<td>后 N 月</td>
</tr>
<tr>
<td>$[add_months(yyyyMMdd,-N)]</td>
<td>前 N 月</td>
</tr>
</tbody></table>
<p>（3）直接加减数字</p>
<p>在自定义格式后直接“+/-”数字，单位为“天”。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>$[yyyyMMdd+7N]</td>
<td>后 N 周</td>
</tr>
<tr>
<td>$[yyyyMMdd-7N]</td>
<td>前 N 周</td>
</tr>
<tr>
<td>$[yyyyMMdd+N]</td>
<td>后 N 天</td>
</tr>
<tr>
<td>$[yyyyMMdd-N]</td>
<td>前 N 天</td>
</tr>
<tr>
<td>$[HHmmss+N/24]</td>
<td>后 N 小时</td>
</tr>
<tr>
<td>$[HHmmss-N/24]</td>
<td>前 N 小时</td>
</tr>
<tr>
<td>$[HHmmss+N/24/60]</td>
<td>后 N 分钟</td>
</tr>
<tr>
<td>$[HHmmss-N/24/60]</td>
<td>前 N 分钟</td>
</tr>
</tbody></table>
<p>3）配置示例</p>
<p>若执行的脚本需要一个格式为yyyy-MM-dd的前一天日期的参数，进行如下配置即可。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps85.jpg" alt="img"> </p>
<h2 id="5-2-引用依赖资源"><a href="#5-2-引用依赖资源" class="headerlink" title="5.2 引用依赖资源"></a>5.2 引用依赖资源</h2><p>有些任务需要引用一些额外的资源，例如MR、Spark等任务须引用jar包，Shell任务需要引用其他脚本等。DolphinScheduler提供了资源中心来对这些资源进行统一管理。资源中心存储系统可选择本地文件系统或者HDFS等。资源中心除了提供文件资源管理功能，还提供了Hive自定义函数管理的功能。</p>
<p>下面以Shell任务为例，演示如何引用资源中心的其他脚本。</p>
<p>1）在资源中心创建脚本</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps86.jpg" alt="img"> </p>
<p>2）配置Shell任务引用脚本</p>
<p>修改工作流节点Node-A，引用上述脚本</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps87.jpg" alt="img"> </p>
<p>3）保存工作流并执行，查看对应节点输出日志。</p>
<h2 id="5-3-告警通知"><a href="#5-3-告警通知" class="headerlink" title="5.3 告警通知"></a>5.3 告警通知</h2><p>Dolphinscheduler支持多种告警媒介，此处以电子邮件为例进行演示。</p>
<p>1）准备邮箱</p>
<p>如需使用DolphinScheduler的电子邮件告警通知功能，需要准备一个电子邮箱账号，并启用SMTP服务。此处以 QQ 邮箱为例。</p>
<p>（1）开启 SMTP 服务</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps88.jpg" alt="img"> </p>
<p>拖动进度条在页面下方找到下图所示内容，开启 POP3/SMTP | IMAP/SMTP 任一服务即可。</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps89.jpg" alt="img"> </p>
<p>（2）获得授权码</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps90.jpg" alt="img"> </p>
<p>2）DolphinScheduler 配置</p>
<p>（1）切换管理员用户</p>
<p>（2）创建告警实例</p>
<p>第一步：点击创建告警实例</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps91.jpg" alt="img"> </p>
<p>第二步：编辑告警实例</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps92.jpg" alt="img"> </p>
<p>（3）创建告警组</p>
<p>第一步：点击创建告警组</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps93.jpg" alt="img"> </p>
<p>第二步：编辑告警组</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps94.jpg" alt="img"> </p>
<p>3）测试告警通知</p>
<p>（1）切换普通用户</p>
<p>（2）执行工作流测试</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps95.jpg" alt="img"> </p>
<p>（3）等待接受邮件</p>
<h2 id="5-4-工作流失败重跑"><a href="#5-4-工作流失败重跑" class="headerlink" title="5.4 工作流失败重跑"></a>5.4 工作流失败重跑</h2><p>若工作流执行到一半失败了，需要重新启动工作流。重新启动时可选择从起点开始执行，也可选择从断点开始执行。</p>
<p>1）模拟失败场景</p>
<p>（1）修改Node-A配置如下</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps96.jpg" alt="img"> </p>
<p>（2）修改资源中心的test.sh文件如下</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps97.jpg" alt="img"> </p>
<p>2）运行工作流</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps98.jpg" alt="img"> </p>
<p>3）查看工作流实例</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps99.jpg" alt="img"> </p>
<p>4）工作失败重跑</p>
<p>（1）从起点开始</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/image-20241130034922266.png" alt="image-20241130034922266"> </p>
<p>（2）从断点开始</p>
<p><img src="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/wps101.jpg" alt="img"> </p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Rui Zhang
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://yoursite.com/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-DolphinScheduler/" title="电商数仓项目-电商数据仓库系统-DolphinScheduler">http://yoursite.com/2024/11/30/电商数仓项目-电商数据仓库系统-DolphinScheduler/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E4%BB%93/" rel="tag"># 数仓</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/11/05/RabbitMQ%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="prev" title="RabbitMQ学习笔记">
      <i class="fa fa-chevron-left"></i> RabbitMQ学习笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/11/30/%E7%94%B5%E5%95%86%E6%95%B0%E4%BB%93%E9%A1%B9%E7%9B%AE-%E7%94%B5%E5%95%86%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%B3%BB%E7%BB%9F-Superset/" rel="next" title="电商数仓项目-电商数据仓库系统-Superset">
      电商数仓项目-电商数据仓库系统-Superset <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#第1章-DolphinScheduler简介"><span class="nav-number">1.</span> <span class="nav-text">第1章 DolphinScheduler简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-DolphinScheduler概述"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 DolphinScheduler概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-DolphinScheduler核心架构"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 DolphinScheduler核心架构</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第2章-DolphinScheduler部署说明"><span class="nav-number">2.</span> <span class="nav-text">第2章 DolphinScheduler部署说明</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-软硬件环境要求"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 软硬件环境要求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-1-操作系统版本要求"><span class="nav-number">2.1.1.</span> <span class="nav-text">2.1.1 操作系统版本要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-2-服务器硬件要求"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.1.2 服务器硬件要求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-部署模式"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 部署模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-单机模式"><span class="nav-number">2.2.1.</span> <span class="nav-text">2.2.1 单机模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-伪集群模式"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.2.2 伪集群模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-集群模式"><span class="nav-number">2.2.3.</span> <span class="nav-text">2.2.3 集群模式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第3章-DolphinScheduler集群模式部署"><span class="nav-number">3.</span> <span class="nav-text">第3章 DolphinScheduler集群模式部署</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-集群规划"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 集群规划</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-前置准备工作"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 前置准备工作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-解压DolphinScheduler安装包"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 解压DolphinScheduler安装包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-创建元数据库及用户"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 创建元数据库及用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-配置一键部署脚本"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 配置一键部署脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-初始化数据库"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 初始化数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-一键部署DolphinScheduler"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 一键部署DolphinScheduler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-8-DolphinScheduler启停命令"><span class="nav-number">3.8.</span> <span class="nav-text">3.8 DolphinScheduler启停命令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第4章-DolphinScheduler入门"><span class="nav-number">4.</span> <span class="nav-text">第4章 DolphinScheduler入门</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-安全中心配置"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 安全中心配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-1-Yarn-队列管理"><span class="nav-number">4.1.1.</span> <span class="nav-text">4.1.1 Yarn 队列管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-2-租户管理"><span class="nav-number">4.1.2.</span> <span class="nav-text">4.1.2 租户管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-3-用户管理"><span class="nav-number">4.1.3.</span> <span class="nav-text">4.1.3 用户管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-4-告警实例管理与告警组管理"><span class="nav-number">4.1.4.</span> <span class="nav-text">4.1.4 告警实例管理与告警组管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-5-Worker分组管理"><span class="nav-number">4.1.5.</span> <span class="nav-text">4.1.5 Worker分组管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-6-环境管理"><span class="nav-number">4.1.6.</span> <span class="nav-text">4.1.6 环境管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-7-令牌管理"><span class="nav-number">4.1.7.</span> <span class="nav-text">4.1.7 令牌管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-项目管理"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 项目管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-1-切换用户"><span class="nav-number">4.2.1.</span> <span class="nav-text">4.2.1 切换用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-2-创建项目"><span class="nav-number">4.2.2.</span> <span class="nav-text">4.2.2 创建项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-3-查看项目"><span class="nav-number">4.2.3.</span> <span class="nav-text">4.2.3 查看项目</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-工作流基础配置"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 工作流基础配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-1-工作流定义"><span class="nav-number">4.3.1.</span> <span class="nav-text">4.3.1 工作流定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-2-执行工作流"><span class="nav-number">4.3.2.</span> <span class="nav-text">4.3.2 执行工作流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-3-查看工作流实例"><span class="nav-number">4.3.3.</span> <span class="nav-text">4.3.3 查看工作流实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-4-查看任务实例"><span class="nav-number">4.3.4.</span> <span class="nav-text">4.3.4 查看任务实例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#第5章-DolphinScheduler进阶"><span class="nav-number">5.</span> <span class="nav-text">第5章 DolphinScheduler进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-工作流传参"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 工作流传参</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-1-本地参数和全局参数"><span class="nav-number">5.1.1.</span> <span class="nav-text">5.1.1 本地参数和全局参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-2-参数传递"><span class="nav-number">5.1.2.</span> <span class="nav-text">5.1.2 参数传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-3-参数优先级"><span class="nav-number">5.1.3.</span> <span class="nav-text">5.1.3 参数优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-4-内置参数"><span class="nav-number">5.1.4.</span> <span class="nav-text">5.1.4 内置参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-引用依赖资源"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 引用依赖资源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-告警通知"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 告警通知</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-工作流失败重跑"><span class="nav-number">5.4.</span> <span class="nav-text">5.4 工作流失败重跑</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Rui Zhang"
      src="/images/head.jpg">
  <p class="site-author-name" itemprop="name">Rui Zhang</p>
  <div class="site-description" itemprop="description">不在沉默中爆发，就在沉默中灭亡</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">52</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rui Zhang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">25:10</span>
</div>




        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":120,"height":230},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
